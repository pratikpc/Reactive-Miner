{"version":3,"sources":["components/utils/logo.png","components/clustering/fcmeans/figue.js","components/landing/github.png","components/landing/db.svg","components/landing/lr.png","components/landing/fuzzyc.png","components/landing/svm.png","components/landing/hc.png","components/landing/knn.svg","components/landing/pca.svg","components/landing/dt.svg","components/landing/kmeans.svg","components/utils/images/tensorflow.png","components/utils/images/react.jpg","components/utils/images/d3.png","components/utils/images/materialui.png","components/svm/libsvm.js","components/context/csv-context.js","components/utils/SideDrawer.js","components/utils/Header.js","components/utils/TitleBar.js","components/utils/Dashboard.js","components/linreg/utils.js","components/utils/LoadDataset.js","components/utils/Description.js","ML/utils.js","ML/linreg.js","components/utils/CsvReader.js","components/utils/CsvTable.js","components/linreg/LinearRegression.js","components/decisiontree/utils.js","components/decisiontree/DecisionTree.js","components/clustering/HC/hc-hook.js","components/clustering/HC/HierarchicalClustering.js","components/clustering/kmeans/Kmeans.js","components/svm/utils.js","components/svm/Svm.js","components/knn/visualization/defaults.js","components/knn/visualization/circle.js","components/knn/visualization/visualization.js","components/knn/algorithms/knn.js","components/knn/algorithms/machine-learning-algorithm.js","components/knn/visualization/knn-visualization.js","components/knn/KNN.js","components/pca/PCAnalysis.js","components/clustering/fcmeans/FCMeans.js","components/landing/LandingItem.js","components/landing/Landing.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","figue","euclidianDistance","vec1","vec2","N","length","d","i","Math","pow","sqrt","manhattanDistance","abs","maxDistance","max","addVectors","vec","Array","multiplyVectorByValue","value","v","repeatChar","c","n","str","calculateCentroid","c1Size","c1Centroid","c2Size","c2Centroid","newCentroid","newSize","centerString","width","diff","halfdiff","floor","putString","index","getRandomVectors","k","vectors","vector","select","selected_vectors","selected_indices","tested_indices","tested","selected","random_index","random","compare","Matrix","rows","cols","this","mtx","row","j","Node","label","left","right","dist","centroid","size","depth","SINGLE_LINKAGE","COMPLETE_LINKAGE","AVERAGE_LINKAGE","EUCLIDIAN_DISTANCE","MANHATTAN_DISTANCE","MAX_DISTANCE","PRINT_VECTOR_VALUE_PRECISION","KMEANS_MAX_ITERATIONS","FCMEANS_MAX_ITERATIONS","generateDendogram","tree","sep","balanced","withLabel","withCentroid","withDistance","lines","centroidstr","vals","precision","round","join","prettyVector","isLeaf","labelstr","String","len","push","distancestr","prettyValue","left_dendo","right_dendo","left_bar_ix","indexOf","right_bar_ix","bar_ix","hline","shortest","longest","header","toadd","splice","agglomerate","labels","distance","linkage","c1","c2","c1Cluster","c2Cluster","p","root","dMin","cSize","distMatrix","clusters","Infinity","newCluster","avg","kmeans","assignments","clusterSizes","repeat","nb_iters","centroids","t","mindist","Number","MAX_VALUE","best","newCentroids","cluster","fcmeans","epsilon","fuzziness","l","tmp","norm","membershipMatrix","previousMembershipMatrix","copy","prototype","toString","duplicate","slice","buildDendogram","testArr","SVM","options","makeRbfKernel","sigma","v1","v2","s","q","exp","linearKernel","train","data","C","tol","alphatol","maxiter","numpasses","kernel","kernelType","rbfSigma","rbfsigma","D","alpha","arr","zeros","b","usew_","memoize","kernelResults","a","iter","passes","alphaChanged","Ei","marginOne","ai","aj","Ej","L","H","min","eta","kernelResult","newaj","newai","b1","b2","w","newdata","newlabels","newalpha","trainstats","iters","inst","f","predictOne","margins","predict","margs","getWeights","toJSON","console","log","json","fromJSON","csvContext","createContext","csv","fetchCsv","useStyles","makeStyles","theme","display","button","margin","spacing","drawer","breakpoints","up","flexShrink","toolbar","mixins","drawerPaper","paddingTop","SideDrawer","props","history","useHistory","classes","useTheme","pushLink","link","handleDrawerToggle","ListItem","Typography","style","fontSize","fontWeight","color","Divider","List","onClick","ListItemText","primary","ListSubheader","component","window","location","href","paddingLeft","className","aria-label","Hidden","lgUp","Drawer","container","variant","anchor","direction","open","mobileOpen","onClose","paper","ModalProps","keepMounted","mdDown","appBar","zIndex","menuButton","marginRight","content","flexGrow","title","Header","useState","setMobileOpen","CssBaseline","AppBar","position","Toolbar","IconButton","edge","src","logo","height","alt","marginTop","children","TitleBar","Paper","background","padding","marginBottom","name","tags","map","tag","key","grid","media","cardHeight","maxWidth","textAlign","Dashboard","Grid","item","xs","sm","md","lg","Card","CardActionArea","CardMedia","image","require","CardContent","gutterBottom","CardActions","Button","Link","ReadCSV","url","delimiter","tfcore","tfdata","hasHeader","SetDifference","filter","x","includes","Zip","e","VisorStop","node","nodeV","document","getElementById","remove","RemoveNode","GemerateChartForLinearRegression","tab","y","preds","chart","values","GenerateChartForCluster","xIdx","yIdx","DrawBarChart","surface","tfvis","barchart","DrawScatterPlot","series","series_names","scatterplot","backgroundColor","fileButton","LoadDatasetDialog","useContext","datasets","Dialog","aria-labelledby","dataset","ListItemAvatar","Avatar","FOLDER_URL","loadCSV","ListItemSecondaryAction","process","LoadDataset","setOpen","datasetFiles","setDatasetFiles","useEffect","fetch","response","fetchDatasets","handleClickOpen","Description","contentRef","useRef","current","innerHTML","desc","fetchDescription","ref","NormalizeValRaw","tf","std","sub","div","NormalizeVar","val","pred","ScaleBackValRaw","mul","add","ScaleBackValWithTensor","ScaleBackVal","InputDimSize","tensor","shape","RootMeanSquareError","yTrue","yPred","meanSquaredError","FindArgMax","axis","valuesT","argMaxT","argMax","array","dispose","DisposeValue","DisposeValues","ConvertClusterIconsToData","clusterIds","ExtractSelectedLabels","selectedCols","results","kv","result","colName","ConvertCSVToRawArrays","labelCol","allCols","normalize","toArray","SplitIntoInputAndLabel","xT","yT","ConvertCSVToSingleArray","raw","rawV","ExtractInformation","x_raw","y_raw","MAX_SAFE_INTEGER","MIN_SAFE_INTEGER","CreateModel","outs","inputs","l1","l2","learningRate","regularizer","l1l2","model","dense","units","inputShape","kernelRegularizer","compile","loss","optimizer","sgd","metrics","Fit","xTrain","yTrain","OnEpochEndCallBack","_","epochs","batchSize","validationSplit","TensorDimSize","logs","fit","shuffle","callbacks","onEpochEnd","epoch","rms_loss","val_rms_loss","val_loss","Predict","args","PredictWithScaling","predT","scaledT","prediction","PredictDataset","preds_list","preds_raw","Promise","all","predsT","x_valsT","x_vals","y_valsT","y_vals","CsvReader","onDrop","accepted","rejected","links","preview","accept","multiple","CsvTable","columns","setColumns","setData","columnNames","Fetch","filterType","responsive","flexDirection","alignItems","formControl","selectEmpty","form","marginLeft","submit","lin_reg_cache","GetDataFromCSV","rowIdx","predCol","Utils","Object","keys","PredictValues","input","inputT","inputNormT","inputNorm","LinearRegressionApply","Perform","labelCols","inputCols","inputData","lossContainer","summary","modelSummary","LinearRegression","error","setError","setColumnNames","ycolumn","setYcolumn","predInput","setPredInput","setPrediction","performPred","setPerformedPred","LoadColumnNames","Alert","severity","enableReinitialize","initialValues","xColumns","selectedColumn","validate","errors","onSubmit","setSubmitting","xCols","Set","submitFormHandler","touched","handleChange","handleBlur","handleSubmit","isSubmitting","setFieldValue","column","FormControlLabel","control","Checkbox","checked","onChange","event","target","newArray","col","TextField","id","fullWidth","MenuItem","FormHelperText","type","onBlur","disabled","split","predictedValue","dt","DecisionTree","builder","buildDecisionTree","trainingSet","minItemsCount","categoryAttr","entropyThrehold","maxTreeDepth","ignoredAttributes","category","mostFrequentValue","initialEntropy","entropy","alreadyChecked","bestSplit","gain","attr","pivot","predicateName","attrPredPivot","predicate","predicates","currSplit","matchEntropy","match","notMatchEntropy","notMatch","newEntropy","currGain","attribute","matchSubTree","notMatchSubTree","matchedCount","notMatchedCount","arrayToHashSet","RandomForest","treesNumber","trees","items","trainingSets","forest","buildRandomForest","hashSet","countUniqueValues","counter","mostFrequentCount","predictRandomForest","minWidth","descDiv","borderDiv","borderBottom","dTree","setDTree","config","setConfig","details","predictionForm","setPredictionForm","dT","lastItem","reqCols","forEach","ignoreColumn","changeDetails","treeToHtml","Fragment","FormControl","Select","displayEmpty","inputProps","decisionTree","err","noValidate","autoComplete","startIcon","decisionTreePrediction","scrollTo","offsetTop","HierarchicalClustering","setLabel","dendoGram","space","params","param","text","innerText","FormLabel","RadioGroup","parseInt","Radio","PerformKMeans","maxIters","dataT","KMeans","maxIter","TrainAsync","__","Dispose","Kmeans","drawCircle","ctx","r","beginPath","arc","PI","closePath","stroke","fill","svmjs","Overview","NPGcanvas","labelColumn","setLabelColumn","scaleBetween","unscaledNum","minAllowed","maxAllowed","trainModel","scaled","unscaledNums","maxRange","apply","minRange","unscaled","svm","getContext","WIDTH","canvas","HEIGHT","draw","wb","ss","dirty","kernelid","rbfKernelSigma","svmC","clearRect","dec","fillStyle","fillRect","density","strokeStyle","lineWidth","moveTo","lineTo","ys","u","xi","yi","defaultOptions","rootNode","circleRadius","circleFill","circleStroke","Circle","cx","cy","radius","cssClass","Visualization","types","assign","xScale","createXScale","yScale","createYScale","isValidTypes","typeColorMap","mapTypesToColors","isValidData","mapDataToCircle","svgId","Date","now","svg","appendSVG","clickable","isArray","reduce","res","entries","entry","isValidCoordinate","isValidType","msg","Error","colorScale","d3","colorMap","hasOwnProperty","fillColor","getFillColor","targetId","querySelector","addEventListener","clickCallback","isValidEventTarget","newCircle","invert","offsetX","offsetY","callback","call","inputId","inputType","inputChangeCallback","elementName","attributes","el","createElement","setAttribute","childElements","settingsGroup","child","append","labelText","labelAttributes","inputValue","inputAttributes","span","inputLabel","textContent","appendChild","circle","domain","range","selectAll","enter","drawCircles","KNN","circles","weighted","kClosestNeighbors","neighbors","setDistance","calculateDistance","sort","compareDistance","typeDistance","neighbor","inverseDistance","counts","getCircleTypeWeighted","getCircleTypeUnweighted","findKClosestNeighbors","determineCircleType","KNNVisualization","knn","onClickSvg","svgClickCallback","setClickable","classifiedCircle","getClassifiedCircle","addCircle","boundingCircle","getBoundingCircle","drawConnectingLines","mapClosestNeighborsToConnectingLines","removeElementsAfterTransition","circleType","classify","setType","setCssClass","x1","x2","y1","y2","strokeWidth","connectingLines","transition","duration","typeColor","selector","that","on","removeElements","displayWidth","innerWidth","displayHeight","dataSetSize","setParams","getRandomInt","vis","ellipsoidOptions","A","B","rho","phi","rands","cos","sin","createRandomEllipsoidCoordinates","createRandomData","valuetext","paddingBottom","Slider","valueLabelDisplay","step","marks","getAriaValueText","newValue","PCA","PCAnalysis","threshold","setThreshold","pcaColumns","setPcaColumns","toggleColumn","trainPca","pca","arr1","getExplainedVariance","PerformFCMeans","assignedClusters","FCMeans","parseFloat","LandingItem","bgcolor","setBgcolor","show","setShow","onMouseEnter","onMouseLeave","Landing","minHeight","db","lr","hc","fuzzyc","github","createMuiTheme","customTheme","App","setCsv","useCallback","routes","path","exact","Svm","to","ThemeProvider","Provider","isLocalhost","Boolean","hostname","registerValidSW","swUrl","navigator","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","state","controller","onUpdate","onSuccess","catch","ReactDOM","render","URL","origin","headers","contentType","get","status","ready","unregister","reload","checkValidServiceWorker"],"mappings":"mFAAAA,EAAOC,QAAU,IAA0B,kC,yrBCA3C,IAAIC,EAAQ,WAGX,SAASC,EAAmBC,EAAOC,GAGlC,IAFA,IAAIC,EAAIF,EAAKG,OACTC,EAAI,EACCC,EAAI,EAAIA,EAAIH,EAAIG,IACxBD,GAAKE,KAAKC,IAAKP,EAAKK,GAAKJ,EAAKI,GAAI,GAEnC,OADAD,EAAIE,KAAKE,KAAMJ,GAIhB,SAASK,EAAmBT,EAAOC,GAGlC,IAFA,IAAIC,EAAIF,EAAKG,OACTC,EAAI,EACCC,EAAI,EAAIA,EAAIH,EAAIG,IACxBD,GAAKE,KAAKI,IAAKV,EAAKK,GAAKJ,EAAKI,IAC/B,OAAOD,EAGR,SAASO,EAAaX,EAAOC,GAG5B,IAFA,IAAIC,EAAIF,EAAKG,OACTC,EAAI,EACCC,EAAI,EAAIA,EAAIH,EAAIG,IACxBD,EAAIE,KAAKM,IAAKR,EAAIE,KAAKI,IAAKV,EAAKK,GAAKJ,EAAKI,KAC5C,OAAOD,EAGR,SAASS,EAAYb,EAAOC,GAG3B,IAFA,IAAIC,EAAIF,EAAKG,OACTW,EAAM,IAAIC,MAAMb,GACXG,EAAI,EAAIA,EAAIH,EAAIG,IACxBS,EAAIT,GAAKL,EAAKK,GAAKJ,EAAKI,GACzB,OAAOS,EAGR,SAASE,EAAuBC,EAAQH,GAGvC,IAFA,IAAIZ,EAAIY,EAAIX,OACRe,EAAI,IAAIH,MAAMb,GACTG,EAAI,EAAIA,EAAIH,EAAIG,IACxBa,EAAEb,GAAKY,EAAQH,EAAIT,GACpB,OAAOa,EAYR,SAASC,EAAWC,EAAGC,GAEtB,IADA,IAAIC,EAAM,GACDjB,EAAI,EAAIA,EAAIgB,EAAIhB,IACxBiB,GAAOF,EACR,OAAOE,EAGR,SAASC,EAAmBC,EAASC,EAAaC,EAASC,GAG1D,IAFA,IAAIC,EAAc,IAAIb,MAAMU,EAAWtB,QACnC0B,EAAUL,EAASE,EACdrB,EAAI,EAAIA,EAAIoB,EAAWtB,OAASE,IACxCuB,EAAYvB,IAAMmB,EAASC,EAAWpB,GAAKqB,EAASC,EAAWtB,IAAMwB,EACtE,OAAOD,EAIR,SAASE,EAAaR,EAAKS,GAC1B,IAAIC,EAAOD,EAAQT,EAAInB,OACvB,KAAI6B,EAAO,GAAX,CAGA,IAAIC,EAAW3B,KAAK4B,MAAMF,EAAO,GACjC,OAAOb,EAAY,IAAMc,GAAYX,EAAMH,EAAY,IAAMa,EAAOC,IAGrE,SAASE,EAAUb,EAAKS,EAAOK,GAE9B,KADWL,EAAQT,EAAInB,OACZ,GAGX,OAAOgB,EAAY,IAAMiB,GAASd,EAAMH,EAAY,IAAMY,GAAST,EAAInB,OAAOiC,IA0M/E,SAASC,EAAiBC,EAAGC,GAI5B,IAAIlB,EAAIkB,EAAQpC,OAChB,GAAKmC,EAAIjB,EACR,OAAO,KASR,IAPA,IAMIhB,EAAImC,EAAQC,EANZC,EAAmB,IAAI3B,MAAMuB,GAC7BK,EAAmB,IAAI5B,MAAMuB,GAE7BM,EAAiB,GACjBC,EAAS,EACTC,EAAW,EAERA,EAAWR,GAAG,CACpB,GAAIO,IAAWxB,EACd,OAAO,KAER,IAAI0B,EAAezC,KAAK4B,MAAM5B,KAAK0C,SAAU3B,GAC7C,KAAI0B,KAAgBH,GAApB,CAOA,IAJAA,EAAeG,GAAgB,EAC/BF,IACAL,EAASD,EAAQQ,GACjBN,GAAS,EACJpC,EAAI,EAAIA,EAAIyC,EAAWzC,IAC3B,GAAKmC,EAAOS,QAASP,EAAiBrC,IAAM,CAC3CoC,GAAS,EACT,MAGEA,IACHC,EAAiBI,GAAYN,EAC7BG,EAAiBG,GAAYC,EAC7BD,MAGF,MAAO,CAAC,QAAWJ,EAAkB,QAAWC,GA+JjD,SAASO,EAAQC,EAAKC,GAErBC,KAAKF,KAAOA,EACZE,KAAKD,KAAOA,EACZC,KAAKC,IAAM,IAAIvC,MAAMoC,GAErB,IAAK,IAAI9C,EAAI,EAAIA,EAAI8C,EAAO9C,IAC5B,CAEC,IADA,IAAIkD,EAAM,IAAIxC,MAAMqC,GACXI,EAAI,EAAIA,EAAIJ,EAAOI,IAC3BD,EAAIC,GAAK,EACVH,KAAKC,IAAIjD,GAAKkD,GAIhB,SAASE,EAAMC,EAAMC,EAAKC,EAAMC,EAAMC,GAErCT,KAAKK,MAAQA,EACbL,KAAKM,KAAOA,EACZN,KAAKO,MAAQA,EACbP,KAAKQ,KAAOA,EACZR,KAAKS,SAAWA,EACH,OAATH,GAA2B,OAAVC,GACpBP,KAAKU,KAAO,EACZV,KAAKW,MAAQ,IAEbX,KAAKU,KAAOJ,EAAKI,KAAOH,EAAMG,KAC9BV,KAAKW,MAAQ,EAAI1D,KAAKM,IAAK+C,EAAKK,MAAQJ,EAAMI,QAMhD,MAAO,CACNC,eAAgB,EAChBC,iBAAkB,EAClBC,gBAAgB,EAChBC,mBAAoB,EACpBC,mBAAoB,EACpBC,aAAc,EACdC,6BAA8B,EAC9BC,sBAAuB,GACvBC,uBAAwB,EAExBvB,OAAQA,EACRO,KAAMA,EACNiB,kBA9aD,SAASA,EAAkBC,EAAMC,EAAKC,EAAUC,EAAWC,EAAcC,GACxE,IAAIC,EAAQ,GACRC,EAfL,SAAsB1C,GAGrB,IAFA,IAAI2C,EAAO,IAAIpE,MAAMyB,EAAOrC,QACxBiF,EAAY9E,KAAKC,IAAI,GAAIT,EAAMyE,8BAC1BlE,EAAI,EAAIA,EAAImC,EAAOrC,OAASE,IACpC8E,EAAK9E,GAAKC,KAAK+E,MAAM7C,EAAOnC,GAAG+E,GAAWA,EAC3C,OAAOD,EAAKG,KAAK,KAUCC,CAAaZ,EAAKb,UACpC,GAAIa,EAAKa,SAAU,CAClB,IAAIC,EAAWC,OAAOf,EAAKjB,OACvBiC,EAAM,EACNZ,IACHY,EAAMrF,KAAKM,IAAIsE,EAAY/E,OAASwF,IACjCb,IACHa,EAAMrF,KAAKM,IAAI6E,EAAStF,OAASwF,IAElCV,EAAMW,KAAM9D,EAAc,IAAM6D,IAC5BZ,GACHE,EAAMW,KAAM9D,EAAcoD,EAAcS,IACrCb,GACHG,EAAMW,KAAM9D,EAAc2D,EAAWE,QAEhC,CACN,IAAIE,EAvBN,SAAqB5E,GACpB,IAAImE,EAAY9E,KAAKC,IAAI,GAAIT,EAAMyE,8BACnC,OAAOmB,OAAQpF,KAAK+E,MAAMpE,EAAMmE,GAAWA,GAqBxBU,CAAYnB,EAAKd,MAC/BkC,EAAarB,EAAkBC,EAAKhB,KAAMiB,EAAKC,EAASC,EAAUC,EAAcC,GAChFgB,EAActB,EAAkBC,EAAKf,MAAOgB,EAAKC,EAASC,EAAUC,EAAaC,GACjFiB,EAAcF,EAAW,GAAGG,QAAQ,KACpCC,EAAeH,EAAY,GAAGE,QAAQ,KAGtCP,EAAMf,EAAMoB,EAAY,GAAG7F,OAAS4F,EAAW,GAAG5F,OAClD4E,IACHY,EAAMrF,KAAKM,IAAIsE,EAAY/E,OAASwF,IACjCX,IACHW,EAAMrF,KAAKM,IAAIiF,EAAY1F,OAASwF,IAIrC,IAAIS,EAAUH,EAAc3F,KAAK4B,OAAQ6D,EAAW,GAAG5F,OAAU8F,EAAerB,GAAO,EAAEuB,IAAiB,GAG1GlB,EAAMW,KAAMzD,EAAW,IAAMwD,EAAMS,IAC/BrB,GACHE,EAAMW,KAAMzD,EAAW+C,EAAcS,EAAMS,EAAS9F,KAAK4B,MAAOgD,EAAY/E,OAAS,KAElF6E,GACHC,EAAMW,KAAMzD,EAAW0D,EAAcF,EAAMS,EAAS9F,KAAK4B,MAAO2D,EAAY1F,OAAS,KAItF,IACIkG,EAAQlF,EAAY,IADTyD,GAAOmB,EAAW,GAAG5F,OAAQ8F,GAAeE,EAAa,GAMxE,GAJAlB,EAAMW,KAAMzD,EAAUkE,EAAOV,EAAKM,IAI9BpB,GAAckB,EAAW5F,SAAU6F,EAAY7F,OAAS,CAC3D,IAAImG,EACAC,EACAR,EAAW5F,OAAS6F,EAAY7F,QACnCoG,EAAUR,EACVO,EAAWN,IAEXO,EAAUP,EACVM,EAAWP,GAKZ,IAFA,IAAIS,EAASF,EAAS,GAClBG,EAAQF,EAAQpG,OAASmG,EAASnG,OAC7BE,EAAI,EAAIA,EAAIoG,EAAQpG,IAC5BiG,EAASI,OAAQ,EAAE,EAAEF,GAKvB,IAAK,IAAInG,EAAI,EAAIA,EAAIC,KAAKM,IAAKmF,EAAW5F,OAAS6F,EAAY7F,QAAUE,IAAK,CAC7E,IAAIsD,EAAO,GAEVA,EADGtD,EAAI0F,EAAW5F,OACX4F,EAAW1F,GAEXc,EAAY,IAAM4E,EAAW,GAAG5F,QAExC,IAAIyD,EAAQ,GAEXA,EADGvD,EAAI2F,EAAY7F,OACX6F,EAAY3F,GAEZc,EAAY,IAAM6E,EAAY,GAAG7F,QAC1C8E,EAAMW,KAAKjC,EAAOxC,EAAY,IAAMyD,GAAOhB,GAE5BzC,EAAY,IAAMyD,IAInC,OAAOK,GAuVP0B,YAlVD,SAAsBC,EAAQrE,EAASsE,EAAUC,GAChD,IAOIC,EAAIC,EAAIC,EAAWC,EAAW7G,EAAGmD,EAAG2D,EAAGC,EAAOxF,EAP9C1B,EAAIqC,EAAQpC,OACZkH,EAAO,IAAItG,MAAMb,GACjBoH,EAAQ,IAAIvG,MAAMb,GAElBqH,EADY,IAAIzH,EAAMoD,OAAOhD,EAAEA,GACRoD,IACvBkE,EAAW,IAAIzG,MAAMb,GAYzB,IARI2G,IAAa/G,EAAMsE,mBACtByC,EAAW9G,EACH8G,IAAa/G,EAAMuE,mBAC3BwC,EAAWpG,EACHoG,IAAa/G,EAAMwE,eAC3BuC,EAAWlG,GAGPN,EAAI,EAAIA,EAAIH,EAAIG,IAEpB,IADAgH,EAAKhH,GAAK,EACLmD,EAAI,EAAIA,EAAItD,EAAIsD,IAEnB+D,EAAWlH,GAAGmD,GADXnD,IAAMmD,EACUiE,IAEAZ,EAAStE,EAAQlC,GAAKkC,EAAQiB,IAE9C+D,EAAWlH,GAAGgH,EAAKhH,IAAMkH,EAAWlH,GAAGmD,KAC1C6D,EAAKhH,GAAKmD,GAKb,IAAKnD,EAAI,EAAIA,EAAIH,EAAIG,IACpBmH,EAASnH,GAAK,GACdmH,EAASnH,GAAG,GAAK,IAAIoD,EAAMmD,EAAOvG,GAAI,KAAM,KAAM,EAAGkC,EAAQlC,IAC7DiH,EAAMjH,GAAK,EAIZ,IAAK8G,EAAI,EAAIA,EAAIjH,EAAE,EAAIiH,IAAK,CAG3B,IADAJ,EAAK,EACA1G,EAAI,EAAIA,EAAIH,EAAIG,IAChBkH,EAAWlH,GAAGgH,EAAKhH,IAAMkH,EAAWR,GAAIM,EAAKN,MAChDA,EAAK1G,GAEP2G,EAAKK,EAAKN,GAGVE,EAAYO,EAAST,GAAI,GACzBG,EAAYM,EAASR,GAAI,GAEzBpF,EAAcL,EAAoB0F,EAAUlD,KAAOkD,EAAUnD,SAAWoD,EAAUnD,KAAOmD,EAAUpD,UACnG,IAAI4D,EAAa,IAAIjE,GAAO,EAAGwD,EAAWC,EAAYK,EAAWR,GAAIC,GAAMpF,GAK3E,IAJA4F,EAAST,GAAIL,OAAO,EAAE,EAAGgB,GACzBJ,EAAMP,IAAOO,EAAMN,GAGdxD,EAAI,EAAIA,EAAItD,EAAIsD,IACpB,GAAIsD,IAAYhH,EAAMmE,eACjBsD,EAAWR,GAAIvD,GAAK+D,EAAWP,GAAIxD,KACtC+D,EAAW/D,GAAGuD,GAAMQ,EAAWR,GAAIvD,GAAK+D,EAAWP,GAAIxD,SAClD,GAAIsD,IAAYhH,EAAMoE,iBACxBqD,EAAWR,GAAIvD,GAAK+D,EAAWP,GAAIxD,KACtC+D,EAAW/D,GAAGuD,GAAMQ,EAAWR,GAAIvD,GAAK+D,EAAWP,GAAIxD,SAClD,GAAIsD,IAAYhH,EAAMqE,gBAAiB,CAC7C,IAAIwD,GAAQL,EAAMP,GAAMQ,EAAWR,GAAIvD,GAAK8D,EAAMN,GAAMO,EAAWP,GAAIxD,KAAQ8D,EAAMP,GAAMO,EAAM9D,IACjG+D,EAAW/D,GAAGuD,GAAMQ,EAAWR,GAAIvD,GAAKmE,EAM1C,IAHAJ,EAAWR,GAAIA,GAAMU,IAGhBpH,EAAI,EAAIA,EAAIH,EAAIG,IACpBkH,EAAWlH,GAAG2G,GAAMO,EAAWP,GAAI3G,GAAKoH,IAGzC,IAAKjE,EAAI,EAAGA,EAAItD,EAAIsD,IACf6D,EAAK7D,KAAOwD,IACfK,EAAK7D,GAAKuD,GACPQ,EAAWR,GAAIvD,GAAK+D,EAAWR,GAAIM,EAAKN,MAC3CM,EAAKN,GAAMvD,GAIb4D,EAAOM,EAGR,OAAON,GA2PPQ,OA5MD,SAAiBtF,EAAGC,GACnB,IAAIlB,EAAIkB,EAAQpC,OACZ0H,EAAc,IAAI9G,MAAMM,GACxByG,EAAe,IAAI/G,MAAMuB,GACzByF,GAAS,EACTC,EAAW,EACXC,EAAY,KAEZC,EAAI7F,EAAiBC,EAAGC,GAC5B,GAAU,OAAN2F,EACH,OAAO,KAIR,IAFCD,EAAYC,EAAE3F,QAERwF,GAAQ,CAGd,IAAK,IAAIvE,EAAI,EAAIA,EAAIlB,EAAIkB,IACxBsE,EAAatE,GAAK,EAEnB,IAAK,IAAInD,EAAI,EAAIA,EAAIgB,EAAIhB,IAAK,CAK7B,IAJA,IAAImC,EAASD,EAAQlC,GACjB8H,EAAUC,OAAOC,UACjBC,OAAI,EACJzE,OAAI,EACCL,EAAI,EAAIA,EAAIlB,EAAIkB,KACxBK,EAAO9D,EAAmBkI,EAAUzE,GAAIhB,IAC7B2F,IACVA,EAAUtE,EACVyE,EAAO9E,GAGTsE,EAAaQ,KACbT,EAAYxH,GAAKiI,EAKlB,IADA,IAAIC,EAAe,IAAIxH,MAAMuB,GACpBkB,EAAI,EAAIA,EAAIlB,EAAIkB,IACxB+E,EAAa/E,GAAK,KAEnB,IADA,IAAIgF,OAAO,EACFnI,EAAI,EAAIA,EAAIgB,EAAIhB,IAEM,OAA1BkI,EADJC,EAAUX,EAAYxH,IAErBkI,EAAaC,GAAWjG,EAAQlC,GAEhCkI,EAAaC,GAAW3H,EAAY0H,EAAaC,GAAWjG,EAAQlC,IAGtE,IAAK,IAAImD,EAAI,EAAIA,EAAIlB,EAAIkB,IACxB+E,EAAa/E,GAAKxC,EAAuB,EAAE8G,EAAatE,GAAK+E,EAAa/E,IAI3EuE,GAAS,EACT,IAAK,IAAIvE,EAAI,EAAIA,EAAIlB,EAAIkB,IACxB,IAAM+E,EAAa/E,GAAGP,QAASgF,EAAUzE,IAAK,CAC7CuE,GAAS,EACT,MAGFE,EAAYM,IACZP,EAGelI,EAAM0E,wBACpBuD,GAAS,GAGX,MAAO,CAAE,UAAaE,EAAY,YAAeJ,IAwIjDY,QApID,SAAkBnG,EAAGC,EAASmG,EAASC,GAQtC,IAPA,IAMItI,EAAEmD,EAAEoF,EAAGC,EAAKC,EAAMlI,EAAKoB,EANvB+G,EAAmB,IAAI7F,EAAQX,EAAQpC,OAAQmC,GAC/CyF,GAAS,EACTC,EAAW,EAEXC,EAAY,KAGTF,GAAQ,CAEd,GAAkB,OAAdE,EAAoB,CAGvB,GAAY,QADZY,EAAMxG,EAAiBC,EAAGC,IAEzB,OAAO,KAEP0F,EAAYY,EAAItG,aAGjB,IAAKiB,EAAI,EAAIA,EAAIlB,EAAGkB,IAAK,CAGxB,IAFAyE,EAAUzE,GAAK,GACfsF,EAAO,EACFzI,EAAI,EAAIA,EAAI0I,EAAiB5F,KAAO9C,IACxCyI,GAAQxI,KAAKC,IAAIwI,EAAiBzF,IAAIjD,GAAGmD,GAAImF,GAC7CE,EAAM7H,EAAuBV,KAAKC,IAAIwI,EAAiBzF,IAAIjD,GAAGmD,GAAImF,GAAapG,EAAQlC,IAGtF4H,EAAUzE,GADD,IAANnD,EACYwI,EAEAhI,EAAYoH,EAAUzE,GAAKqF,GAExCC,EAAO,IACVb,EAAUzE,GAAKxC,EAAsB,EAAE8H,EAAMb,EAAUzE,KAS1D,IAAIwF,EAA2BD,EAAiBE,OAChD,IAAK5I,EAAI,EAAIA,EAAI0I,EAAiB5F,KAAO9C,IACxC,IAAKmD,EAAI,EAAIA,EAAIlB,EAAIkB,IAAK,CAEzB,IADAuF,EAAiBzF,IAAIjD,GAAGmD,GAAK,EACxBoF,EAAI,EAAIA,EAAItG,EAAIsG,IAEnBC,EADoD,IAAjD9I,EAAkBwC,EAAQlC,GAAK4H,EAAUW,IACtC,EAEC7I,EAAkBwC,EAAQlC,GAAK4H,EAAUzE,IAAMzD,EAAkBwC,EAAQlC,GAAK4H,EAAUW,IAChGC,EAAMvI,KAAKC,IAAKsI,EAAK,GAAGF,EAAU,IAClCI,EAAiBzF,IAAIjD,GAAGmD,IAAMqF,EAE3BE,EAAiBzF,IAAIjD,GAAGmD,GAAK,IAChCuF,EAAiBzF,IAAIjD,GAAGmD,GAAK,EAAIuF,EAAiBzF,IAAIjD,GAAGmD,IAQ5D,IADA5C,GAAO,EACFP,EAAI,EAAIA,EAAI0I,EAAiB5F,KAAO9C,IACxC,IAAKmD,EAAI,EAAIA,EAAIuF,EAAiB3F,KAAOI,KACxCxB,EAAO1B,KAAKI,IAAIqI,EAAiBzF,IAAIjD,GAAGmD,GAAKwF,EAAyB1F,IAAIjD,GAAGmD,KAClE5C,IACVA,EAAMoB,GAGLpB,EAAM8H,IACTX,GAAS,KAEVC,EAGelI,EAAM2E,yBACpBsD,GAAS,GAEX,MAAO,CAAE,UAAaE,EAAY,iBAAoBc,KA9d5C,GAyhBZjJ,EAAMoD,OAAOgG,UAAUC,SAAW,WAGjC,IADA,IAAIlE,EAAQ,GACH5E,EAAI,EAAIA,EAAIgD,KAAKF,KAAO9C,IAChC4E,EAAMW,KAAMvC,KAAKC,IAAIjD,GAAGiF,KAAK,OAC9B,OAAOL,EAAMK,KAAM,OAIpBxF,EAAMoD,OAAOgG,UAAUD,KAAO,WAG7B,IADA,IAAIG,EAAY,IAAItJ,EAAMoD,OAAOG,KAAKF,KAAME,KAAKD,MACxC/C,EAAI,EAAIA,EAAIgD,KAAKF,KAAO9C,IAChC+I,EAAU9F,IAAIjD,GAAKgD,KAAKC,IAAIjD,GAAGgJ,MAAM,GACtC,OAAOD,GAGRtJ,EAAM2D,KAAKyF,UAAU1D,OAAS,WAE7B,OAAmB,OAAdnC,KAAKM,MAAkC,OAAfN,KAAKO,OAMnC9D,EAAM2D,KAAKyF,UAAUI,eAAiB,SAAU1E,EAAKC,EAASC,EAAUC,EAAcC,GAIrF,OADQlF,EAAM4E,kBAAkBrB,KAAMuB,EAAKC,EAASC,EAAUC,EAAcC,GAC/DM,KAAM,OAIpBvE,MAAMmI,UAAUjG,QAAU,SAASsG,GAC/B,GAAIlG,KAAKlD,SAAUoJ,EAAQpJ,OAAQ,OAAO,EAC1C,IAAK,IAAIE,EAAI,EAAGA,EAAIkJ,EAAQpJ,OAAQE,IAAK,CACrC,GAAIgD,KAAKhD,GAAG4C,UACHI,KAAKhD,GAAG4C,QAAQsG,EAAQlJ,IAAK,OAAO,EAE7C,GAAIgD,KAAKhD,KAAOkJ,EAAQlJ,GAAI,OAAO,EAEvC,OAAO,GAGXT,EAAOC,QAAUC,G,oBCrkBjBF,EAAOC,QAAU,IAA0B,oC,oBCA3CD,EAAOC,QAAU,IAA0B,gC,oBCA3CD,EAAOC,QAAU,IAA0B,gC,oBCA3CD,EAAOC,QAAU,IAA0B,oC,oBCA3CD,EAAOC,QAAU,IAA0B,iC,kBCA3CD,EAAOC,QAAU,88W,oBCAjBD,EAAOC,QAAU,IAA0B,iC,oBCA3CD,EAAOC,QAAU,IAA0B,iC,oBCA3CD,EAAOC,QAAU,IAA0B,gC,oBCA3CD,EAAOC,QAAU,IAA0B,oC,sGCA3CD,EAAOC,QAAU,IAA0B,wC,oBCA3CD,EAAOC,QAAU,IAA0B,mC,oBCA3CD,EAAOC,QAAU,IAA0B,gC,oBCA3CD,EAAOC,QAAU,IAA0B,wC,yLCC9B,SAASA,GAClB,IAAI2J,EAAM,SAASC,KA0WnB,SAASC,EAAcC,GACrB,OAAO,SAASC,EAAIC,GAGlB,IAFA,IAAIC,EAAE,EAEEC,EAAE,EAAEA,EAAEH,EAAGzJ,OAAO4J,IAAOD,IAAMF,EAAGG,GAAKF,EAAGE,KAAKH,EAAGG,GAAKF,EAAGE,IAEhE,OAAOzJ,KAAK0J,KAAKF,GAAG,EAAIH,EAAMA,KAIlC,SAASM,EAAaL,EAAIC,GAGxB,IAFA,IAAIC,EAAE,EAEEC,EAAE,EAAEA,EAAEH,EAAGzJ,OAAO4J,IAAOD,GAAKF,EAAGG,GAAKF,EAAGE,GAE/C,OAAOD,EArXTN,EAAIN,UAAY,CAGdgB,MAAO,SAASC,EAAMvD,EAAQ6C,GAG5BpG,KAAK8G,KAAOA,EACZ9G,KAAKuD,OAASA,EAId,IAAIwD,GADJX,EAAUA,GAAW,IACLW,GAAK,EAEjBC,EAAMZ,EAAQY,KAAO,KAErBC,EAAWb,EAAQa,UAAY,KAE/BC,EAAUd,EAAQc,SAAW,IAE7BC,EAAYf,EAAQe,WAAa,GAIjCC,EAASR,EAGb,GADA5G,KAAKqH,WAAa,SACf,WAAYjB,EACb,GAA6B,kBAAnBA,EAAQgB,QAMhB,GAJsB,WAAnBhB,EAAQgB,SACTpH,KAAKqH,WAAa,SAClBD,EAASR,GAEW,QAAnBR,EAAQgB,OAAkB,CAC3B,IAAIE,EAAWlB,EAAQmB,UAAY,GAEnCvH,KAAKsH,SAAWA,EAChBtH,KAAKqH,WAAa,MAClBD,EAASf,EAAciB,SAIzBtH,KAAKqH,WAAa,SAClBD,EAAShB,EAAQgB,OAKrBpH,KAAKoH,OAASA,EACdpH,KAAKnD,EAAIiK,EAAKhK,OAAQ,IAAID,EAAImD,KAAKnD,EAWnC,GATAmD,KAAKwH,EAAIV,EAAK,GAAGhK,OAGjBkD,KAAKyH,MAgVT,SAAezJ,GAGb,IAFA,IAAI0J,EAAK,IAAIhK,MAAMM,GAEXhB,EAAE,EAAEA,EAAEgB,EAAEhB,IAAO0K,EAAI1K,GAAI,EAE/B,OAAO0K,EArVQC,CAAM9K,GACnBmD,KAAK4H,EAAI,EACT5H,KAAK6H,OAAQ,EAITzB,EAAQ0B,QAAS,CACnB9H,KAAK+H,cAAgB,IAAIrK,MAAMb,GAC/B,IAAK,IAAIG,EAAE,EAAEA,EAAEH,EAAEG,IAAK,CAEpBgD,KAAK+H,cAAc/K,GAAK,IAAIU,MAAMb,GAClC,IAAK,IAAIsD,EAAE,EAAEA,EAAEtD,EAAEsD,IAEfH,KAAK+H,cAAc/K,GAAGmD,GAAKiH,EAAON,EAAK9J,GAAG8J,EAAK3G,KAUrD,IAJA,IAwTW6H,EAAGJ,EAxTVK,EAAO,EAEPC,EAAS,EAEPA,EAASf,GAAac,EAAOf,GAAS,CAI1C,IAFA,IAAIiB,EAAe,EAEXnL,EAAE,EAAEA,EAAEH,EAAEG,IAAK,CAGnB,IAAIoL,EAAIpI,KAAKqI,UAAUvB,EAAK9J,IAAMuG,EAAOvG,GAEzC,GAAKuG,EAAOvG,GAAGoL,GAAMpB,GAAOhH,KAAKyH,MAAMzK,GAAK+J,GACvCxD,EAAOvG,GAAGoL,EAAKpB,GAAOhH,KAAKyH,MAAMzK,GAAK,EAAI,CAK7C,IAFA,IAAImD,EAAInD,EAEFmD,IAAMnD,GAqSPgL,EArSmB,EAqShBJ,EArSmB5H,KAAKnD,EAAjBsD,EAsSflD,KAAK4B,MAAM5B,KAAK0C,UAAUiI,EAAEI,GAAGA,GArS/B,IACIM,EACAC,EAFAC,EAAIxI,KAAKqI,UAAUvB,EAAK3G,IAAMoD,EAAOpD,GAKzCmI,EAAItI,KAAKyH,MAAMzK,GACfuL,EAAIvI,KAAKyH,MAAMtH,GACf,IAAIsI,EAAI,EAAOC,EAAI3B,EAWnB,GARGxD,EAAOvG,KAAOuG,EAAOpD,IACtBsI,EAAIxL,KAAKM,IAAI,EAAG+K,EAAGC,EAAGxB,GACtB2B,EAAIzL,KAAK0L,IAAI5B,EAAGuB,EAAGC,KAEnBE,EAAIxL,KAAKM,IAAI,EAAGgL,EAAGD,GACnBI,EAAIzL,KAAK0L,IAAI5B,EAAGA,EAAEwB,EAAGD,IAGpBrL,KAAKI,IAAIoL,EAAIC,GAAK,KAAM,SAE3B,IAAIE,EAAM,EAAE5I,KAAK6I,aAAa7L,EAAEmD,GAAKH,KAAK6I,aAAa7L,EAAEA,GAAKgD,KAAK6I,aAAa1I,EAAEA,GAElF,GAAGyI,GAAO,EAAG,SAIb,IAAIE,EAAQP,EAAKhF,EAAOpD,IAAIiI,EAAGI,GAAMI,EAIrC,GAFGE,EAAMJ,IAAGI,EAAQJ,GACjBI,EAAML,IAAGK,EAAQL,GACjBxL,KAAKI,IAAIkL,EAAKO,GAAS,KAAM,SAChC9I,KAAKyH,MAAMtH,GAAK2I,EAChB,IAAIC,EAAQT,EAAK/E,EAAOvG,GAAGuG,EAAOpD,IAAIoI,EAAKO,GAE3C9I,KAAKyH,MAAMzK,GAAK+L,EAGhB,IAAIC,EAAKhJ,KAAK4H,EAAIQ,EAAK7E,EAAOvG,IAAI+L,EAAMT,GAAItI,KAAK6I,aAAa7L,EAAEA,GAErDuG,EAAOpD,IAAI2I,EAAMP,GAAIvI,KAAK6I,aAAa7L,EAAEmD,GAChD8I,EAAKjJ,KAAK4H,EAAIY,EAAKjF,EAAOvG,IAAI+L,EAAMT,GAAItI,KAAK6I,aAAa7L,EAAEmD,GAErDoD,EAAOpD,IAAI2I,EAAMP,GAAIvI,KAAK6I,aAAa1I,EAAEA,GACpDH,KAAK4H,EAAI,IAAKoB,EAAGC,GACdF,EAAQ,GAAKA,EAAQhC,IAAG/G,KAAK4H,EAAGoB,GAChCF,EAAQ,GAAKA,EAAQ/B,IAAG/G,KAAK4H,EAAGqB,GAEnCd,KAKJF,IAEoB,IAAjBE,EAAoBD,IAClBA,EAAQ,EAMf,GAAuB,WAApBlI,KAAKqH,WAAyB,CAG/BrH,KAAKkJ,EAAI,IAAIxL,MAAMsC,KAAKwH,GACxB,IAAI,IAAIrH,EAAE,EAAEA,EAAEH,KAAKwH,EAAErH,IAAK,CAIxB,IAFA,IAAIsG,EAAG,EAECzJ,EAAE,EAAEA,EAAEgD,KAAKnD,EAAEG,IAEnByJ,GAAIzG,KAAKyH,MAAMzK,GAAKuG,EAAOvG,GAAK8J,EAAK9J,GAAGmD,GAE1CH,KAAKkJ,EAAE/I,GAAKsG,EACZzG,KAAK6H,OAAQ,OAEV,CAcL,IANA,IAAIsB,EAAU,GAEVC,EAAY,GAEZC,EAAW,GAEPrM,EAAE,EAAEA,EAAEgD,KAAKnD,EAAEG,IAGhBgD,KAAKyH,MAAMzK,GAAKiK,IACjBkC,EAAQ5G,KAAKvC,KAAK8G,KAAK9J,IACvBoM,EAAU7G,KAAKvC,KAAKuD,OAAOvG,IAC3BqM,EAAS9G,KAAKvC,KAAKyH,MAAMzK,KAK7BgD,KAAK8G,KAAOqC,EACZnJ,KAAKuD,OAAS6F,EACdpJ,KAAKyH,MAAQ4B,EACbrJ,KAAKnD,EAAImD,KAAK8G,KAAKhK,OAIrB,IAAIwM,EAAa,GAGjB,OADAA,EAAWC,MAAOtB,EACXqB,GAMTjB,UAAW,SAASmB,GAElB,IAAIC,EAAIzJ,KAAK4H,EAMb,GAAG5H,KAAK6H,MAKN,IAAI,IAAI1H,EAAE,EAAEA,EAAEH,KAAKwH,EAAErH,IAEnBsJ,GAAKD,EAAKrJ,GAAKH,KAAKkJ,EAAE/I,QAKxB,IAAI,IAAInD,EAAE,EAAEA,EAAEgD,KAAKnD,EAAEG,IAEnByM,GAAKzJ,KAAKyH,MAAMzK,GAAKgD,KAAKuD,OAAOvG,GAAKgD,KAAKoH,OAAOoC,EAAMxJ,KAAK8G,KAAK9J,IAItE,OAAOyM,GAGTC,WAAY,SAASF,GACnB,OAAOxJ,KAAKqI,UAAUmB,GAAQ,EAAI,GAAK,GAIzCG,QAAS,SAAS7C,GAOhB,IAJA,IAAIjK,EAAIiK,EAAKhK,OAET6M,EAAU,IAAIjM,MAAMb,GAEhBG,EAAE,EAAEA,EAAEH,EAAEG,IAEd2M,EAAQ3M,GAAKgD,KAAKqI,UAAUvB,EAAK9J,IAEnC,OAAO2M,GAITd,aAAc,SAAS7L,EAAGmD,GACxB,OAAIH,KAAK+H,cACA/H,KAAK+H,cAAc/K,GAAGmD,GAExBH,KAAKoH,OAAOpH,KAAK8G,KAAK9J,GAAIgD,KAAK8G,KAAK3G,KAI7CyJ,QAAS,SAAS9C,GAGhB,IAFA,IAAI+C,EAAQ7J,KAAK2J,QAAQ7C,GAEjB9J,EAAE,EAAEA,EAAE6M,EAAM/M,OAAOE,IAEzB6M,EAAM7M,GAAK6M,EAAM7M,GAAK,EAAI,GAAK,EAEjC,OAAO6M,GAOTC,WAAY,WAKV,IAFA,IAAIZ,EAAG,IAAIxL,MAAMsC,KAAKwH,GAEdrH,EAAE,EAAEA,EAAEH,KAAKwH,EAAErH,IAAK,CAIxB,IAFA,IAAIsG,EAAG,EAECzJ,EAAE,EAAEA,EAAEgD,KAAKnD,EAAEG,IAEnByJ,GAAIzG,KAAKyH,MAAMzK,GAAKgD,KAAKuD,OAAOvG,GAAKgD,KAAK8G,KAAK9J,GAAGmD,GAEpD+I,EAAE/I,GAAIsG,EAER,MAAO,CAACyC,EAAGA,EAAGtB,EAAG5H,KAAK4H,IAGxBmC,OAAQ,WAEN,GAAuB,WAApB/J,KAAKqH,WAEN,OADA2C,QAAQC,IAAI,wEACL,GAGT,IAAIC,EAAO,GAkBX,OAjBAA,EAAKrN,EAAImD,KAAKnD,EACdqN,EAAK1C,EAAIxH,KAAKwH,EACd0C,EAAKtC,EAAI5H,KAAK4H,EAEdsC,EAAK7C,WAAarH,KAAKqH,WACA,WAApBrH,KAAKqH,aAEN6C,EAAKhB,EAAIlJ,KAAKkJ,GAEO,QAApBlJ,KAAKqH,aAEN6C,EAAK5C,SAAWtH,KAAKsH,SACrB4C,EAAKpD,KAAO9G,KAAK8G,KACjBoD,EAAK3G,OAASvD,KAAKuD,OACnB2G,EAAKzC,MAAQzH,KAAKyH,OAGbyC,GAGTC,SAAU,SAASD,GAEjBlK,KAAKnD,EAAIqN,EAAKrN,EACdmD,KAAKwH,EAAI0C,EAAK1C,EACdxH,KAAK4H,EAAIsC,EAAKtC,EAEd5H,KAAKqH,WAAa6C,EAAK7C,WACA,WAApBrH,KAAKqH,YAGNrH,KAAKkJ,EAAIgB,EAAKhB,EACdlJ,KAAK6H,OAAQ,EACb7H,KAAKoH,OAASR,GAEY,QAApB5G,KAAKqH,YAGXrH,KAAKsH,SAAW4C,EAAK5C,SACrBtH,KAAKoH,OAASf,EAAcrG,KAAKsH,UAGjCtH,KAAK8G,KAAOoD,EAAKpD,KACjB9G,KAAKuD,OAAS2G,EAAK3G,OACnBvD,KAAKyH,MAAQyC,EAAKzC,OAElBuC,QAAQC,IAAI,mCAAqCjK,KAAKqH,eA+C5D7K,EAAUA,GAAW,IACb2J,IAAMA,EACd3J,EAAQ6J,cAAgBA,EACxB7J,EAAQoK,aAAeA,EAvZd,CA0ZwBrK,EAAOC,U,iKCzZ/B4N,EAAaC,wBAAc,CACpCC,IAAK,KACLC,SAAU,SAACD,O,oICaTE,EAAYC,aAAW,SAAAC,GAAK,MAAK,CACrC3G,KAAM,CACJ4G,QAAS,QAEXC,OAAQ,CACNC,OAAQH,EAAMI,QAAQ,IAExBC,OAAO,eACJL,EAAMM,YAAYC,GAAG,MAAQ,CAC5BvM,MAXc,IAYdwM,WAAY,IAGhBC,QAAST,EAAMU,OAAOD,QACtBE,YAAY,aACV3M,MAjBgB,KAkBfgM,EAAMM,YAAYC,GAAG,MAAQ,CAC5BK,WAAY,aAyHHC,EApHI,SAAAC,GACjB,IAAIC,EAAUC,cACRC,EAAUnB,IACVE,EAAQkB,cAERC,EAAW,SAAAC,GACfL,EAAQlJ,KAAKuJ,GACbN,EAAMO,sBAGFhB,EACJ,6BACE,kBAACiB,EAAA,EAAD,CAAUL,QAAS,CAAE5H,KAAM4H,EAAQ5H,MAAQ6G,QAAM,GAC/C,kBAACqB,EAAA,EAAD,CAAYC,MAAO,CAAEC,SAAU,OAAQC,WAAY,MAAOC,MAAO,UAAjE,eAIF,kBAACC,EAAA,EAAD,MACA,kBAACC,EAAA,EAAD,KACE,kBAACP,EAAA,EAAD,CAAUpB,QAAM,EAAC4B,QAAS,WAAQX,EAAS,gBACzC,kBAACY,EAAA,EAAD,CAAcC,QAAQ,gBAG1B,kBAACJ,EAAA,EAAD,MACA,kBAACC,EAAA,EAAD,KACE,kBAACI,EAAA,EAAD,CAAeC,UAAU,OAAzB,cAGA,kBAACZ,EAAA,EAAD,CAAUpB,QAAM,EAAC4B,QAAS,WAAQX,EAAS,aACzC,kBAACY,EAAA,EAAD,CAAcC,QAAQ,wBAG1B,kBAACJ,EAAA,EAAD,MACA,kBAACC,EAAA,EAAD,KACE,kBAACI,EAAA,EAAD,CAAeC,UAAU,OAAzB,kBAGA,kBAACZ,EAAA,EAAD,CAAUpB,QAAM,EAAC4B,QAAS,WAAQX,EAAS,oBACzC,kBAACY,EAAA,EAAD,CAAcC,QAAQ,mBAExB,kBAACV,EAAA,EAAD,CAAUpB,QAAM,EAAC4B,QAAS,WAAQX,EAAS,UACzC,kBAACY,EAAA,EAAD,CAAcC,QAAQ,4BAExB,kBAACV,EAAA,EAAD,CAAUpB,QAAM,EAAC4B,QAAS,WAAQX,EAAS,UACzC,kBAACY,EAAA,EAAD,CAAcC,QAAQ,SAExB,kBAACV,EAAA,EAAD,CAAUpB,QAAM,EAAC4B,QAAS,WAAQX,EAAS,UACzC,kBAACY,EAAA,EAAD,CAAcC,QAAQ,qBAG1B,kBAACJ,EAAA,EAAD,MACA,kBAACA,EAAA,EAAD,MACA,kBAACC,EAAA,EAAD,KACE,kBAACI,EAAA,EAAD,CAAeC,UAAU,OAAzB,cAGA,kBAACZ,EAAA,EAAD,CAAUpB,QAAM,EAAC4B,QAAS,WAAQX,EAAS,cACzC,kBAAEY,EAAA,EAAF,CAAeC,QAAQ,cAEzB,kBAACV,EAAA,EAAD,CAAUpB,QAAM,EAAC4B,QAAS,WAAQX,EAAS,aACzC,kBAACY,EAAA,EAAD,CAAcC,QAAQ,YAExB,kBAACV,EAAA,EAAD,CAAUpB,QAAM,EAAC4B,QAAS,WAAQX,EAAS,eACzC,kBAACY,EAAA,EAAD,CAAcC,QAAQ,8BAG1B,kBAACJ,EAAA,EAAD,MACA,kBAACA,EAAA,EAAD,MACA,kBAACC,EAAA,EAAD,KACE,kBAACI,EAAA,EAAD,CAAeC,UAAU,OAAzB,UAGA,kBAACZ,EAAA,EAAD,CAAUpB,QAAM,EAAC4B,QAAS,WAAQK,OAAOC,SAASC,KAAO,+CACvD,kBAAC,IAAD,MACA,kBAAEN,EAAA,EAAF,CAAeP,MAAO,CAACc,YAAa,IAAKN,QAAQ,aAGrD,kBAACJ,EAAA,EAAD,MACA,kBAACA,EAAA,EAAD,OAIJ,OACE,yBAAKW,UAAWtB,EAAQZ,OAAQmC,aAAW,mBACzC,kBAACC,EAAA,EAAD,CAAQC,MAAI,GACV,kBAACC,EAAA,EAAD,CACEC,UAAW9B,EAAM8B,UACjBC,QAAQ,YACRC,OAA4B,QAApB9C,EAAM+C,UAAsB,QAAU,OAC9CC,KAAMlC,EAAMmC,WACZC,QAASpC,EAAMO,mBACfJ,QAAS,CACPkC,MAAOlC,EAAQN,aAEjByC,WAAY,CACVC,aAAa,IAGdhD,IAGL,kBAACoC,EAAA,EAAD,CAAQa,QAAM,GACZ,kBAACX,EAAA,EAAD,CACE1B,QAAS,CACPkC,MAAOlC,EAAQN,aAEjBkC,QAAQ,YACRG,MAAI,GAEH3C,M,sDCvILP,EAAYC,aAAW,SAAAC,GAAK,MAAK,CACrC3G,KAAM,CACJ4G,QAAS,QAEXsD,OAAQ,CACNC,OAAQxD,EAAMwD,OAAOnD,OAAS,GAEhCoD,WAAW,aACTC,YAAa1D,EAAMI,QAAQ,IAC1BJ,EAAMM,YAAYC,GAAG,MAAQ,CAC5BN,QAAS,SAGb0D,QAAS,CACPC,SAAU,GAEZnD,QAAST,EAAMU,OAAOD,QACpBoD,MAAO,CACPD,SAAU,OAsDCE,EAlDA,SAAAhD,GAAU,IACf8B,EAAc9B,EAAd8B,UACF3B,EAAUnB,IACVE,EAAQkB,cAHQ,EAIc6C,oBAAS,GAJvB,mBAIfd,EAJe,KAIHe,EAJG,KAMhB3C,EAAqB,WACzB2C,GAAef,IAGjB,OACE,yBAAKV,UAAWtB,EAAQ5H,MACtB,kBAAC4K,EAAA,EAAD,MACA,kBAACC,EAAA,EAAD,CAAQC,SAAS,QAAQ5B,UAAWtB,EAAQsC,QAC1C,kBAACa,EAAA,EAAD,KACE,kBAACC,EAAA,EAAD,CACE1C,MAAM,UACNa,aAAW,cACX8B,KAAK,QACLxC,QAAST,EACTkB,UAAWtB,EAAQwC,YAEnB,kBAAC,IAAD,OAEF,yBAAKc,IAAKC,IAAMC,OAAO,KAAKzQ,MAAM,KAAK0Q,IAAI,SAC3C,kBAACnD,EAAA,EAAD,CAAYsB,QAAQ,KAAKN,UAAWtB,EAAQ4C,OAA5C,oBAKF,kBAAC,EAAD,CACE7D,MAAOA,EACP4C,UAAWA,EACXvB,mBAAoBA,EACpB4B,WAAYA,EACZe,cAAeA,IAEnB,0BAAMzB,UAAWtB,EAAQ0C,SACvB,yBAAKnC,MAAO,CAAEmD,UAAW,SACpB7D,EAAM8D,a,wEClDJC,G,OApBE,SAAA/D,GACb,OACI,kBAACgE,EAAA,EAAD,CAAOtD,MAAO,CAAEuD,WAAY,UAAWpD,MAAO,QAASxB,OAAO,QAAS6E,QAAS,SAC3ElE,EAAM0D,MACH,yBAAKhD,MAAO,CAAEwD,QAAS,SACnB,yBAAKT,IAAKzD,EAAM0D,KAAMxQ,MAAM,MAAMyQ,OAAO,MAAMC,IAAI,UAG3D,kBAACnD,EAAA,EAAD,CAAYC,MAAO,CAAEyD,aAAc,QAAUpC,QAAQ,MAChD/B,EAAMoE,MAEVpE,EAAMqE,KAAKC,KAAI,SAACC,EAAKhR,GAAN,OAChB,0BAAMkO,UAAU,MAAM+C,IAAKjR,GACtBgR,S,SCAXvF,EAAYC,YAAW,CAC3BwF,KAAM,CACFP,QAAS,QAEbQ,MAAO,CACLf,OAAQ,KAEVgB,WAAW,CACTC,SAAU,IACVjB,OAAS,KAEXtB,MAAO,CACLhD,OAAQ,OACR6E,QAAS,OACTW,UAAW,SACXhE,MAAO,WAkIIiE,EA9HG,WAChB,IAAM3E,EAAUnB,IAEhB,OACE,6BACE,kBAAC+F,EAAA,EAAD,CAAMjD,WAAS,GACb,kBAACiD,EAAA,EAAD,CAAMC,MAAI,EAACC,GAAI,IACb,kBAAC,EAAD,CAAUb,KAAK,iBAAiBC,KAAM,CAAC,cAAe,mBAAoB,aAAc,iBAAkB,cAAeX,KAAMA,OAEjI,kBAACqB,EAAA,EAAD,CAAMC,MAAI,EAACC,GAAI,IACb,kBAACjB,EAAA,EAAD,CAAOvC,UAAWtB,EAAQkC,OAA1B,0cAKF,kBAAC0C,EAAA,EAAD,CAAMtD,UAAWtB,EAAQsE,KAAMO,MAAI,EAACC,GAAI,GAAIC,GAAI,EAAGC,GAAI,EAAGC,GAAI,GAC5D,kBAACC,EAAA,EAAD,CAAM5D,UAAWtB,EAAQwE,WAAYrF,QAAS,GAC5C,kBAACgG,EAAA,EAAD,KACE,kBAACC,EAAA,EAAD,CACE9D,UAAWtB,EAAQuE,MACnBc,MAAOC,EAAQ,KACf1C,MAAM,kBAER,kBAAC2C,EAAA,EAAD,KACE,kBAACjF,EAAA,EAAD,CAAYkF,cAAY,EAAC5D,QAAQ,KAAKX,UAAU,MAAhD,iBAGA,kBAACX,EAAA,EAAD,CAAYsB,QAAQ,QAAQlB,MAAM,gBAAgBO,UAAU,KAA5D,uGAMJ,kBAACwE,EAAA,EAAD,KAEE,kBAACC,EAAA,EAAD,CAAQ3Q,KAAK,QAAQ2L,MAAM,WACzB,kBAACiF,EAAA,EAAD,CAAMvE,KAAK,iCAAX,gBAMR,kBAACwD,EAAA,EAAD,CAAMtD,UAAWtB,EAAQsE,KAAMO,MAAI,EAACC,GAAI,GAAIC,GAAI,EAAGC,GAAI,EAAGC,GAAI,GAC5D,kBAACC,EAAA,EAAD,CAAM5D,UAAWtB,EAAQwE,WAAYrF,QAAS,GAC5C,kBAACgG,EAAA,EAAD,KACE,kBAACC,EAAA,EAAD,CACE9D,UAAWtB,EAAQuE,MACnBc,MAAOC,EAAQ,KACf1C,MAAM,aAER,kBAAC2C,EAAA,EAAD,KACE,kBAACjF,EAAA,EAAD,CAAYkF,cAAY,EAAC5D,QAAQ,KAAKX,UAAU,MAAhD,SAGA,kBAACX,EAAA,EAAD,CAAYsB,QAAQ,QAAQlB,MAAM,gBAAgBO,UAAU,KAA5D,qHAMJ,kBAACwE,EAAA,EAAD,KAEE,kBAACC,EAAA,EAAD,CAAQ3Q,KAAK,QAAQ2L,MAAM,WACzB,kBAACiF,EAAA,EAAD,CAAMvE,KAAK,wBAAX,gBAMR,kBAACwD,EAAA,EAAD,CAAMtD,UAAWtB,EAAQsE,KAAMO,MAAI,EAACC,GAAI,GAAIC,GAAI,EAAGC,GAAI,EAAGC,GAAI,GAC5D,kBAACC,EAAA,EAAD,CAAM5D,UAAWtB,EAAQwE,WAAYrF,QAAS,GAC5C,kBAACgG,EAAA,EAAD,KACE,kBAACC,EAAA,EAAD,CACE9D,UAAWtB,EAAQuE,MACnBc,MAAOC,EAAQ,KACf1C,MAAM,UAER,kBAAC2C,EAAA,EAAD,KACE,kBAACjF,EAAA,EAAD,CAAYkF,cAAY,EAAC5D,QAAQ,KAAKX,UAAU,MAAhD,SAGA,kBAACX,EAAA,EAAD,CAAYsB,QAAQ,QAAQlB,MAAM,gBAAgBO,UAAU,KAA5D,2GAMJ,kBAACwE,EAAA,EAAD,KACE,kBAACC,EAAA,EAAD,CAAQ3Q,KAAK,QAAQ2L,MAAM,WACzB,kBAACiF,EAAA,EAAD,CAAMvE,KAAK,qBAAX,gBAKR,kBAACwD,EAAA,EAAD,CAAMtD,UAAWtB,EAAQsE,KAAMO,MAAI,EAACC,GAAI,GAAIC,GAAI,EAAGC,GAAI,EAAGC,GAAI,GAC5D,kBAACC,EAAA,EAAD,CAAM5D,UAAWtB,EAAQwE,WAAYrF,QAAS,GAC5C,kBAACgG,EAAA,EAAD,KACE,kBAACC,EAAA,EAAD,CACE9D,UAAWtB,EAAQuE,MACnBc,MAAOC,EAAQ,KACf1C,MAAM,gBAER,kBAAC2C,EAAA,EAAD,KACE,kBAACjF,EAAA,EAAD,CAAYkF,cAAY,EAAC5D,QAAQ,KAAKX,UAAU,MAAhD,eAGA,kBAACX,EAAA,EAAD,CAAYsB,QAAQ,QAAQlB,MAAM,gBAAgBO,UAAU,KAA5D,sDACqD,kBAAC0E,EAAA,EAAD,CAAMvE,KAAK,wBAAX,4BADrD,mBAMJ,kBAACqE,EAAA,EAAD,KAEE,kBAACC,EAAA,EAAD,CAAQ3Q,KAAK,QAAQ2L,MAAM,WACzB,kBAACiF,EAAA,EAAD,CAAMvE,KAAK,4BAAX,mB,yFCnJT,SAASwE,GAAQC,EAAKC,GACzB,OAAOC,SAAY,WAKf,OAJaC,OAAWH,EAAK,CACzBI,WAAW,EACXH,UAAWA,OAKhB,SAASI,GAAc7J,EAAGJ,GAC7B,OAAOI,EAAE8J,QAAO,SAAAC,GAAC,OAAKnK,EAAEoK,SAASD,MAkB9B,SAASE,GAAIjK,EAAGJ,GAInB,OAHUI,EAAE8H,KAAI,SAAUoC,EAAGlV,GACzB,MAAO,CAACkV,EAAGtK,EAAE5K,OAId,SAASmV,KACZ,OAtBG,SAAoBC,GACvB,IAAMC,EAAQC,SAASC,eAAeH,GACzB,MAATC,GACAA,EAAMG,SAmBHC,CAAW,wBAEf,SAASC,GAAiC9C,EAAM+C,EAAKZ,EAAGa,EAAGC,GAM9D,IALA,IAAMC,EAAQ,CACVlD,KAAMA,EACN+C,IAAKA,EACLI,OAAQ,IAJyD,WAM5D/V,GAEL8V,EAAMC,OAAOxQ,KAAK,CACdqN,KAAM,MAAQ5S,EAAI,GAAK,KAEvB+V,OAAQd,GAAIF,EAAGa,GAAG9C,KAAI,YAAa,IAAD,mBAAViC,EAAU,KAAPa,EAAO,KAAE,MAAO,CAAEb,EAAGA,EAAE/U,GAAI4V,UAG1DE,EAAMC,OAAOxQ,KAAK,CACdqN,KAAM,KAAO5S,EAAI,SAEjB+V,OAAQd,GAAIF,EAAGc,GAAO/C,KAAI,YAAa,IAAD,mBAAViC,EAAU,KAAPa,EAAO,KAAE,MAAO,CAAEb,EAAGA,EAAE/U,GAAI4V,WAXzD5V,EAAI,EAAGA,EAAI+U,EAAE,GAAGjV,SAAUE,EAAI,EAA9BA,GAcT,OAAO8V,EAEJ,SAASE,GAAwBpO,EAAWT,EAAU8O,EAAMC,GAE/D,IADA,IAAMJ,EAAQ,CAAElD,KAAM,UAAW+C,IAAK,cAAeI,OAAQ,IACpD/V,EAAI,EAAGA,EAAImH,EAASrH,SAAUE,EACnC8V,EAAMC,OAAOxQ,KAAK,CACdqN,KAAM,WAAa5S,EACnB+V,OAAQ5O,EAASnH,GAAG8S,KAAI,SAAA3K,GAAa,MAAO,CAAE4M,EAAG5M,EAAQ8N,GAAOL,EAAGzN,EAAQ+N,SAEnF,IAAK,IAAIlW,EAAI,EAAGA,EAAI4H,EAAU9H,SAAUE,EACpC8V,EAAMC,OAAOxQ,KAAK,CACdqN,KAAM,YAAc5S,EACpB+V,OAAQ,CAAC,CAAEhB,EAAGnN,EAAU5H,GAAGiW,GAAOL,EAAGhO,EAAU5H,GAAGkW,OAG1D,OAAOJ,EAEJ,SAAeK,GAAtB,uC,+CAAO,WAA4BvD,EAAM+C,EAAKI,GAAvC,iBAAA/K,EAAA,sDACGlB,EAAOiM,EAAOjD,KAAI,SAAClS,EAAOmB,GAAY,MAAO,CAAEA,QAAOnB,YAEtDwV,EAAU,CAAExD,KAAMA,EAAM+C,IAAKA,GACnCU,UAAaC,SAASF,EAAStM,GAJ5B,4C,sBAMA,SAAeyM,GAAtB,mC,+CAAO,WAA+BT,GAA/B,mBAAA9K,EAAA,6DACGwL,EAASV,EAAMC,OAAOjD,KAAI,SAAAlS,GAAK,OAAIA,EAAMmV,UACzCU,EAAeX,EAAMC,OAAOjD,KAAI,SAAAlS,GAAK,OAAIA,EAAMgS,QAC/C9I,EAAO,CAAEiM,OAAQS,EAAQA,OAAQC,GAHpC,SAIGJ,UAAaK,YAAY,CAAE9D,KAAMkD,EAAMlD,KAAM+C,IAAKG,EAAMH,KAAO7L,GAJlE,4C,iIC3DD0D,GAAYC,aAAW,SAACC,GAAD,MAAY,CACrC3G,KAAM,CACFuK,SAAU,GAEdL,OAAQ,CACJ5B,MAAO,UACPsH,gBAAiB,WAErBC,WAAY,CACRxF,YAAa1D,EAAMI,QAAQ,IAE/ByD,MAAO,CACHD,SAAU,OAIZuF,GAAoB,SAAArI,GAAU,IACxBjB,EAAauJ,qBAAW1J,GAAxBG,SACFoB,EAAUnB,KACRoD,EAA4BpC,EAA5BoC,QAASF,EAAmBlC,EAAnBkC,KAAMqG,EAAavI,EAAbuI,SASvB,OACI,kBAACC,GAAA,EAAD,CAAQpG,QAASA,EAASqG,kBAAgB,sBAAsBvG,KAAMA,GAClE,kBAACkB,EAAA,EAAD,CAAQ3B,UAAWtB,EAAQsC,OAAQY,SAAS,UACxC,kBAACC,EAAA,EAAD,KACI,kBAACC,EAAA,EAAD,CAAYC,KAAK,QAAQ/B,UAAWtB,EAAQiI,WAAYvH,MAAM,UAAUa,aAAW,QAC/E,kBAAC,KAAD,OAEJ,kBAACjB,EAAA,EAAD,CAAYsB,QAAQ,KAAKN,UAAWtB,EAAQ4C,OAA5C,wBAKR,kBAAChC,EAAA,EAAD,KACKwH,EAASjE,KAAI,SAACoE,EAASnV,GAAV,OACV,kBAACiN,EAAA,EAAD,CAAUgE,IAAKjR,GACX,kBAACoV,GAAA,EAAD,KACI,kBAACC,GAAA,EAAD,KACI,kBAACrF,EAAA,EAAD,CACIvC,QAAS,kBAzBzB,SAACgF,GACb,IACM1K,EAAOyK,GADI8C,mBAAmB7C,EACH,KACjCjH,EAASzD,GACT8G,IAqB2C0G,CAAQJ,EAAQ1C,MAC/BtF,MAAO,CAAEG,MAAO,QAAS+B,YAAa,OACtCY,KAAK,MACL9B,aAAW,QAEX,kBAAC,KAAD,SAIZ,kBAACT,EAAA,EAAD,CACIC,QAASwH,EAAQtE,OAErB,kBAAC2E,GAAA,EAAD,KACQ,kBAACxF,EAAA,EAAD,CAAYC,KAAK,MAAM9B,aAAW,YAC9B,kBAACoE,EAAA,EAAD,CAAMvE,KAAI,UA/D3ByH,kBA+D2B,YAAmBN,EAAQ1C,MACjC,kBAAC,KAAD,CAAmBtF,MAAO,CAAEG,MAAO,oBA2D5DoI,GA1CK,WAAO,IAAD,EACEhG,oBAAS,GADX,mBACff,EADe,KACTgH,EADS,OAEkBjG,qBAFlB,mBAEfkG,EAFe,KAEDC,EAFC,KAItBC,qBAAU,YACa,wCAAG,4BAAA7M,EAAA,sEACK8M,MAtFdN,iCAqFS,cACZO,EADY,YAElBH,EAFkB,SAEIG,EAAS7K,OAFb,6EAAH,qDAInB8K,KACD,IAEH,IAAMC,EAAe,wCAAG,sBAAAjN,EAAA,sDACpB0M,GAAQ,GADY,2CAAH,qDAQrB,OACI,yBAAKxI,MAAO,CAAErB,OAAQ,SACjB8J,GACG,6BACI,kBAACtD,EAAA,EAAD,CACA9D,QAAQ,YACRrB,MAAO,CACHxN,MAAO,OACP2N,MAAO,UACPsH,gBAAiB,WAErBnH,QAASyI,GAPT,qBAWA,kBAAC,GAAD,CAAmBvH,KAAMA,EAAME,QAnB3B,SAAChQ,GACjB8W,GAAQ,IAkByDX,SAAUY,OC/GpEO,GArBK,SAAA1J,GAChB,IAAM2J,EAAaC,mBAWnB,OATAP,qBAAU,YACgB,wCAAG,8BAAA7M,EAAA,sEACE8M,MAPXN,oCAMS,cACfO,EADe,gBAEFA,EAAS7K,OAFP,OAEfpD,EAFe,OAGrBqO,EAAWE,QAAQC,UAAYxO,EAAK0E,EAAM+J,MAHrB,2CAAH,qDAKtBC,KACD,CAAChK,EAAM+J,OAGN,kBAAC/F,EAAA,EAAD,CAAOtD,MAAO,CAAEuD,WAAY,UAAWpD,MAAO,UAAWxB,OAAO,OAAQ6E,QAAS,SAC7E,kBAACzD,EAAA,EAAD,CAAYC,MAAO,CAAEC,SAAU,OAAQC,WAAY,OAASmB,QAAQ,KAAKkI,IAAKN,GACzE3J,EAAMoE,Q,SCXhB,SAAS8F,GAAgBnY,EAAKoL,EAAK/K,GACtC,OAAO+X,SAAQ,WACX,IAAMC,EAAMrY,EAAIsY,IAAIlN,GAGpB,OAFY/K,EAAMiY,IAAIlN,GACCmN,IAAIF,MAI5B,SAASG,GAAaC,EAAKC,GAC9B,OAAON,SAAQ,WAAQ,OAAOD,GAAgBM,EAAIzY,IAAKyY,EAAIrN,IAAKsN,MAE7D,SAASC,GAAgB3Y,EAAKoL,EAAKsN,GACtC,OAAON,SAAQ,WACX,IAAMC,EAAMrY,EAAIsY,IAAIlN,GAGpB,OAFYsN,EAAKE,IAAIP,GACFQ,IAAIzN,MAIxB,SAAS0N,GAAuBL,EAAKC,GACxC,OAAON,SAAQ,WACX,OAAOO,GAAgBF,EAAIzY,IAAKyY,EAAIrN,IAAKgN,UAAUM,OAGpD,SAASK,GAAaN,EAAKC,GAC9B,OAAON,SAAQ,WACX,OAAOO,GAAgBF,EAAIzY,IAAKyY,EAAIrN,IAAKsN,MAI1C,SAASM,GAAaC,GACzB,OAAOb,SAAQ,kBAAMa,EAAOC,MAAM,MAE/B,SAASC,GAAoBC,EAAOC,GACvC,OAAOjB,SAAQ,WAIX,OAAOA,QAAQA,WAAWkB,iBAAiBF,EAAOC,OAGnD,SAAeE,GAAtB,mC,+CAAO,WAA0B/D,GAA1B,iCAAA/K,EAAA,6DAAkC+O,EAAlC,+BAAyC,EACtCC,EAAUrB,UAAU5C,GACpBkE,EAAUD,EAAQE,OAAOH,GAF5B,SAGkBE,EAAQE,QAH1B,cAGGD,EAHH,OAIHF,EAAQI,UACRH,EAAQG,UALL,kBAMIF,GANJ,4C,sBAQA,SAASG,GAAarB,GACzBA,EAAIpY,MAAMwZ,UACVpB,EAAIzY,IAAI6Z,UACRpB,EAAIrN,IAAIyO,UAEL,SAASE,KAAwB,IAAD,uBAANxV,EAAM,yBAANA,EAAM,gBACnC,cAAkBA,EAAlB,gBAAK,IAAMkU,EAAG,KACVqB,GAAarB,IAEd,SAASuB,GAA0BC,EAAYvY,EAAG6H,GAErD,IADA,IAAI3C,EAAW,GACNnH,EAAI,EAAGA,EAAIiC,IAAKjC,EACrBmH,EAAS5B,KAAK,IAClB,IAAK,IAAIvF,EAAI,EAAGA,EAAIwa,EAAW1a,SAAUE,EAAG,CACxC,IAAMmI,EAAUqS,EAAWxa,GACrBY,EAAQkJ,EAAK9J,GACnBmH,EAASgB,GAAS5C,KAAK3E,GAE3B,OAAOuG,EAMJ,SAASsT,GAAsB3Q,GAA0B,IAApB4Q,EAAmB,uDAAJ,GACvD,GAA4B,IAAxBA,EAAa5a,OACb,OAAOgK,EACX,IAH2D,EAGrD6Q,EAAU,GAH2C,eAI1C7Q,GAJ0C,IAI3D,2BAAuB,CAAC,IAAb8Q,EAAY,QACbC,EAAS,GACf,IAAK,IAAMC,KAAWF,EAClB,GAAKF,EAAa1F,SAAS8F,GAA3B,CAEA,IAAMla,EAAQga,EAAGE,GACjBD,EAAOC,GAAWla,EAEtB+Z,EAAQpV,KAAKsV,IAZ0C,8BAc3D,OAAOF,EAKJ,SAAeI,GAAtB,qC,+CAAO,WAAqCzN,EAAK0N,GAA1C,2CAAAhQ,EAAA,6DAAoDiQ,EAApD,+BAA8D,GAAIC,EAAlE,yCACgB5N,EAAI6N,UADpB,cACGrR,EADH,SAIcsR,GAAuBtR,EAAMkR,EAAUC,EAASC,GAJ9D,mBAIIG,EAJJ,KAIQC,EAJR,cAMaD,EAAGza,MAAMuZ,QANtB,cAMGpF,EANH,iBAOauG,EAAG1a,MAAMuZ,QAPtB,eAOGvE,EAPH,OAUH0E,GAAce,EAAIC,GAVf,kBAWI,CAACvG,EAAGa,IAXR,6C,sBAaA,SAAe2F,GAAtB,mC,+CAAO,WAAuCjO,GAAvC,2CAAAtC,EAAA,6DAA4C0P,EAA5C,+BAA2D,GAA3D,yCACgBpN,EAAI6N,UADpB,cACGrR,EADH,gBAEe2Q,GAAsB3Q,EAAM4Q,GAF3C,OAEGc,EAFH,OAGGzF,EAAS,GAHZ,eAIgByF,GAJhB,IAIH,2BAAwB,CAEpB,IAAWxI,KAFJyI,EAAa,QACd7a,EAAQ,GACI6a,EACd7a,EAAM2E,KAAKkW,EAAKzI,IACpB+C,EAAOxQ,KAAK3E,IARb,uDAUImV,GAVJ,6C,sBAYP,SAAS2F,GAAmBF,EAAK1R,GAAyB,IAAnBoR,IAAkB,yDACrD,OAAOvC,SAAQ,WAMX,IALA,IAAM/X,EAAQ,CACVA,MAAO,GACPL,IAAK,GACLoL,IAAK,IAEA3L,EAAI,EAAGA,EAAI8J,EAAKhK,SAAUE,EAC/BY,EAAMA,MAAM2E,KAAK,IAErB,IAAK,IAAMuV,KAAWU,EAAK,CACvB,IAAMjb,EAAMib,EAAIV,GAASva,IACnBoL,EAAM6P,EAAIV,GAASnP,IACzB/K,EAAML,IAAIgF,KAAKhF,GACfK,EAAM+K,IAAIpG,KAAKoG,GACf,IAAK,IAAI3L,EAAI,EAAGA,EAAIwb,EAAIV,GAASla,MAAMd,SAAUE,EACzCkb,IACAM,EAAIV,GAASla,MAAMZ,IAAMwb,EAAIV,GAASla,MAAMZ,GAAK2L,IAAQpL,EAAMoL,IACnE/K,EAAMA,MAAMZ,GAAGuF,KAAKiW,EAAIV,GAASla,MAAMZ,IAM/C,OAHAY,EAAML,IAAMoY,UAAU/X,EAAML,KAC5BK,EAAM+K,IAAMgN,UAAU/X,EAAM+K,KAC5B/K,EAAMA,MAAQ+X,UAAU/X,EAAMA,OACvBA,KAQR,SAASwa,GAAuBtR,EAAMkR,GAA2C,IAAjCC,EAAgC,uDAAtB,GAAIC,IAAkB,yDACnF,OAAOvC,SAAQ,WACX,IADiB,EACbgD,EAAQ,GACRC,EAAQ,GAFK,eAIA9R,GAJA,IAIjB,gCAAW8Q,EAAX,QACI,IAAK,IAAME,KAAWF,EAClB,GAAuB,IAAnBK,EAAQnb,QAAiBmb,EAAQjG,SAAS8F,GAA9C,CAGA,IAAMla,EAAQga,EAAGE,GACbE,EAAShG,SAAS8F,IACI,MAAlBc,EAAMd,KACNc,EAAMd,GAAW,CAAEla,MAAO,GAAI+K,IAAK5D,OAAO8T,iBAAkBtb,IAAKwH,OAAO+T,mBAC5EF,EAAMd,GAASva,IAAMN,KAAKM,IAAIqb,EAAMd,GAASva,IAAKK,GAClDgb,EAAMd,GAASnP,IAAM1L,KAAK0L,IAAIiQ,EAAMd,GAASnP,IAAK/K,GAClDgb,EAAMd,GAASla,MAAM2E,KAAK3E,KAEJ,MAAlB+a,EAAMb,KACNa,EAAMb,GAAW,CAAEla,MAAO,GAAI+K,IAAK5D,OAAO8T,iBAAkBtb,IAAKwH,OAAO+T,mBAC5EH,EAAMb,GAASla,MAAM2E,KAAK3E,GAC1B+a,EAAMb,GAASva,IAAMN,KAAKM,IAAIob,EAAMb,GAASva,IAAKK,GAClD+a,EAAMb,GAASnP,IAAM1L,KAAK0L,IAAIgQ,EAAMb,GAASnP,IAAK/K,MArB7C,8BA0BjB,MAAO,CAFG8a,GAAmBC,EAAO7R,EAAMoR,GAChCQ,GAAmBE,EAAO9R,EAAMoR,OCtL3C,SAASa,GAAYC,EAAMC,EAAQC,EAAIC,EAAIC,GAC9C,OAAOzD,SAAQ,WACX,IAAM0D,EAAc1D,gBAAgB2D,KAAK,CACrCJ,GAAIA,EACJC,GAAIA,IAEFI,EAAQ5D,gBAad,OAZA4D,EAAMnD,IACFT,UAAU6D,MAAM,CACZC,MAAOT,EACPU,WAAY,CAACT,GACbU,kBAAmBN,KAG3BE,EAAMK,QAAQ,CACVC,KAAMnD,GACNoD,UAAWnE,SAASoE,IAAIX,GACxBY,QAAS,CAACtD,MAEP6C,KAGR,SAAeU,GAAtB,qC,+CAAO,WACHC,EAAQC,GADL,2CAAAnS,EAAA,6DAEHoS,EAFG,+DAAApS,EAAA,MAEkB,WAAOqS,GAAP,SAAArS,EAAA,0FAFlB,sDAGHkR,EAHG,+BAGE,EAAKC,EAHP,+BAGY,EACfmB,EAJG,+BAIM,IAAKC,EAJX,+BAIuB,GAAIC,EAJ3B,+BAI6C,GAChDpB,EALG,+BAKY,IAETG,EAAQR,GAAY0B,GAAcN,GAASM,GAAcP,GAAShB,EAAIC,EAAIC,GAC1EsB,EAAO,GARV,UAUGnB,EAAMoB,IAAIT,EAAQC,EAAQ,CAC5BI,UAAWA,EACXD,OAAQA,EACRM,SAAS,EACTJ,gBAAkBA,EAAkB,IACpCK,UAAW,CACPC,WAAW,WAAD,6BAAE,WAAOC,EAAO9Q,GAAd,SAAAjC,EAAA,6DACR0S,EAAKnY,KAAK,CACNyY,SAAU/Q,EAAI4P,KACdoB,aAAchR,EAAIiR,SAClBH,MAAOA,IAJH,SAOFX,EAAmBM,GAPjB,2CAAF,qDAAC,MAhBhB,iCA2BInB,GA3BJ,6C,sBA8BA,SAAS4B,GAAQ5B,EAAO3b,GAA0B,IAAnBwd,EAAkB,uDAAX,aACzC,OAAOzF,SAAQ,WACX,OAAO4D,EAAM3P,QAAQ+L,UAAU,CAAC/X,IAASwd,MAQ1C,SAAeC,GAAtB,uC,+CAAO,WAAkC9B,EAAOxH,EAAGa,GAA5C,mBAAA5K,EAAA,6DACGsT,EAAQH,GAAQ5B,EAAOxH,GACvBwJ,EAAUjF,GAAa1D,EAAG0I,GAChCA,EAAMlE,UAHH,SAIuBmE,EAAQpE,QAJ/B,cAIGqE,EAJH,OAIwC,GAC3CD,EAAQnE,UALL,kBAMIoE,GANJ,4C,sBAQA,SAAeC,GAAtB,uC,+CAAO,WAA8BlC,EAAOxH,EAAGa,GAAxC,yCAAA5K,EAAA,6DACC0T,EAAa,GADd,mBAEqB3J,EAAEnU,MAAMuZ,QAF7B,wCAEH,2BAAWnB,EAA8B,QAC/BC,EAAOkF,GAAQ5B,EAAOvD,GAC5B0F,EAAWnZ,KAAK0T,GAJjB,qCAMC0F,EAAYD,EAAW5L,KAAI,SAAAmG,GAAI,OAAIA,EAAKkB,WANzC,UAOeyE,QAAQC,IAAIF,GAP3B,QAUH,IAFAA,GADAA,EAPG,QAQmB7L,KAAI,SAAAmG,GAAI,OAAIA,EAAK,MAEvC,MAA2ByF,EAA3B,oBACiBtE,UAXd,OAYG0E,EAASzF,GAAuBzD,EAAG+I,GAZtC,UAaiBG,EAAO3E,QAbxB,eAaGtE,EAbH,OAeGkJ,EAAUzF,GAAavE,EAAGA,EAAEnU,OAf/B,UAgBkBme,EAAQ5E,QAhB1B,eAgBG6E,EAhBH,OAkBGC,EAAU3F,GAAa1D,EAAGA,EAAEhV,OAlB/B,UAmBkBqe,EAAQ9E,QAnB1B,eAmBG+E,EAnBH,OAqBHJ,EAAO1E,UACP2E,EAAQ3E,UACR6E,EAAQ7E,UACRpN,QAAQC,IAAI4I,EAAOmJ,EAAQE,GAxBxB,kBAyBI,CAACrJ,EAAOmJ,EAAQE,IAzBpB,6C,+CC1CQC,GAzBG,WAAO,IACb5R,EAAauJ,qBAAW1J,GAAxBG,SADY,EAGckE,mBAAS,KAHvB,mBAGbgD,EAHa,KAId2K,GAJc,KAIR,wCAAG,WAAOC,EAAUC,EAAUC,GAA3B,iBAAAvU,EAAA,sDACPqU,GAAYA,EAASvf,OAAS,IACxB0U,EAAM6K,EAAS,GAAGG,QAClB1V,EAAOyK,GAAQC,EAAKC,GAC1BlH,EAASzD,IAJF,2CAAH,2DAQZ,OACI,kBAAC0I,EAAA,EAAD,CAAOtD,MAAO,CAAErB,OAAQ,OAAQ6E,QAAS,SACrC,kBAAC,KAAD,CAAezC,UAAU,WAAWwP,OAAO,OAAOC,UAAU,EAAON,OAAQA,GACvE,yBAAKnP,UAAU,mBACX,yBAAKf,MAAO,CAAEvB,QAAS,UACnB,iE,qBCmBTgS,GAtCE,WAAO,IACZrS,EAAQwJ,qBAAW1J,GAAnBE,IADW,EAEWmE,mBAAS,IAFpB,mBAEZmO,EAFY,KAEHC,EAFG,OAGKpO,mBAAS,IAHd,mBAGZ3H,EAHY,KAGNgW,EAHM,KAKnBjI,qBAAW,WACP,GAAIvK,EAAK,8CACL,sBAAAtC,EAAA,kEACI6U,EADJ,SACqBvS,EAAIyS,cADzB,8CAEID,EAFJ,SAEkBxS,EAAI6N,UAFtB,+EADK,uBAAC,WAAD,wBAKL6E,MAEL,CAAC1S,IAOJ,OACI,yBAAK2C,UAAU,aACV3C,EACG,kBAAC,KAAD,CACIiE,MAAO,aACPzH,KAAMA,EACN8V,QAASA,EACTxW,QAZA,CACZ6W,WAAY,WACZC,WAAY,YAaA,yBAAKhR,MAAO,CAAEmE,UAAW,WACrB,gD,kDCZlB7F,GAAYC,aAAW,SAAAC,GAAK,MAAK,CACnCmD,MAAO,CACHhD,OAAQH,EAAMI,QAAQ,EAAG,GACzBH,QAAS,OACTwS,cAAe,SACfC,WAAY,UAEhBC,YAAa,CACTxS,OAAQH,EAAMI,QAAQ,GACtBpM,MAAO,OAEX4e,YAAa,CACTjO,UAAW3E,EAAMI,QAAQ,IAE7ByS,KAAM,CACF7e,MAAO,MACP2Q,UAAW3E,EAAMI,QAAQ,GACzB0S,WAAY,QAEhBC,OAAQ,CACJ/e,MAAO,aAITgf,GAAgB,CAAEzE,OAAQ,KAAM1V,OAAQ,KAAMgW,MAAO,M,SAgB5CoE,G,wFAAf,WAA8BrT,EAAKsT,EAAQhB,EAASiB,GAApD,mBAAA7V,EAAA,sEACwBsC,EAAI6N,UAD5B,mBACuCyF,EAA7B9W,EADV,aAEUiW,EAAce,GAAoBlB,EAAS,CAACiB,IAC5C9K,EAASgL,OAAOC,KAAKlX,GAAMgL,QAAO,SAAA9B,GAAG,OAAI+M,EAAY/K,SAAShC,MAAMF,KAAI,SAAAkG,GAAG,OAAIlP,EAAKkP,MAH9F,kBAIWjD,EAAO9Q,KAAK,MAJvB,4C,+BAOegc,G,oFAAf,WAA6B1E,EAAO2E,GAApC,qBAAAlW,EAAA,6DACUmW,EAASxI,UAAUuI,GACnBE,EAAarI,GAAa2H,GAAczE,OAAQkF,GACtDA,EAAO/G,UAHX,SAI4BgH,EAAWjH,QAJvC,cAIUkH,EAJV,OAKID,EAAWhH,UALf,SAMuBkH,GAAyC/E,EAAO8E,EAAWX,GAAcna,QANhG,cAMU0S,EANV,yBAOWA,GAPX,6C,+BAUesI,G,kGAAf,WAAuBjU,EAAKkU,EAAWC,EAAWvF,EAAIC,EAAImB,EAAQC,EAAWC,EAAiBpB,GAA9F,uCAAApR,EAAA,6DACgC,MAAxB0V,GAAczE,QAA0C,MAAxByE,GAAcna,QAAyC,MAAvBma,GAAcnE,QAC9EjC,GAAcoG,GAAczE,OAAQyE,GAAcna,QAClDma,GAAcnE,MAAMnC,UACpBsG,GAAcnE,MAAQ,MAJ9B,SAM4BjP,EAAI6N,UANhC,cAMUuG,EANV,OAOIZ,KACAzK,WAAc3F,OARlB,EAS2B0K,GAAuBsG,EAAWF,EAAWC,GATxE,mBASWP,EATX,KASkB7d,EATlB,KAUUse,EAAgB,CAAE/O,KAAM,YAAa+C,IAAK,QAVpD,UAWwB2L,GAA0BJ,EAAMtgB,MAAOyC,EAAMzC,MAA7C,wCAAoD,WAAO8c,GAAP,SAAA1S,EAAA,sEAC9DqL,QAAW5H,QAAQkT,EAAejE,EAAM,CAAC,WAAY,iBADS,2CAApD,sDAEjBxB,EAAIC,EAAImB,EAAQC,EAAWC,EAAiBpB,GAbnD,eAWUG,EAXV,QAcUqF,UAdV,UAeUvL,QAAWwL,aAAa,CAAEjP,KAAM,QAAS+C,IAAK,SAAW4G,GAfnE,yBAkB8C+E,GAAqC/E,EAAO2E,EAAO7d,GAlBjG,2CAkBewS,EAlBf,KAkBsBmJ,EAlBtB,KAkB8BE,EAlB9B,KAmBcpJ,EAAQgL,GAAuC,UAAW,OAAQ9B,EAAQE,EAAQrJ,GAnBhG,UAoBciL,GAAsBhL,GApBpC,QAsBI4K,GAAczE,OAASiF,EACvBR,GAAcna,OAASlD,EACvBqd,GAAcnE,MAAQA,EACtBmE,GAAczE,OAAOrb,MAAMwZ,UAC3BsG,GAAcna,OAAO3F,MAAMwZ,UAE3BpN,QAAQC,IAAI,qBAAsB0L,aA5BtC,6C,sBA+Be,SAASmJ,KACpB,IAAMnT,EAAUnB,KADuB,EAEbiE,mBAAS,IAFI,mBAEhCsQ,EAFgC,KAEzBC,EAFyB,KAG/B1U,EAAQwJ,qBAAW1J,GAAnBE,IAH+B,EAIDmE,mBAAS,IAJR,mBAIhCsO,EAJgC,KAInBkC,EAJmB,OAKTxQ,qBALS,mBAKhCyQ,EALgC,KAKvBC,EALuB,OAML1Q,mBAAS,aANJ,mBAMhC2Q,EANgC,KAMrBC,EANqB,OAOH5Q,mBAAS,IAPN,mBAOhC+M,EAPgC,KAOpB8D,EAPoB,OAQC7Q,oBAAS,GARV,mBAQhC8Q,EARgC,KAQnBC,EARmB,KAoBvC,OAXA3K,qBAAU,WAAM,6CAGZ,4BAAA7M,EAAA,sEAC0BsC,EAAIyS,cAD9B,OACUH,EADV,OAEIqC,EAAerC,GACfuC,EAAWvC,EAAQA,EAAQ9f,OAAS,IAHxC,4CAHY,sBACD,MAAPwN,GADQ,mCAQZmV,KACD,CAACnV,EAAK2U,IAGL,kBAAC1O,EAAA,EAAD,CAAMjD,WAAS,GACX,kBAACiD,EAAA,EAAD,CAAMC,MAAI,EAACG,GAAI,EAAGF,GAAI,IAClB,kBAAC,EAAD,CAAUb,KAAK,oBAAoBC,KAAM,CAAC,iBAAkB,gBAC5D,kBAAC,GAAD,MACA,kBAAC,GAAD,OAEJ,kBAACU,EAAA,EAAD,CAAMC,MAAI,EAACG,GAAI,EAAGF,GAAI,IAClB,kBAAC,GAAD,MACA,kBAAC,GAAD,CAAa8E,KAAK,OACjBjL,GAAO4U,EACJ,yBAAKhT,MAAO,CAAEwD,QAAS,SAClBqP,GACG,kBAACW,GAAA,EAAD,CAAO9R,QAAS,kBAAMoR,EAAS,KAAKW,SAAS,SACxCZ,GAGT,kBAAC,KAAD,CACIa,oBAAkB,EAClBC,cAAe,CACXC,SAAU/C,EACVgD,eAAgBb,EAChBhG,GAAI,EACJC,GAAI,EACJoB,UAAW,GACXC,gBAAiB,GACjBpB,aAAc,IACdkB,OAAQ,IAEZ0F,SAAU,SAAAjN,GACN,IAAMkN,EAAS,GAsCf,OArCKlN,EAAOgN,iBACRE,EAAOF,eAAiB,YAEX,MAAbhN,EAAOmG,KACP+G,EAAO/G,GAAK,YAEZnG,EAAOmG,GAAK,IACZ+G,EAAO/G,GAAK,oBAEC,MAAbnG,EAAOoG,KACP8G,EAAO9G,GAAK,YAEZpG,EAAOoG,GAAK,IACZ8G,EAAO9G,GAAK,oBAEXpG,EAAOwH,YACR0F,EAAO1F,UAAY,YAElBxH,EAAOyH,kBACRyF,EAAOzF,gBAAkB,YAEzBzH,EAAOyH,gBAAkB,IACzByF,EAAOzF,gBAAkB,4BAExBzH,EAAOqG,eACR6G,EAAO7G,aAAe,aAEtBrG,EAAOqG,aAAe,GAAKrG,EAAOqG,aAAe,KACjD6G,EAAO7G,aAAe,yBAErBrG,EAAOuH,SACR2F,EAAO3F,OAAS,YAEhBvH,EAAOuH,OAAS,IAChB2F,EAAO3F,OAAS,4BAGb2F,GAEXC,SAAU,SAACnN,EAAD,GAAgC,IAArBoN,EAAoB,EAApBA,eACM,wCAAG,WAAMpN,GAAN,eAAA/K,EAAA,6DAClBoY,EADkB,sBACNrN,EAAO+M,UADD,CACW/M,EAAOgN,iBACxCK,EAAK,YAAO,IAAIC,IAAID,IAFE,SAIlBpB,EAAS,IACTQ,GAAiB,GALC,SAMZjB,GACFjU,EACA,CAACyI,EAAOgN,gBACRK,EACArN,EAAOmG,GACPnG,EAAOoG,GACPpG,EAAOuH,OACPvH,EAAOwH,UACPxH,EAAOyH,gBACPzH,EAAOqG,cAfO,cAgBlBoG,GAAiB,GAhBC,KAiBlBH,EAjBkB,UAiBC1B,GAAerT,EAAK,EAAG8V,EAAOlB,GAjB/B,qFAmBlBlV,QAAQ+U,MAAR,MACAC,EAAS,6BACTQ,GAAiB,GArBC,0DAAH,sDAwBvBc,CAAkBvN,GAClBoN,GAAc,MAEpB,gBACEpN,EADF,EACEA,OACAkN,EAFF,EAEEA,OACAM,EAHF,EAGEA,QACAC,EAJF,EAIEA,aACAC,EALF,EAKEA,WACAC,EANF,EAMEA,aACAC,EAPF,EAOEA,aACAC,EARF,EAQEA,cARF,OAUM,0BAAM3T,UAAWtB,EAAQ4R,KAAM2C,SAAUQ,GACrC,kBAACnQ,EAAA,EAAD,CAAMjD,WAAS,EAACxC,QAAS,GACrB,kBAACyF,EAAA,EAAD,CAAMC,MAAI,EAACC,GAAI,IACX,kBAACjB,EAAA,EAAD,CAAOtD,MAAO,CAAEyH,gBAAiB,QAASjE,QAAS,SAAnD,gDAGA,kBAACa,EAAA,EAAD,CAAMjD,WAAS,EAACxC,QAAS,GACpBiS,EAAYjN,KAAI,SAAC+Q,EAAQ9hB,GAAT,OACb,kBAACwR,EAAA,EAAD,CAAMC,MAAI,EAACC,GAAI,EAAGT,IAAKjR,GAClB8hB,IAAW9N,EAAOgN,gBACf,kBAACe,GAAA,EAAD,CACIC,QAAS,kBAACC,GAAA,EAAD,CACLC,QAASlO,EAAO+M,SAAS9N,SAAS6O,GAClCxU,MAAM,UACNuD,KAAMiR,EACNK,SAAU,SAACC,GACP,IAAIhK,EAAQpE,EAAO+M,SACnB,GAAI3I,EAAMnF,SAASmP,EAAMC,OAAOxR,MAAO,CACnC,IAAMyR,EAAWlK,EAAMrF,QAAO,SAACwP,GAAD,OAASA,IAAQH,EAAMC,OAAOxR,QAC5DgR,EAAc,WAAYS,GAAU,QAEpClK,EAAM5U,KAAK4e,EAAMC,OAAOxR,MACxBgR,EAAc,WAAYzJ,GAAO,MAI7C9W,MAAOwgB,UAO/B,kBAACtQ,EAAA,EAAD,CAAMC,MAAI,EAACC,GAAI,IACX,kBAAC8Q,GAAA,EAAD,CAAWC,GAAG,SACVnhB,MAAM,cAAcjB,QAAM,EAC1BqiB,WAAS,EACT7jB,MAAOmV,EAAOgN,eACdnQ,KAAK,iBACLsR,SAAUV,EACVjT,QAAQ,UAEPwP,EAAYjN,KAAI,SAAC+Q,EAAQ9hB,GAAT,OACb,kBAAC2iB,GAAA,EAAD,CAAU1R,IAAKjR,EAAOnB,MAAOijB,GAASA,OAG9C,kBAACc,GAAA,EAAD,yBAEJ,kBAACpR,EAAA,EAAD,CAAMC,MAAI,EAACC,GAAI,GACX,kBAAC8Q,GAAA,EAAD,CACIhU,QAAQ,SACRlN,MAAM,KACNuP,KAAK,KACLgS,KAAK,SACLV,SAAUV,EACVqB,OAAQpB,EACR7iB,MAAOmV,EAAOmG,KAGlB,yBAAKhN,MAAO,CAAErB,OAAQ,OAAQwB,MAAO,QAChC4T,EAAO/G,IAAMqH,EAAQrH,IAAM+G,EAAO/G,KAG3C,kBAAC3I,EAAA,EAAD,CAAMC,MAAI,EAACC,GAAI,GACX,kBAAC8Q,GAAA,EAAD,CACIhU,QAAQ,SACRlN,MAAM,KACNuP,KAAK,KACLgS,KAAK,SACLV,SAAUV,EACVqB,OAAQpB,EACR7iB,MAAOmV,EAAOoG,KAElB,yBAAKjN,MAAO,CAAErB,OAAQ,OAAQwB,MAAO,QAChC4T,EAAO9G,IAAMoH,EAAQpH,IAAM8G,EAAO9G,KAG3C,kBAAC5I,EAAA,EAAD,CAAMC,MAAI,EAACC,GAAI,GACX,kBAAC8Q,GAAA,EAAD,CACIhU,QAAQ,SACRlN,MAAM,aACNuP,KAAK,YACLgS,KAAK,SACLV,SAAUV,EACVqB,OAAQpB,EACR7iB,MAAOmV,EAAOwH,YAElB,yBAAKrO,MAAO,CAAErB,OAAQ,OAAQwB,MAAO,QAChC4T,EAAO1F,WAAagG,EAAQhG,WAAa0F,EAAO1F,YAGzD,kBAAChK,EAAA,EAAD,CAAMC,MAAI,EAACC,GAAI,GACX,kBAAC8Q,GAAA,EAAD,CACIhU,QAAQ,SACRlN,MAAM,mBACNuP,KAAK,kBACLgS,KAAK,SACLV,SAAUV,EACVqB,OAAQpB,EACR7iB,MAAOmV,EAAOyH,kBAElB,yBAAKtO,MAAO,CAAErB,OAAQ,OAAQwB,MAAO,QAChC4T,EAAOzF,iBAAmB+F,EAAQ/F,iBAAmByF,EAAOzF,kBAGrE,kBAACjK,EAAA,EAAD,CAAMC,MAAI,EAACC,GAAI,GACX,kBAAC8Q,GAAA,EAAD,CACIhU,QAAQ,SACRlN,MAAM,gBACNuP,KAAK,eACLgS,KAAK,SACLV,SAAUV,EACVqB,OAAQpB,EACR7iB,MAAOmV,EAAOqG,eAElB,yBAAKlN,MAAO,CAAErB,OAAQ,OAAQwB,MAAO,QAChC4T,EAAO7G,cAAgBmH,EAAQnH,cAAgB6G,EAAO7G,eAG/D,kBAAC7I,EAAA,EAAD,CAAMC,MAAI,EAACC,GAAI,GACX,kBAAC8Q,GAAA,EAAD,CACIhU,QAAQ,SACRlN,MAAM,SACNuP,KAAK,SACLgS,KAAK,SACLV,SAAUV,EACVqB,OAAQpB,EACR7iB,MAAOmV,EAAOuH,SAElB,yBAAKpO,MAAO,CAAErB,OAAQ,OAAQwB,MAAO,QAChC4T,EAAO3F,QAAUiG,EAAQjG,QAAU2F,EAAO3F,UAIvD,yBAAKpO,MAAO,CAAErB,OAAQ,OAAQwF,UAAW,WACrC,kBAACgB,EAAA,EAAD,CACInF,MAAO,CAAExN,MAAO,QAChBkjB,KAAK,SACLH,WAAS,EACTlU,QAAQ,YACRlB,MAAM,UACNY,UAAWtB,EAAQ8R,OACnBqE,SAAUnB,GAPd,gBAgBZpB,GACA,oCACI,kBAACgC,GAAA,EAAD,CACIhU,QAAQ,SACRlN,MAAM,YACNuP,KAAK,YACLhS,MAAOwhB,EACP8B,SAAU,SAAC7G,GAAD,OAAOgF,EAAahF,EAAE+G,OAAOxjB,UAE3C,kBAACyT,EAAA,EAAD,CAAQ7E,QAAS,kBAAM6G,WAAc3F,SAArC,eACA,kBAAC2D,EAAA,EAAD,CAAQ7E,QAAO,uBAAE,8BAAAxE,EAAA,6DACbsX,EAAc,IACRrG,EAAS5W,OAAO+c,GAAW2C,MAAM,KAAKjS,KAAI,SAAAlS,GAAK,OAAImH,OAAOnH,MAFnD,SAGgBqgB,GAAcP,GAAcnE,MAAON,GAHnD,OAGP+I,EAHO,OAIb1C,EAAc0C,GAJD,4CAAjB,YASJzC,GAA8B,KAAf/D,GACf,kBAACkE,GAAA,EAAD,CAAO9R,QAAS,WAAQ0R,EAAc,KAAOK,SAAS,WAAtD,0BAC4BnE,IAKhC,yBAAKtP,MAAO,CAAEZ,WAAY,OAAQ+E,UAAW,WAA7C,6B,aCrBT4R,GA3YL,WASN,SAASC,EAAaC,GAClBniB,KAAK+D,KAgLT,SAASqe,EAAkBD,GAEvB,IAAIE,EAAcF,EAAQE,YACtBC,EAAgBH,EAAQG,cACxBC,EAAeJ,EAAQI,aACvBC,EAAkBL,EAAQK,gBAC1BC,EAAeN,EAAQM,aACvBC,EAAoBP,EAAQO,kBAEhC,GAAsB,IAAjBD,GAAwBJ,EAAYvlB,QAAUwlB,EAI/C,MAAO,CACHK,SAAUC,EAAkBP,EAAaE,IAIjD,IAAIM,EAAiBC,EAAQT,EAAaE,GAE1C,GAAIM,GAAkBL,EAIlB,MAAO,CACHG,SAAUC,EAAkBP,EAAaE,IAYjD,IANA,IAAIQ,EAAiB,GAIjBC,EAAY,CAACC,KAAM,GAEdjmB,EAAIqlB,EAAYvlB,OAAS,EAAGE,GAAK,EAAGA,IAAK,CAC9C,IAAIwT,EAAO6R,EAAYrlB,GAGvB,IAAK,IAAIkmB,KAAQ1S,EACb,GAAK0S,IAASX,IAAiBG,EAAkBQ,GAAjD,CAKA,IAAIC,EAAQ3S,EAAK0S,GAIbE,OAAa,EASbC,EAAgBH,GAPhBE,EADiB,kBAAVD,EACS,KAIA,OAGuBA,EAC3C,IAAIJ,EAAeM,GAAnB,CAKAN,EAAeM,IAAiB,EAEhC,IAAIC,EAAYC,EAAWH,GAGvBI,EAAYzB,EAAMM,EAAaa,EAAMI,EAAWH,GAGhDM,EAAeX,EAAQU,EAAUE,MAAOnB,GACxCoB,EAAkBb,EAAQU,EAAUI,SAAUrB,GAG9CsB,EAAa,EACjBA,GAAcJ,EAAeD,EAAUE,MAAM5mB,OAC7C+mB,GAAcF,EAAkBH,EAAUI,SAAS9mB,OACnD+mB,GAAcxB,EAAYvlB,OAC1B,IAAIgnB,EAAWjB,EAAiBgB,EAE5BC,EAAWd,EAAUC,QAGrBD,EAAYQ,GACFJ,cAAgBA,EAC1BJ,EAAUM,UAAYA,EACtBN,EAAUe,UAAYb,EACtBF,EAAUG,MAAQA,EAClBH,EAAUC,KAAOa,KAK7B,IAAKd,EAAUC,KAEX,MAAO,CAAEN,SAAUC,EAAkBP,EAAaE,IAKtDJ,EAAQM,aAAeA,EAAe,EAEtCN,EAAQE,YAAcW,EAAUU,MAChC,IAAIM,EAAe5B,EAAkBD,GAErCA,EAAQE,YAAcW,EAAUY,SAChC,IAAIK,EAAkB7B,EAAkBD,GAExC,MAAO,CACH4B,UAAWf,EAAUe,UACrBT,UAAWN,EAAUM,UACrBF,cAAeJ,EAAUI,cACzBD,MAAOH,EAAUG,MACjBO,MAAOM,EACPJ,SAAUK,EACVC,aAAclB,EAAUU,MAAM5mB,OAC9BqnB,gBAAiBnB,EAAUY,SAAS9mB,QAxS5BslB,CAAkB,CAC1BC,YAAaF,EAAQE,YACrBK,kBAAmB0B,EAAejC,EAAQO,mBAC1CH,aAAcJ,EAAQI,cAAgB,WACtCD,cAAeH,EAAQG,eAAiB,EACxCE,gBAAiBL,EAAQK,iBAAmB,IAC5CC,aAAcN,EAAQM,cAAgB,KAiB9C,SAAS4B,EAAalC,EAASmC,GAC3BtkB,KAAKukB,MAuTT,SAA2BpC,EAASmC,GAKhC,IAJA,IAAIE,EAAQrC,EAAQE,YAGhBoC,EAAe,GACV5f,EAAI,EAAGA,EAAIyf,EAAazf,IAC7B4f,EAAa5f,GAAK,GAEtB,IAAK,IAAI7H,EAAIwnB,EAAM1nB,OAAS,EAAGE,GAAK,EAAIA,IAAK,CAI3CynB,EADwBznB,EAAIsnB,GACI/hB,KAAKiiB,EAAMxnB,IAK7C,IADA,IAAI0nB,EAAS,GACJ7f,EAAI,EAAGA,EAAIyf,EAAazf,IAAK,CAClCsd,EAAQE,YAAcoC,EAAa5f,GAEnC,IAAIvD,EAAO,IAAI4gB,EAAaC,GAC5BuC,EAAOniB,KAAKjB,GAEhB,OAAOojB,EA9UMC,CAAkBxC,EAASmC,GAW5C,SAASF,EAAejN,GACpB,IAAIyN,EAAU,GACd,GAAIzN,EACA,IAAI,IAAIna,KAAKma,EAAO,CAEhByN,EADWzN,EAAMna,KACD,EAGxB,OAAO4nB,EAYX,SAASC,EAAkBL,EAAOtB,GAI9B,IAHA,IAAI4B,EAAU,GAGL9nB,EAAIwnB,EAAM1nB,OAAS,EAAGE,GAAK,EAAGA,IAEnC8nB,EAAQN,EAAMxnB,GAAGkmB,IAAS,EAK9B,IAAK,IAAIlmB,EAAIwnB,EAAM1nB,OAAS,EAAGE,GAAK,EAAGA,IACnC8nB,EAAQN,EAAMxnB,GAAGkmB,KAAU,EAG/B,OAAO4B,EAYX,SAAShC,EAAQ0B,EAAOtB,GAGpB,IAGIpf,EAHAghB,EAAUD,EAAkBL,EAAOtB,GAEnCJ,EAAU,EAEd,IAAK,IAAI9lB,KAAK8nB,EAEVhC,KADAhf,EAAIghB,EAAQ9nB,GAAKwnB,EAAM1nB,QACPG,KAAKgN,IAAInG,GAG7B,OAAOgf,EAuBX,SAASf,EAAMyC,EAAOtB,EAAMI,EAAWH,GAOnC,IANA,IAGI3S,EAHAkT,EAAQ,GACRE,EAAW,GAKN5mB,EAAIwnB,EAAM1nB,OAAS,EAAGE,GAAK,EAAGA,IAI/BsmB,GAHJ9S,EAAOgU,EAAMxnB,IACIkmB,GAEQC,GACrBO,EAAMnhB,KAAKiO,GAEXoT,EAASrhB,KAAKiO,GAItB,MAAO,CACHkT,MAAOA,EACPE,SAAUA,GAalB,SAAShB,EAAkB4B,EAAOtB,GAG9B,IAGIN,EAHAkC,EAAUD,EAAkBL,EAAOtB,GAEnC6B,EAAoB,EAGxB,IAAK,IAAInnB,KAASknB,EACVA,EAAQlnB,GAASmnB,IACjBA,EAAoBD,EAAQlnB,GAC5BglB,EAAoBhlB,GAI5B,OAAOglB,EA3JXV,EAAarc,UAAU+D,QAAU,SAAU4G,GACvC,OAoSJ,SAAiBlP,EAAMkP,GACnB,IAAI0S,EACAtlB,EACA0lB,EACAH,EAGJ,OAAY,CAER,GAAI7hB,EAAKqhB,SAEL,OAAOrhB,EAAKqhB,SAGhBO,EAAO5hB,EAAKyiB,UACZnmB,EAAQ4S,EAAK0S,GAEbI,EAAYhiB,EAAKgiB,UACjBH,EAAQ7hB,EAAK6hB,MAIT7hB,EADAgiB,EAAU1lB,EAAOulB,GACV7hB,EAAKoiB,MAELpiB,EAAKsiB,UA5Tbha,CAAQ5J,KAAK+D,KAAMyM,IAgB9B6T,EAAaxe,UAAU+D,QAAU,SAAU4G,GACvC,OAqVJ,SAA6BkU,EAAQlU,GACjC,IAAIqH,EAAS,GACb,IAAK,IAAI7a,KAAK0nB,EAAQ,CAClB,IACIlJ,EADOkJ,EAAO1nB,GACI4M,QAAQ4G,GAC9BqH,EAAO2D,GAAc3D,EAAO2D,GAAc3D,EAAO2D,GAAc,EAAI,EAEvE,OAAO3D,EA5VAmN,CAAoBhlB,KAAKukB,MAAO/T,IA4I3C,IAAI+S,EAAa,CACb,MAAO,SAAUvb,EAAGJ,GAAK,OAAOI,IAAMJ,GACtC,KAAM,SAAUI,EAAGJ,GAAK,OAAOI,GAAKJ,IAiNxC,IAAIpL,EAAU,GAGd,OAFAA,EAAQ0lB,aAAeA,EACvB1lB,EAAQ6nB,aAAeA,EAChB7nB,EAxYD,G,8DC0BJgO,I,OAAYC,aAAW,SAACC,GAAD,MAAY,CACrC3G,KAAM,CACF,QAAS,CACP8G,OAAQH,EAAMI,QAAQ,GACtBpM,MAAO,SAGbkM,OAAQ,CACJC,OAAQH,EAAMI,QAAQ,GACtBpM,MAAO,QAEX2e,YAAa,CACXxS,OAAQH,EAAMI,QAAQ,GACtBma,SAAU,KAEZ3H,YAAa,CACXjO,UAAW3E,EAAMI,QAAQ,IAE3Boa,QAAS,CACLzV,WAAY,UACZ/Q,MAAO,OACPgR,QAAS,OACTvD,SAAU,QAEdgZ,UAAW,CACPxV,aAAc,OACdD,QAAS,OACT0V,aAAc,wBA4RPlD,GAxRM,WACjB,IAAMvW,EAAUnB,KACRF,EAAQwJ,qBAAW1J,GAAnBE,IAFe,EAGOmE,mBAAS,IAHhB,mBAGhBmO,EAHgB,KAGPC,EAHO,OAIGpO,qBAJH,mBAIhB4W,EAJgB,KAITC,EAJS,OAKK7W,mBAAS,CACjC4T,YAAa,KACbE,aAAc,GACdG,kBAAmB,KARA,mBAKhB6C,EALgB,KAKRC,EALQ,OAWqB/W,mBAAS,CACjDmO,QAAS,GACT6I,QAAS,KAbU,mBAWhBC,EAXgB,KAWAC,EAXA,OAiBGlX,mBAAS,IAjBZ,mBAiBhBsQ,EAjBgB,KAiBTC,EAjBS,OAkBavQ,mBAAS,IAlBtB,mBAkBhB+M,EAlBgB,KAkBJ8D,EAlBI,KAoBvBzK,qBAAW,WACP,GAAIvK,EAAK,8CACL,kCAAAtC,EAAA,6DACIsd,EAAS,MACTM,EAAGvQ,QAAQC,UAAY,KAF3B,SAGqBhL,EAAIyS,cAHzB,cAGQhd,EAHR,SAIqBA,EAAKiG,OAAO,GAJjC,mBAIS6f,EAJT,KAKIhJ,EAAW9c,GALf,KAMIylB,EANJ,UAO2Blb,EAAI6N,UAP/B,yBAQsB0N,EARtB,KAS2B,GAT3B,MAOQxD,YAPR,KAQQE,aARR,KASQG,kBATR,kEADK,uBAAC,WAAD,wBAaL1F,MAEL,CAAC1S,IAEJuK,qBAAU,WACN,GAAIwQ,EAAO,CACP,IAAIS,EAAUlJ,EAAQ9K,QAAO,SAAA9T,GAAC,OAAKunB,EAAO7C,kBAAkB1Q,SAAShU,MACrE8nB,EAAUA,EAAQhU,QAAO,SAAA9T,GAAC,OAAIA,IAAMunB,EAAOhD,gBAC3C,IAAIkD,EAAU,GACdK,EAAQC,SAAQ,SAAAzE,GACZmE,EAAQnE,GAAO,MAEnBqE,EAAkB,CACd/I,QAASkJ,EACTL,QAASA,OAGlB,CAAC7I,EAAS2I,EAAQF,IAErB,IAAMO,EAAKxQ,mBAEL4Q,EAAe,SAAC7E,GAClB,IAAIhK,EAAQoO,EAAO7C,kBACnB,GAAIvL,EAAMnF,SAASmP,EAAMC,OAAOxR,MAAO,CACnC,IAAMyR,EAAWlK,EAAMrF,QAAO,SAACwP,GAAD,OAASA,IAAQH,EAAMC,OAAOxR,QAC5D4V,EAAU,gBACHD,EADE,CAEL7C,kBAAmBrB,UAGvBlK,EAAM5U,KAAK4e,EAAMC,OAAOxR,MACxB4V,EAAU,gBACHD,EADE,CAEL7C,kBAAmBvL,MAYzB8O,EAAgB,SAAC9E,GACnB,IAAIsE,EAAUC,EAAeD,QAC7BA,EAAQtE,EAAMC,OAAOxR,MAAQuR,EAAMC,OAAOxjB,MAC1C+nB,EAAkB,gBACXD,EADU,CAEbD,QAASA,MAKXS,EAAa,SAAbA,EAAc5kB,GAEhB,OAAIA,EAAKqhB,SACG,CAAC,OACG,OACI,WACI,MAAOrhB,EAAKqhB,SAAU,OAC1B,YACJ,QACJ,SAAS1gB,KAAK,IAGlB,CAAC,OACG,OACI,WACI,MAAOX,EAAKyiB,UAAW,IAAKziB,EAAK8hB,cAAe,IAAK9hB,EAAK6hB,MAAO,SACrE,YACA,OACI,OACI,uBACA+C,EAAW5kB,EAAKoiB,OACpB,QACA,OACI,sBACAwC,EAAW5kB,EAAKsiB,UACpB,QACJ,QACJ,QACJ,SAAS3hB,KAAK,KA4B1B,OACI,kBAACsO,EAAA,EAAD,CAAMjD,WAAS,GACX,kBAACiD,EAAA,EAAD,CAAMC,MAAI,EAACG,GAAI,EAAGF,GAAI,IAClB,kBAAC,EAAD,CAAUb,KAAK,gBAAgBC,KAAM,CAAC,iBAAkB,UACxD,kBAAC,GAAD,MACA,kBAAC,GAAD,OAEJ,kBAACU,EAAA,EAAD,CAAMC,MAAI,EAACG,GAAI,EAAGF,GAAI,IAClB,kBAAC,GAAD,MACA,kBAAC,GAAD,CAAa8E,KAAK,OACjBjL,EACO,yBAAK4B,MAAO,CAAEwD,QAAS,SAClBqP,GACG,kBAACW,GAAA,EAAD,CAAO9R,QAAS,kBAAMoR,EAAS,KAAKW,SAAS,SACxCZ,GAGRnC,GACG,kBAAC,IAAMuJ,SAAP,KACI,yBAAKlZ,UAAWtB,EAAQwZ,WACpB,kBAAC3V,EAAA,EAAD,CAAOvC,UAAWtB,EAAQuZ,SAA1B,qCAGA,kBAACkB,GAAA,EAAD,CAAanZ,UAAWtB,EAAQ0R,aAC5B,kBAACgJ,GAAA,EAAD,CACIzoB,MAAO2nB,EAAOhD,aACdrB,SAnGjB,SAACC,GACxBqE,EAAU,gBACHD,EADE,CAELhD,aAAcpB,EAAMC,OAAOxjB,UAiGS0oB,cAAY,EACZrZ,UAAWtB,EAAQ2R,YACnBiJ,WAAY,CAAE,aAAc,kBAE3B3J,EAAQ9M,KAAI,SAAC+Q,EAAQ9hB,GAAT,OACT,kBAAC2iB,GAAA,EAAD,CAAU1R,IAAKjR,EAAOnB,MAAOijB,GAASA,OAG9C,kBAACc,GAAA,EAAD,0BAGR,yBAAK1U,UAAWtB,EAAQwZ,WACpB,kBAAC3V,EAAA,EAAD,CAAOvC,UAAWtB,EAAQuZ,SAA1B,mCAGCtI,EAAQ9M,KAAI,SAAC+Q,EAAQ9hB,GAAT,OACT,yBAAKiR,IAAKjR,GACL8hB,IAAW0E,EAAOhD,cACf,kBAACzB,GAAA,EAAD,CACIC,QAAS,kBAACC,GAAA,EAAD,CACGC,QAASsE,EAAO7C,kBAAkB1Q,SAAS6O,GAC3CxU,MAAM,UACNuD,KAAMiR,EACNK,SAAU8E,IAEtB3lB,MAAOwgB,UAUnC,yBAAK3U,MAAO,CAAEmE,UAAW,WACrB,kBAACgB,EAAA,EAAD,CAAQ9D,QAAQ,YAAYlB,MAAM,UAAUG,QAxFnD,WACjB,IAEI,IAAIga,EAAe,IAAIvE,GAAGC,aAAaqD,GACvCD,EAASkB,GAETZ,EAAGvQ,QAAQC,UAAY4Q,EAAWM,EAAaziB,MACjD,MAAO0iB,GACLzH,EAASyH,MAgFW,2BAEHpB,GACG,yBAAKnZ,MAAO,CAAEmD,UAAW,OAAQK,QAAS,SACtC,kBAACF,EAAA,EAAD,CAAOvC,UAAWtB,EAAQuZ,SAA1B,qBAGA,0BAAMjY,UAAWtB,EAAQ5H,KAAM2iB,YAAU,EAACC,aAAa,OAClDjB,EAAe9I,QAAQ9M,KAAI,SAAC+Q,EAAQ9hB,GAAT,OACxB,kBAACwiB,GAAA,EAAD,CACIvR,IAAKjR,EACLsB,MAAOwgB,EACPjR,KAAMiR,EACNjjB,MAAO8nB,EAAeD,QAAQ5E,OAC9BK,SAAU+E,QAItB,kBAAC1V,EAAA,EAAD,CAAMrE,MAAO,CAAEyD,aAAc,QAAUrC,WAAS,EAACxC,QAAS,GACtD,kBAACyF,EAAA,EAAD,CAAMC,MAAI,EAACC,GAAI,GACX,kBAACY,EAAA,EAAD,CACI9D,QAAQ,YACRlB,MAAM,UACNY,UAAWtB,EAAQf,OACnBgc,UAAW,kBAAC,KAAD,MACXpa,QArGxB,WAEhB,IAAIga,EAAe,IAAIvE,GAAGC,aAAaqD,GAGnCE,EAAUC,EAAeD,QAEzBoB,EAAyBL,EAAa5c,QAAQ6b,GAClDnG,EAAcuH,GAEdjB,EAAGvQ,QAAQC,UAAY4Q,EAAWM,EAAaziB,QAsFX,YAUJ,kBAACwM,EAAA,EAAD,CAAMC,MAAI,EAACC,GAAI,GACX,kBAACY,EAAA,EAAD,CACI9D,QAAQ,YACRlB,MAAM,UACNY,UAAWtB,EAAQf,OACnBgc,UAAW,kBAAC,KAAD,MACXpa,QAAS,WApOjC,IAACiJ,IAoOmDmQ,EApO3C/Y,OAAOia,SAAS,EAAGrR,EAAIJ,QAAQ0R,aA+NpB,gBAafvL,GACG,kBAACkE,GAAA,EAAD,CAAO9R,QAAS,WAAO0R,EAAc,KAAMK,SAAS,WAApD,0BAC4BnE,IAKpC,yBAAKtP,MAAO,CAAEZ,WAAY,OAAQ+E,UAAW,WAA7C,4BAMXgV,GACG,kBAAC7V,EAAA,EAAD,CAAOtD,MAAO,CAAExN,MAAO,OAAQmM,OAAQ,OAAQ6E,QAAS,OAAQW,UAAW,SAAUsD,gBAAiB,YAClG,kBAAC1H,EAAA,EAAD,CAAYsB,QAAQ,KAAK4D,cAAY,GAArC,kBAKR,yBAAKlE,UAAU,gBACX,yBAAKA,UAAU,OAAOwI,IAAKmQ,OC1UvCnpB,GAAQ,WAGX,SAASC,EAAmBC,EAAOC,GAGlC,IAFA,IAAIC,EAAIF,EAAKG,OACTC,EAAI,EACCC,EAAI,EAAIA,EAAIH,EAAIG,IACxBD,GAAKE,KAAKC,IAAKP,EAAKK,GAAKJ,EAAKI,GAAI,GAEnC,OADAD,EAAIE,KAAKE,KAAMJ,GAIhB,SAASK,EAAmBT,EAAOC,GAGlC,IAFA,IAAIC,EAAIF,EAAKG,OACTC,EAAI,EACCC,EAAI,EAAIA,EAAIH,EAAIG,IACxBD,GAAKE,KAAKI,IAAKV,EAAKK,GAAKJ,EAAKI,IAC/B,OAAOD,EAGR,SAASO,EAAaX,EAAOC,GAG5B,IAFA,IAAIC,EAAIF,EAAKG,OACTC,EAAI,EACCC,EAAI,EAAIA,EAAIH,EAAIG,IACxBD,EAAIE,KAAKM,IAAKR,EAAIE,KAAKI,IAAKV,EAAKK,GAAKJ,EAAKI,KAC5C,OAAOD,EAGR,SAASS,EAAYb,EAAOC,GAG3B,IAFA,IAAIC,EAAIF,EAAKG,OACTW,EAAM,IAAIC,MAAMb,GACXG,EAAI,EAAIA,EAAIH,EAAIG,IACxBS,EAAIT,GAAKL,EAAKK,GAAKJ,EAAKI,GACzB,OAAOS,EAGR,SAASE,EAAuBC,EAAQH,GAGvC,IAFA,IAAIZ,EAAIY,EAAIX,OACRe,EAAI,IAAIH,MAAMb,GACTG,EAAI,EAAIA,EAAIH,EAAIG,IACxBa,EAAEb,GAAKY,EAAQH,EAAIT,GACpB,OAAOa,EAYR,SAASC,EAAWC,EAAGC,GAEtB,IADA,IAAIC,EAAM,GACDjB,EAAI,EAAIA,EAAIgB,EAAIhB,IACxBiB,GAAOF,EACR,OAAOE,EAGR,SAASC,EAAmBC,EAASC,EAAaC,EAASC,GAG1D,IAFA,IAAIC,EAAc,IAAIb,MAAMU,EAAWtB,QACnC0B,EAAUL,EAASE,EACdrB,EAAI,EAAIA,EAAIoB,EAAWtB,OAASE,IACxCuB,EAAYvB,IAAMmB,EAASC,EAAWpB,GAAKqB,EAASC,EAAWtB,IAAMwB,EACtE,OAAOD,EAIR,SAASE,EAAaR,EAAKS,GAC1B,IAAIC,EAAOD,EAAQT,EAAInB,OACvB,KAAI6B,EAAO,GAAX,CAGA,IAAIC,EAAW3B,KAAK4B,MAAMF,EAAO,GACjC,OAAOb,EAAY,IAAMc,GAAYX,EAAMH,EAAY,IAAMa,EAAOC,IAGrE,SAASE,EAAUb,EAAKS,EAAOK,GAE9B,KADWL,EAAQT,EAAInB,OACZ,GAGX,OAAOgB,EAAY,IAAMiB,GAASd,EAAMH,EAAY,IAAMY,GAAST,EAAInB,OAAOiC,IA0M/E,SAASC,EAAiBC,EAAGC,GAI5B,IAAIlB,EAAIkB,EAAQpC,OAChB,GAAKmC,EAAIjB,EACR,OAAO,KASR,IAPA,IAMIhB,EAAImC,EAAQC,EANZC,EAAmB,IAAI3B,MAAMuB,GAC7BK,EAAmB,IAAI5B,MAAMuB,GAE7BM,EAAiB,GACjBC,EAAS,EACTC,EAAW,EAERA,EAAWR,GAAG,CACpB,GAAIO,IAAWxB,EACd,OAAO,KAER,IAAI0B,EAAezC,KAAK4B,MAAM5B,KAAK0C,SAAU3B,GAC7C,KAAI0B,KAAgBH,GAApB,CAOA,IAJAA,EAAeG,GAAgB,EAC/BF,IACAL,EAASD,EAAQQ,GACjBN,GAAS,EACJpC,EAAI,EAAIA,EAAIyC,EAAWzC,IAC3B,GAAKmC,EAAOS,QAASP,EAAiBrC,IAAM,CAC3CoC,GAAS,EACT,MAGEA,IACHC,EAAiBI,GAAYN,EAC7BG,EAAiBG,GAAYC,EAC7BD,MAGF,MAAO,CAAC,QAAWJ,EAAkB,QAAWC,GA+JjD,SAASO,EAAQC,EAAKC,GAErBC,KAAKF,KAAOA,EACZE,KAAKD,KAAOA,EACZC,KAAKC,IAAM,IAAIvC,MAAMoC,GAErB,IAAK,IAAI9C,EAAI,EAAIA,EAAI8C,EAAO9C,IAC5B,CAEC,IADA,IAAIkD,EAAM,IAAIxC,MAAMqC,GACXI,EAAI,EAAIA,EAAIJ,EAAOI,IAC3BD,EAAIC,GAAK,EACVH,KAAKC,IAAIjD,GAAKkD,GAIhB,SAASE,EAAMC,EAAMC,EAAKC,EAAMC,EAAMC,GAErCT,KAAKK,MAAQA,EACbL,KAAKM,KAAOA,EACZN,KAAKO,MAAQA,EACbP,KAAKQ,KAAOA,EACZR,KAAKS,SAAWA,EACH,OAATH,GAA2B,OAAVC,GACpBP,KAAKU,KAAO,EACZV,KAAKW,MAAQ,IAEbX,KAAKU,KAAOJ,EAAKI,KAAOH,EAAMG,KAC9BV,KAAKW,MAAQ,EAAI1D,KAAKM,IAAK+C,EAAKK,MAAQJ,EAAMI,QAMhD,MAAO,CACNC,eAAgB,EAChBC,iBAAkB,EAClBC,gBAAgB,EAChBC,mBAAoB,EACpBC,mBAAoB,EACpBC,aAAc,EACdC,6BAA8B,EAC9BC,sBAAuB,GACvBC,uBAAwB,EAExBvB,OAAQA,EACRO,KAAMA,EACNiB,kBA9aD,SAASA,EAAkBC,EAAMC,EAAKC,EAAUC,EAAWC,EAAcC,GACxE,IAAIC,EAAQ,GACRC,EAfL,SAAsB1C,GAGrB,IAFA,IAAI2C,EAAO,IAAIpE,MAAMyB,EAAOrC,QACxBiF,EAAY9E,KAAKC,IAAI,GAAIT,GAAMyE,8BAC1BlE,EAAI,EAAIA,EAAImC,EAAOrC,OAASE,IACpC8E,EAAK9E,GAAKC,KAAK+E,MAAM7C,EAAOnC,GAAG+E,GAAWA,EAC3C,OAAOD,EAAKG,KAAK,KAUCC,CAAaZ,EAAKb,UACpC,GAAIa,EAAKa,SAAU,CAClB,IAAIC,EAAWC,OAAOf,EAAKjB,OACvBiC,EAAM,EACNZ,IACHY,EAAMrF,KAAKM,IAAIsE,EAAY/E,OAASwF,IACjCb,IACHa,EAAMrF,KAAKM,IAAI6E,EAAStF,OAASwF,IAElCV,EAAMW,KAAM9D,EAAc,IAAM6D,IAC5BZ,GACHE,EAAMW,KAAM9D,EAAcoD,EAAcS,IACrCb,GACHG,EAAMW,KAAM9D,EAAc2D,EAAWE,QAEhC,CACN,IAAIE,EAvBN,SAAqB5E,GACpB,IAAImE,EAAY9E,KAAKC,IAAI,GAAIT,GAAMyE,8BACnC,OAAOmB,OAAQpF,KAAK+E,MAAMpE,EAAMmE,GAAWA,GAqBxBU,CAAYnB,EAAKd,MAC/BkC,EAAarB,EAAkBC,EAAKhB,KAAMiB,EAAKC,EAASC,EAAUC,EAAcC,GAChFgB,EAActB,EAAkBC,EAAKf,MAAOgB,EAAKC,EAASC,EAAUC,EAAaC,GACjFiB,EAAcF,EAAW,GAAGG,QAAQ,KACpCC,EAAeH,EAAY,GAAGE,QAAQ,KAGtCP,EAAMf,EAAMoB,EAAY,GAAG7F,OAAS4F,EAAW,GAAG5F,OAClD4E,IACHY,EAAMrF,KAAKM,IAAIsE,EAAY/E,OAASwF,IACjCX,IACHW,EAAMrF,KAAKM,IAAIiF,EAAY1F,OAASwF,IAIrC,IAAIS,EAAUH,EAAc3F,KAAK4B,OAAQ6D,EAAW,GAAG5F,OAAU8F,EAAerB,GAAO,EAAEuB,IAAiB,GAG1GlB,EAAMW,KAAMzD,EAAW,IAAMwD,EAAMS,IAC/BrB,GACHE,EAAMW,KAAMzD,EAAW+C,EAAcS,EAAMS,EAAS9F,KAAK4B,MAAOgD,EAAY/E,OAAS,KAElF6E,GACHC,EAAMW,KAAMzD,EAAW0D,EAAcF,EAAMS,EAAS9F,KAAK4B,MAAO2D,EAAY1F,OAAS,KAItF,IACIkG,EAAQlF,EAAY,IADTyD,GAAOmB,EAAW,GAAG5F,OAAQ8F,GAAeE,EAAa,GAMxE,GAJAlB,EAAMW,KAAMzD,EAAUkE,EAAOV,EAAKM,IAI9BpB,GAAckB,EAAW5F,SAAU6F,EAAY7F,OAAS,CAC3D,IAAImG,EACAC,EACAR,EAAW5F,OAAS6F,EAAY7F,QACnCoG,EAAUR,EACVO,EAAWN,IAEXO,EAAUP,EACVM,EAAWP,GAKZ,IAFA,IAAIS,EAASF,EAAS,GAClBG,EAAQF,EAAQpG,OAASmG,EAASnG,OAC7BE,EAAI,EAAIA,EAAIoG,EAAQpG,IAC5BiG,EAASI,OAAQ,EAAE,EAAEF,GAKvB,IAAK,IAAInG,EAAI,EAAIA,EAAIC,KAAKM,IAAKmF,EAAW5F,OAAS6F,EAAY7F,QAAUE,IAAK,CAC7E,IAAIsD,EAAO,GAEVA,EADGtD,EAAI0F,EAAW5F,OACX4F,EAAW1F,GAEXc,EAAY,IAAM4E,EAAW,GAAG5F,QAExC,IAAIyD,EAAQ,GAEXA,EADGvD,EAAI2F,EAAY7F,OACX6F,EAAY3F,GAEZc,EAAY,IAAM6E,EAAY,GAAG7F,QAC1C8E,EAAMW,KAAKjC,EAAOxC,EAAY,IAAMyD,GAAOhB,GAE5BzC,EAAY,IAAMyD,IAInC,OAAOK,GAuVP0B,YAlVD,SAAsBC,EAAQrE,EAASsE,EAAUC,GAChD,IAOIC,EAAIC,EAAIC,EAAWC,EAAW7G,EAAGmD,EAAG2D,EAAGC,EAAOxF,EAP9C1B,EAAIqC,EAAQpC,OACZkH,EAAO,IAAItG,MAAMb,GACjBoH,EAAQ,IAAIvG,MAAMb,GAElBqH,EADY,IAAIzH,GAAMoD,OAAOhD,EAAEA,GACRoD,IACvBkE,EAAW,IAAIzG,MAAMb,GAYzB,IARI2G,IAAa/G,GAAMsE,mBACtByC,EAAW9G,EACH8G,IAAa/G,GAAMuE,mBAC3BwC,EAAWpG,EACHoG,IAAa/G,GAAMwE,eAC3BuC,EAAWlG,GAGPN,EAAI,EAAIA,EAAIH,EAAIG,IAEpB,IADAgH,EAAKhH,GAAK,EACLmD,EAAI,EAAIA,EAAItD,EAAIsD,IAEnB+D,EAAWlH,GAAGmD,GADXnD,IAAMmD,EACUiE,IAEAZ,EAAStE,EAAQlC,GAAKkC,EAAQiB,IAE9C+D,EAAWlH,GAAGgH,EAAKhH,IAAMkH,EAAWlH,GAAGmD,KAC1C6D,EAAKhH,GAAKmD,GAKb,IAAKnD,EAAI,EAAIA,EAAIH,EAAIG,IACpBmH,EAASnH,GAAK,GACdmH,EAASnH,GAAG,GAAK,IAAIoD,EAAMmD,EAAOvG,GAAI,KAAM,KAAM,EAAGkC,EAAQlC,IAC7DiH,EAAMjH,GAAK,EAIZ,IAAK8G,EAAI,EAAIA,EAAIjH,EAAE,EAAIiH,IAAK,CAG3B,IADAJ,EAAK,EACA1G,EAAI,EAAIA,EAAIH,EAAIG,IAChBkH,EAAWlH,GAAGgH,EAAKhH,IAAMkH,EAAWR,GAAIM,EAAKN,MAChDA,EAAK1G,GAEP2G,EAAKK,EAAKN,GAGVE,EAAYO,EAAST,GAAI,GACzBG,EAAYM,EAASR,GAAI,GAEzBpF,EAAcL,EAAoB0F,EAAUlD,KAAOkD,EAAUnD,SAAWoD,EAAUnD,KAAOmD,EAAUpD,UACnG,IAAI4D,EAAa,IAAIjE,GAAO,EAAGwD,EAAWC,EAAYK,EAAWR,GAAIC,GAAMpF,GAK3E,IAJA4F,EAAST,GAAIL,OAAO,EAAE,EAAGgB,GACzBJ,EAAMP,IAAOO,EAAMN,GAGdxD,EAAI,EAAIA,EAAItD,EAAIsD,IACpB,GAAIsD,IAAYhH,GAAMmE,eACjBsD,EAAWR,GAAIvD,GAAK+D,EAAWP,GAAIxD,KACtC+D,EAAW/D,GAAGuD,GAAMQ,EAAWR,GAAIvD,GAAK+D,EAAWP,GAAIxD,SAClD,GAAIsD,IAAYhH,GAAMoE,iBACxBqD,EAAWR,GAAIvD,GAAK+D,EAAWP,GAAIxD,KACtC+D,EAAW/D,GAAGuD,GAAMQ,EAAWR,GAAIvD,GAAK+D,EAAWP,GAAIxD,SAClD,GAAIsD,IAAYhH,GAAMqE,gBAAiB,CAC7C,IAAIwD,GAAQL,EAAMP,GAAMQ,EAAWR,GAAIvD,GAAK8D,EAAMN,GAAMO,EAAWP,GAAIxD,KAAQ8D,EAAMP,GAAMO,EAAM9D,IACjG+D,EAAW/D,GAAGuD,GAAMQ,EAAWR,GAAIvD,GAAKmE,EAM1C,IAHAJ,EAAWR,GAAIA,GAAMU,IAGhBpH,EAAI,EAAIA,EAAIH,EAAIG,IACpBkH,EAAWlH,GAAG2G,GAAMO,EAAWP,GAAI3G,GAAKoH,IAGzC,IAAKjE,EAAI,EAAGA,EAAItD,EAAIsD,IACf6D,EAAK7D,KAAOwD,IACfK,EAAK7D,GAAKuD,GACPQ,EAAWR,GAAIvD,GAAK+D,EAAWR,GAAIM,EAAKN,MAC3CM,EAAKN,GAAMvD,GAIb4D,EAAOM,EAGR,OAAON,GA2PPQ,OA5MD,SAAiBtF,EAAGC,GACnB,IAAIlB,EAAIkB,EAAQpC,OACZ0H,EAAc,IAAI9G,MAAMM,GACxByG,EAAe,IAAI/G,MAAMuB,GACzByF,GAAS,EACTC,EAAW,EACXC,EAAY,KAEZC,EAAI7F,EAAiBC,EAAGC,GAC5B,GAAU,OAAN2F,EACH,OAAO,KAIR,IAFCD,EAAYC,EAAE3F,QAERwF,GAAQ,CAGd,IAAK,IAAIvE,EAAI,EAAIA,EAAIlB,EAAIkB,IACxBsE,EAAatE,GAAK,EAEnB,IAAK,IAAInD,EAAI,EAAIA,EAAIgB,EAAIhB,IAAK,CAK7B,IAJA,IAAImC,EAASD,EAAQlC,GACjB8H,EAAUC,OAAOC,UACjBC,OAAI,EACJzE,OAAI,EACCL,EAAI,EAAIA,EAAIlB,EAAIkB,KACxBK,EAAO9D,EAAmBkI,EAAUzE,GAAIhB,IAC7B2F,IACVA,EAAUtE,EACVyE,EAAO9E,GAGTsE,EAAaQ,KACbT,EAAYxH,GAAKiI,EAKlB,IADA,IAAIC,EAAe,IAAIxH,MAAMuB,GACpBkB,EAAI,EAAIA,EAAIlB,EAAIkB,IACxB+E,EAAa/E,GAAK,KAEnB,IADA,IAAIgF,OAAO,EACFnI,EAAI,EAAIA,EAAIgB,EAAIhB,IAEM,OAA1BkI,EADJC,EAAUX,EAAYxH,IAErBkI,EAAaC,GAAWjG,EAAQlC,GAEhCkI,EAAaC,GAAW3H,EAAY0H,EAAaC,GAAWjG,EAAQlC,IAGtE,IAAK,IAAImD,EAAI,EAAIA,EAAIlB,EAAIkB,IACxB+E,EAAa/E,GAAKxC,EAAuB,EAAE8G,EAAatE,GAAK+E,EAAa/E,IAI3EuE,GAAS,EACT,IAAK,IAAIvE,EAAI,EAAIA,EAAIlB,EAAIkB,IACxB,IAAM+E,EAAa/E,GAAGP,QAASgF,EAAUzE,IAAK,CAC7CuE,GAAS,EACT,MAGFE,EAAYM,IACZP,EAGelI,GAAM0E,wBACpBuD,GAAS,GAGX,MAAO,CAAE,UAAaE,EAAY,YAAeJ,IAwIjDY,QApID,SAAkBnG,EAAGC,EAASmG,EAASC,GAQtC,IAPA,IAMItI,EAAEmD,EAAEoF,EAAGC,EAAKC,EAAMlI,EAAKoB,EANvB+G,EAAmB,IAAI7F,EAAQX,EAAQpC,OAAQmC,GAC/CyF,GAAS,EACTC,EAAW,EAEXC,EAAY,KAGTF,GAAQ,CAEd,GAAkB,OAAdE,EAAoB,CAGvB,GAAY,QADZY,EAAMxG,EAAiBC,EAAGC,IAEzB,OAAO,KAEP0F,EAAYY,EAAItG,aAGjB,IAAKiB,EAAI,EAAIA,EAAIlB,EAAGkB,IAAK,CAGxB,IAFAyE,EAAUzE,GAAK,GACfsF,EAAO,EACFzI,EAAI,EAAIA,EAAI0I,EAAiB5F,KAAO9C,IACxCyI,GAAQxI,KAAKC,IAAIwI,EAAiBzF,IAAIjD,GAAGmD,GAAImF,GAC7CE,EAAM7H,EAAuBV,KAAKC,IAAIwI,EAAiBzF,IAAIjD,GAAGmD,GAAImF,GAAapG,EAAQlC,IAGtF4H,EAAUzE,GADD,IAANnD,EACYwI,EAEAhI,EAAYoH,EAAUzE,GAAKqF,GAExCC,EAAO,IACVb,EAAUzE,GAAKxC,EAAsB,EAAE8H,EAAMb,EAAUzE,KAS1D,IAAIwF,EAA2BD,EAAiBE,OAChD,IAAK5I,EAAI,EAAIA,EAAI0I,EAAiB5F,KAAO9C,IACxC,IAAKmD,EAAI,EAAIA,EAAIlB,EAAIkB,IAAK,CAEzB,IADAuF,EAAiBzF,IAAIjD,GAAGmD,GAAK,EACxBoF,EAAI,EAAIA,EAAItG,EAAIsG,IAEnBC,EADoD,IAAjD9I,EAAkBwC,EAAQlC,GAAK4H,EAAUW,IACtC,EAEC7I,EAAkBwC,EAAQlC,GAAK4H,EAAUzE,IAAMzD,EAAkBwC,EAAQlC,GAAK4H,EAAUW,IAChGC,EAAMvI,KAAKC,IAAKsI,EAAK,GAAGF,EAAU,IAClCI,EAAiBzF,IAAIjD,GAAGmD,IAAMqF,EAE3BE,EAAiBzF,IAAIjD,GAAGmD,GAAK,IAChCuF,EAAiBzF,IAAIjD,GAAGmD,GAAK,EAAIuF,EAAiBzF,IAAIjD,GAAGmD,IAQ5D,IADA5C,GAAO,EACFP,EAAI,EAAIA,EAAI0I,EAAiB5F,KAAO9C,IACxC,IAAKmD,EAAI,EAAIA,EAAIuF,EAAiB3F,KAAOI,KACxCxB,EAAO1B,KAAKI,IAAIqI,EAAiBzF,IAAIjD,GAAGmD,GAAKwF,EAAyB1F,IAAIjD,GAAGmD,KAClE5C,IACVA,EAAMoB,GAGLpB,EAAM8H,IACTX,GAAS,KAEVC,EAGelI,GAAM2E,yBACpBsD,GAAS,GAEX,MAAO,CAAE,UAAaE,EAAY,iBAAoBc,KA9d5C,GAyhBZjJ,GAAMoD,OAAOgG,UAAUC,SAAW,WAGjC,IADA,IAAIlE,EAAQ,GACH5E,EAAI,EAAIA,EAAIgD,KAAKF,KAAO9C,IAChC4E,EAAMW,KAAMvC,KAAKC,IAAIjD,GAAGiF,KAAK,OAC9B,OAAOL,EAAMK,KAAM,OAIpBxF,GAAMoD,OAAOgG,UAAUD,KAAO,WAG7B,IADA,IAAIG,EAAY,IAAItJ,GAAMoD,OAAOG,KAAKF,KAAME,KAAKD,MACxC/C,EAAI,EAAIA,EAAIgD,KAAKF,KAAO9C,IAChC+I,EAAU9F,IAAIjD,GAAKgD,KAAKC,IAAIjD,GAAGgJ,MAAM,GACtC,OAAOD,GAGRtJ,GAAM2D,KAAKyF,UAAU1D,OAAS,WAE7B,OAAmB,OAAdnC,KAAKM,MAAkC,OAAfN,KAAKO,OAMnC9D,GAAM2D,KAAKyF,UAAUI,eAAiB,SAAU1E,EAAKC,EAASC,EAAUC,EAAcC,GAIrF,OADQlF,GAAM4E,kBAAkBrB,KAAMuB,EAAKC,EAASC,EAAUC,EAAcC,GAC/DM,KAAM,OAeLxF,U,8BC1iBT+N,I,OAAYC,aAAW,SAAAC,GAAK,MAAK,CACnCmD,MAAO,CACHhD,OAAQH,EAAMI,QAAQ,EAAG,GACzBH,QAAS,OACTwS,cAAe,SACfC,WAAY,UAEhBC,YAAa,CACTxS,OAAQH,EAAMI,QAAQ,GACtBpM,MAAO,OAEX4e,YAAa,CACTjO,UAAW3E,EAAMI,QAAQ,IAE7ByS,KAAM,CACF7e,MAAO,MACP2Q,UAAW3E,EAAMI,QAAQ,GACzB0S,WAAY,QAEhBC,OAAQ,CACJ/e,MAAO,cA8RAsoB,GA1RgB,WAC3B,IAAMrb,EAAUnB,KADiB,EAEPiE,mBAAS,IAFF,mBAE1BsQ,EAF0B,KAEnBC,EAFmB,KAGzB1U,EAAQwJ,qBAAW1J,GAAnBE,IAHyB,EAIKmE,mBAAS,IAJd,mBAI1BsO,EAJ0B,KAIbkC,EAJa,OAKPxQ,qBALO,mBAK1BpO,EAL0B,KAKnB4mB,EALmB,KAM3BC,EAAY9R,mBAclB,OAXAP,qBAAU,WAAM,6CAGZ,4BAAA7M,EAAA,sEAC0BsC,EAAIyS,cAD9B,OACUH,EADV,OAEIqC,EAAerC,GACfqK,EAASrK,EAAQ,IAHrB,4CAHY,sBACD,MAAPtS,GADQ,mCAQZmV,KACD,CAACnV,EAAK2U,IAGL,6BACI,kBAAC1O,EAAA,EAAD,CAAMjD,WAAS,GACX,kBAACiD,EAAA,EAAD,CAAMC,MAAI,EAACG,GAAI,EAAGF,GAAI,IAClB,kBAAC,EAAD,CAAUb,KAAK,2BAA2BC,KAAM,CAAC,aAAc,eAC/D,kBAAC,GAAD,MACA,kBAAC,GAAD,OAEJ,kBAACU,EAAA,EAAD,CAAMC,MAAI,EAACG,GAAI,EAAGF,GAAI,IAClB,kBAAC,GAAD,MACA,kBAAC,GAAD,CAAa8E,KAAK,OACjBjL,GAAOyS,GAAe1c,EACnB,yBAAK6L,MAAO,CAAEwD,QAAS,SACtBqP,GACG,kBAACW,GAAA,EAAD,CAAO9R,QAAS,kBAAMoR,EAAS,KAAKW,SAAS,SACxCZ,GAGT,kBAAC,KAAD,CACIa,oBAAkB,EAClBC,cAAe,CACX3gB,QAAS6d,EACT1c,MAAOA,EACPoD,QAAS,EACTD,SAAU,EACV/B,WAAW,EACXC,cAAc,EACdC,cAAc,EACdH,UAAU,EACV2lB,MAAO,GAEXnH,SAAU,SAAAjN,GACN,IAAMkN,EAAS,GAef,OAdKlN,EAAO1S,QACR4f,EAAO5f,MAAQ,aAEf0S,EAAOtP,QAAU,GAAKsP,EAAOtP,QAAU,KACvCuG,QAAQC,IAAI,QACZgW,EAAOxc,QAAU,aAEjBsP,EAAOvP,SAAW,GAAKuP,EAAOvP,SAAW,KACzCyc,EAAOzc,SAAW,YAED,IAAjBuP,EAAOoU,OAAgC,IAAjBpU,EAAOoU,OAAgC,IAAjBpU,EAAOoU,OAAgC,IAAjBpU,EAAOoU,QACzElH,EAAOkH,MAAQ,iBAGZlH,GAEXC,SAAU,SAACnN,EAAD,GAAgC,IAArBoN,EAAoB,EAApBA,eACM,wCAAG,WAAMpN,GAAN,SAAA/K,EAAA,wFAAAA,EAAA,kDAAAA,EAAA,6DAEdof,EAFc,sBAEDrU,EAAO7T,SAFN,CAEe6T,EAAO1S,QAExC+mB,GADAA,EAAM,YAAO,IAAI/G,IAAI+G,KACLtV,QAAO,SAACuV,GAAD,OAAWA,IAAUtU,EAAO1S,SAJjC,SAKDiK,EAAI6N,UALH,OAQlB,IAHIrR,EALc,OAMdvD,EAAS,GACTrE,EAAU,GAPI,WAQTlC,GACLuG,EAAOvG,GAAK8J,EAAK9J,GAAG+V,EAAO1S,OAC3BnB,EAAQlC,GAAK,GACboqB,EAAOrB,SAAQ,SAACsB,GACZnoB,EAAQlC,GAAGuF,KAAKuE,EAAK9J,GAAGqqB,QAJvBrqB,EAAI,EAAIA,EAAI8J,EAAKhK,OAASE,IAAM,EAAhCA,GAOL6J,EAAQ,CAAC,OAAUtD,EAAS,QAAWrE,GACvC6E,EAAOtH,GAAM6G,YAAYuD,EAAK,OAAYA,EAAK,QAAckM,EAAOvP,SAAUuP,EAAOtP,SACrF6jB,EAAOvjB,EAAKkC,eAAe8M,EAAOoU,MAAOpU,EAAOvR,SAAUuR,EAAOtR,UAAWsR,EAAOrR,aAAcqR,EAAOpR,cAC5GqI,QAAQC,IAAIlG,GACZmjB,EAAU7R,QAAQkS,UAAYD,EAlF7C7R,EAmF2ByR,EAnFnBra,OAAOia,SAAS,EAAGrR,EAAIJ,QAAQ0R,WA+DN,kCA/DlC,IAACtR,IA+DiC,sEAsBlBzL,QAAQ+U,MAAR,MACAC,EAAS,2CAvBS,wDAAH,sDA0BvBsB,CAAkBvN,GAClBoN,GAAc,MAEpB,gBACEpN,EADF,EACEA,OACAkN,EAFF,EAEEA,OACAM,EAHF,EAGEA,QACAC,EAJF,EAIEA,aAEAE,GANF,EAKED,WALF,EAMEC,cACAC,EAPF,EAOEA,aACAC,EARF,EAQEA,cARF,OAUM,0BAAM3T,UAAWtB,EAAQ4R,KAAM2C,SAAUQ,GACrC,kBAACnQ,EAAA,EAAD,CAAMjD,WAAS,EAACxC,QAAS,GACrB,kBAACyF,EAAA,EAAD,CAAMC,MAAI,EAACC,GAAI,IACX,kBAACjB,EAAA,EAAD,CAAOtD,MAAO,CAAEyH,gBAAiB,QAASjE,QAAS,SAAnD,mCAGA,kBAACa,EAAA,EAAD,CAAMjD,WAAS,EAACxC,QAAS,GACpBiS,EAAYjN,KAAI,SAAC+Q,EAAQ9hB,GAAT,OACb,kBAACwR,EAAA,EAAD,CAAMC,MAAI,EAACC,GAAI,GAAIT,IAAKjR,GACnB8hB,IAAW9N,EAAO1S,OACf,kBAACygB,GAAA,EAAD,CACIC,QAAS,kBAACC,GAAA,EAAD,CACLC,QAASlO,EAAO7T,QAAQ8S,SAAS6O,GACjCxU,MAAM,UACNuD,KAAMiR,EACNK,SAAU,SAACC,GACP,IAAIhK,EAAQpE,EAAO7T,QACnB,GAAIiY,EAAMnF,SAASmP,EAAMC,OAAOxR,MAAO,CACnC,IAAMyR,EAAWlK,EAAMrF,QAAO,SAACwP,GAAD,OAASA,IAAQH,EAAMC,OAAOxR,QAC5DgR,EAAc,UAAWS,GAAU,QAEnClK,EAAM5U,KAAK4e,EAAMC,OAAOxR,MACxBgR,EAAc,UAAWzJ,GAAO,MAI5C9W,MAAOwgB,UAO/B,kBAACtQ,EAAA,EAAD,CAAMrE,MAAO,CAAEwD,QAAS,QAAUc,MAAI,EAACC,GAAI,IACvC,8BAEJ,kBAACF,EAAA,EAAD,CAAMC,MAAI,EAACC,GAAI,IACX,kBAAC8Q,GAAA,EAAD,CAAWC,GAAG,SACVnhB,MAAM,QAAQjB,QAAM,EACpBqiB,WAAS,EACT7jB,MAAOmV,EAAO1S,MACduP,KAAK,QACLsR,SAAUV,EACVjT,QAAQ,UAEPwP,EAAYjN,KAAI,SAAC+Q,EAAQ9hB,GAAT,OACb,kBAAC2iB,GAAA,EAAD,CAAU1R,IAAKjR,EAAOnB,MAAOijB,GAASA,OAG9C,kBAACc,GAAA,EAAD,wBAEJ,kBAACpR,EAAA,EAAD,CAAMrE,MAAO,CAAEwD,QAAS,QAAUc,MAAI,EAACC,GAAI,IACvC,8BAEJ,kBAACF,EAAA,EAAD,CAAMrE,MAAO,CAAEmD,UAAW,QAAUmB,MAAI,EAACC,GAAI,GACzC,kBAAC2V,GAAA,EAAD,CAAaxZ,UAAU,YACvB,kBAAC4a,GAAA,EAAD,CAAW5a,UAAU,UAArB,WACA,kBAAC6a,GAAA,EAAD,CAAYva,aAAW,UAAU0C,KAAK,UAAUhS,MAAOmV,EAAOtP,QAASyd,SAAU,SAACC,GAC9EP,EAAc,UAAW8G,SAASvG,EAAMC,OAAOxjB,QAAQ,KAEvD,kBAACkjB,GAAA,EAAD,CAAkBljB,MAAO,EAAGmjB,QAAS,kBAAC4G,GAAA,EAAD,MAAWtnB,MAAM,mBACtD,kBAACygB,GAAA,EAAD,CAAkBljB,MAAO,EAAGmjB,QAAS,kBAAC4G,GAAA,EAAD,MAAWtnB,MAAM,qBACtD,kBAACygB,GAAA,EAAD,CAAkBljB,MAAO,EAAGmjB,QAAS,kBAAC4G,GAAA,EAAD,MAAWtnB,MAAM,sBAG1D,yBAAK6L,MAAO,CAAErB,OAAQ,OAAQwB,MAAO,QAChC4T,EAAOxc,SAAW8c,EAAQ9c,SAAWwc,EAAOxc,UAGrD,kBAAC8M,EAAA,EAAD,CAAMrE,MAAO,CAAEmD,UAAW,QAAUmB,MAAI,EAACC,GAAI,GACzC,kBAAC2V,GAAA,EAAD,CAAaxZ,UAAU,YACvB,kBAAC4a,GAAA,EAAD,CAAW5a,UAAU,UAArB,YACA,kBAAC6a,GAAA,EAAD,CAAYva,aAAW,WAAW0C,KAAK,WAAWhS,MAAOmV,EAAOvP,SAAU0d,SAAU,SAACC,GACjFP,EAAc,WAAY8G,SAASvG,EAAMC,OAAOxjB,QAAQ,KAExD,kBAACkjB,GAAA,EAAD,CAAkBljB,MAAO,EAAGmjB,QAAS,kBAAC4G,GAAA,EAAD,MAAWtnB,MAAM,cACtD,kBAACygB,GAAA,EAAD,CAAkBljB,MAAO,EAAGmjB,QAAS,kBAAC4G,GAAA,EAAD,MAAWtnB,MAAM,cACtD,kBAACygB,GAAA,EAAD,CAAkBljB,MAAO,EAAGmjB,QAAS,kBAAC4G,GAAA,EAAD,MAAWtnB,MAAM,cAG1D,yBAAK6L,MAAO,CAAErB,OAAQ,OAAQwB,MAAO,QAChC4T,EAAOzc,UAAY+c,EAAQ/c,UAAYyc,EAAOzc,WAGvD,kBAAC+M,EAAA,EAAD,CAAMrE,MAAO,CAAEwD,QAAS,QAAUc,MAAI,EAACC,GAAI,IACvC,8BAEJ,kBAACF,EAAA,EAAD,CAAMC,MAAI,EAACC,GAAI,GACX,kBAACqQ,GAAA,EAAD,CACIC,QAAS,kBAACC,GAAA,EAAD,CAAUC,QAASlO,EAAOtR,UAAWyf,SAAUV,EAAc5Q,KAAK,cAC3EvP,MAAM,iBAGd,kBAACkQ,EAAA,EAAD,CAAMC,MAAI,EAACC,GAAI,GACX,kBAACqQ,GAAA,EAAD,CACIC,QAAS,kBAACC,GAAA,EAAD,CAAUC,QAASlO,EAAOpR,aAAcuf,SAAUV,EAAc5Q,KAAK,iBAC9EvP,MAAM,mBAGd,kBAACkQ,EAAA,EAAD,CAAMC,MAAI,EAACC,GAAI,GACX,kBAACqQ,GAAA,EAAD,CACIC,QAAS,kBAACC,GAAA,EAAD,CAAUC,QAASlO,EAAOrR,aAAcwf,SAAUV,EAAc5Q,KAAK,iBAC9EvP,MAAM,mBAGd,kBAACkQ,EAAA,EAAD,CAAMC,MAAI,EAACC,GAAI,GACX,kBAACqQ,GAAA,EAAD,CACIC,QAAS,kBAACC,GAAA,EAAD,CAAUC,QAASlO,EAAOvR,SAAU0f,SAAUV,EAAc5Q,KAAK,aAC1EvP,MAAM,uBAGd,kBAACkQ,EAAA,EAAD,CAAMC,MAAI,EAACC,GAAI,IACX,kBAAC8Q,GAAA,EAAD,CAAWC,GAAG,SACNtV,MAAO,CAAExN,MAAO,OAChB2B,MAAM,QAAQjB,QAAM,EACpBqiB,WAAS,EACT7jB,MAAOmV,EAAOoU,MACdvX,KAAK,QACLsR,SAAU,SAACC,GACPP,EAAc,QAAS8G,SAASvG,EAAMC,OAAOxjB,QAAQ,IAEzD2P,QAAQ,UAER,kBAACmU,GAAA,EAAD,CAAU9jB,MAAO,GAAjB,KACA,kBAAC8jB,GAAA,EAAD,CAAU9jB,MAAO,GAAjB,KACA,kBAAC8jB,GAAA,EAAD,CAAU9jB,MAAO,GAAjB,KACA,kBAAC8jB,GAAA,EAAD,CAAU9jB,MAAO,GAAjB,MAEJ,kBAAC+jB,GAAA,EAAD,sCACA,yBAAKzV,MAAO,CAAErB,OAAQ,OAAQwB,MAAO,QAChC4T,EAAOkH,OAAS5G,EAAQ4G,OAASlH,EAAOkH,SAKzD,yBAAKjb,MAAO,CAAErB,OAAQ,OAAQwF,UAAW,WACrC,kBAACgB,EAAA,EAAD,CACInF,MAAO,CAAExN,MAAO,QAChBkjB,KAAK,SACLH,WAAS,EACTlU,QAAQ,YACRlB,MAAM,UACNY,UAAWtB,EAAQ8R,OACnBqE,SAAUnB,GAPd,4CAiBhB,yBAAKzU,MAAO,CAAEZ,WAAY,OAAQ+E,UAAW,WAA7C,4BAKP/F,GAAOjK,GACJ,kBAACmP,EAAA,EAAD,CAAOtD,MAAO,CAAExN,MAAO,OAAQmM,OAAQ,OAAQ6E,QAAS,OAAQW,UAAW,SAAUsD,gBAAiB,YAClG,kBAAC1H,EAAA,EAAD,CAAYsB,QAAQ,KAAK4D,cAAY,GAArC,cAKR,yBAAKlE,UAAU,eACX,yBAAKA,UAAU,MAAMwI,IAAKyR,Q,qBClTxC1c,GAAYC,aAAW,SAAAC,GAAK,MAAK,CACnCmD,MAAO,CACHhD,OAAQH,EAAMI,QAAQ,EAAG,GACzBH,QAAS,OACTwS,cAAe,SACfC,WAAY,UAEhBC,YAAa,CACTxS,OAAQH,EAAMI,QAAQ,GACtBpM,MAAO,OAEX4e,YAAa,CACTjO,UAAW3E,EAAMI,QAAQ,IAE7Boa,QAAS,CACLzV,WAAY,UACZ/Q,MAAO,OACPgR,QAAS,OACTvD,SAAU,OACVtB,OAAQ,QAEZ0S,KAAM,CACF7e,MAAO,MACP2Q,UAAW3E,EAAMI,QAAQ,GACzB0S,WAAY,QAEhBC,OAAQ,CACJ/e,MAAO,a,SAIAkpB,G,4FAAf,WAA6Btd,EAAKrL,EAAG4oB,EAAUtkB,EAAQ0P,EAAMC,GAA7D,mBAAAlL,EAAA,sEACuBuQ,GAAwBjO,EAAK/G,GADpD,cACUuD,EADV,OAEUghB,EAAQnS,UAAU7O,GACxBqL,KACM5N,EAAS,IAAIwjB,KAAe,CAC9B9oB,EAAGA,EACH+oB,QAASH,IANjB,SAQyBtjB,EAAO0jB,WAAWH,EAAlB,wCAAyB,WAAOI,EAAItjB,EAAWJ,GAAtB,iBAAAwD,EAAA,kEAEzBuP,GAFyB,SAEO/S,EAAY2S,QAFnB,+BAE4BlY,EAF5B,KAE+B6H,EAAnE3C,GAFoC,6BAG5B6O,GAH4B,UAGEpO,EAAUuS,QAHZ,gCAGqBhT,EAHrB,KAG+B8O,EAH/B,KAGqCC,EAAzEJ,GAHoC,uCAIpCS,GAAgBT,GAJoB,QAK1CtO,EAAY4S,UAL8B,4CAAzB,2DARzB,cAeWA,UACP0Q,EAAM1Q,UACN7S,EAAO4jB,UAjBX,6C,sBAmBe,SAASC,KACpB,IAAMzc,EAAUnB,KADa,EAEHiE,mBAAS,IAFN,mBAEtBsQ,EAFsB,KAEfC,EAFe,KAGrB1U,EAAQwJ,qBAAW1J,GAAnBE,IAHqB,EAISmE,mBAAS,IAJlB,mBAItBsO,EAJsB,KAITkC,EAJS,OAKHxQ,qBALG,mBAKtBpO,EALsB,KAKf4mB,EALe,KAkB7B,OAXApS,qBAAU,WAAM,6CAGZ,4BAAA7M,EAAA,sEAC0BsC,EAAIyS,cAD9B,OACUH,EADV,OAEIqC,EAAerC,GACfqK,EAASrK,EAAQ,IAHrB,4CAHY,sBACD,MAAPtS,GADQ,mCAQZmV,KACD,CAACnV,EAAK2U,IAGL,6BACI,kBAAC1O,EAAA,EAAD,CAAMjD,WAAS,GACX,kBAACiD,EAAA,EAAD,CAAMC,MAAI,EAACG,GAAI,EAAGF,GAAI,IAClB,kBAAC,EAAD,CAAUb,KAAK,qBAAqBC,KAAM,CAAC,aAAc,UAAW,iBACpE,kBAAC,GAAD,MACA,kBAAC,GAAD,OAEJ,kBAACU,EAAA,EAAD,CAAMC,MAAI,EAACG,GAAI,EAAGF,GAAI,IAClB,kBAAC,GAAD,MACA,kBAAC,GAAD,CAAa8E,KAAK,WACjBjL,GAAOyS,GAAe1c,EACnB,yBAAK6L,MAAO,CAAEwD,QAAS,SAClBqP,GACG,kBAACW,GAAA,EAAD,CAAO9R,QAAS,kBAAMoR,EAAS,KAAKW,SAAS,SACxCZ,GAGT,kBAAC,KAAD,CACIa,oBAAkB,EAClBC,cAAe,CACX3gB,QAAS6d,EACT1c,MAAOA,EACPoD,QAAS,EACTxE,EAAG,EACH4oB,SAAU,IACVrkB,SAAU,EACV/B,WAAW,EACXC,cAAc,EACdC,cAAc,EACdH,UAAU,EACV2lB,MAAO,GAEXnH,SAAU,SAAAjN,GACN,IAAMkN,EAAS,GAYf,OAXIlN,EAAOtP,QAAU,GAAKsP,EAAOtP,QAAU,KACvCuG,QAAQC,IAAI,QACZgW,EAAOxc,QAAU,aAEjBsP,EAAOvP,SAAW,GAAKuP,EAAOvP,SAAW,KACzCyc,EAAOzc,SAAW,YAED,IAAjBuP,EAAOoU,OAAgC,IAAjBpU,EAAOoU,OAAgC,IAAjBpU,EAAOoU,OAAgC,IAAjBpU,EAAOoU,QACzElH,EAAOkH,MAAQ,iBAGZlH,GAEXC,SAAQ,wCAAE,WAAOnN,GAAP,mBAAA/K,EAAA,6DACNgX,EAAS,IADH,SAIIzb,EAJJ,YAIkB,IAAI8c,IAAJ,CAAStN,EAAO1S,OAAhB,mBAA0B0S,EAAO7T,YAC/CD,EAAI8T,EAAO9T,EACJ,EACA,EACP4oB,EAAW9U,EAAO8U,SARtB,SASID,GAActd,EAAKrL,EAAG4oB,EAAUtkB,EAHzB,EACA,GAPX,yDAWFyG,QAAQ+U,MAAR,MACAC,EAAS,2CAZP,0DAAF,wDAeV,gBACEjM,EADF,EACEA,OACAkN,EAFF,EAEEA,OACAM,EAHF,EAGEA,QACAC,EAJF,EAIEA,aACAE,EALF,EAKEA,aACAC,EANF,EAMEA,aANF,OAQM,0BAAM1T,UAAWtB,EAAQ4R,KAAM2C,SAAUQ,GACrC,kBAACnQ,EAAA,EAAD,CAAMjD,WAAS,EAACxC,QAAS,GACrB,kBAACyF,EAAA,EAAD,CAAMC,MAAI,EAACC,GAAI,IACX,kBAACjB,EAAA,EAAD,CAAOvC,UAAWtB,EAAQuZ,SAA1B,iCAGA,kBAAC3D,GAAA,EAAD,CAAWC,GAAG,iBACVtV,MAAO,CAAEsR,WAAY,OAAQ9e,MAAO,OACpC2B,MAAM,IACNohB,WAAS,EACTG,KAAK,SACLV,SAAUV,EACV5iB,MAAOmV,EAAO9T,EACd2Q,KAAK,MAGT,kBAAC+R,GAAA,EAAD,sCACA,yBAAKzV,MAAO,CAAErB,OAAQ,OAAQwB,MAAO,QAChC4T,EAAOkH,OAAS5G,EAAQ4G,OAASlH,EAAOkH,SAIrD,yBAAKjb,MAAO,CAAErB,OAAQ,OAAQwF,UAAW,WACrC,kBAACgB,EAAA,EAAD,CACInF,MAAO,CAAExN,MAAO,QAChBkjB,KAAK,SACLH,WAAS,EACTlU,QAAQ,YACRlB,MAAM,UACNY,UAAWtB,EAAQ8R,OACnBqE,SAAUnB,GAPd,qCAiBhB,yBAAKzU,MAAO,CAAEZ,WAAY,OAAQ+E,UAAW,WAA7C,8BC3KrB,SAASgY,GAAWC,EAAKvW,EAAGa,EAAG2V,GACpCD,EAAIE,YACJF,EAAIG,IAAI1W,EAAGa,EAAG2V,EAAG,EAAW,EAARtrB,KAAKyrB,IAAM,GAC/BJ,EAAIK,YACJL,EAAIM,SACJN,EAAIO,OCrBN,IAAMC,GAAQ7X,EAAQ,KAkNP8X,GAhNE,WACf,IAAMC,EAAY5T,mBACV9K,EAAQwJ,qBAAW1J,GAAnBE,IAFa,EAGiBmE,mBAAS,IAH1B,mBAGdwa,EAHc,KAGDC,EAHC,OAIiBza,mBAAS,IAJ1B,mBAIdsO,EAJc,KAIDkC,EAJC,OAKKxQ,mBAAS,IALd,mBAKdsQ,EALc,KAKPC,EALO,KAkBrB,SAASmK,EAAaC,EAAaC,EAAYC,EAAY3gB,EAAKpL,GAC9D,OAAQ+rB,EAAaD,IAAeD,EAAczgB,IAAQpL,EAAMoL,GAAO0gB,EAZzExU,qBAAU,WAAM,6CAGd,4BAAA7M,EAAA,sEACwBsC,EAAIyS,cAD5B,OACQH,EADR,OAEEqC,EAAerC,GACfsM,EAAetM,EAAQA,EAAQ9f,OAAS,IAH1C,4CAHc,sBACH,MAAPwN,GADU,mCAQdmV,KACC,CAACnV,EAAK2U,IAOT,IAAMsK,EAAU,wCAAG,WAAOjf,EAAK2e,EAAalM,GAAzB,yDAAA/U,EAAA,sEAEK+P,GAAsBzN,EAAK2e,EAAalM,GAF7C,OAOjB,GAPiB,4BAEZjW,EAFY,KAGjB8L,GADWA,EAFM,MAGX9C,KAAI,SAAAzP,GAAK,OAAIA,EAAM,MACzB2J,QAAQC,IAAInD,GACR0iB,EAAS9rB,MAAMoJ,EAAKhK,QAAQ+rB,OAAO/Y,KAAI,kBAAMpS,MAAMoJ,EAAK,GAAGhK,QAAQ+rB,KAAK,MAExE/hB,EAAKhK,OAAS,EAChB,IACI,IAAQE,EAAE,EAAEA,EAAG,EAAEA,IAAI,CAGnB,IAFIysB,EAAa,GAETtpB,EAAE,EAAEA,EAAG2G,EAAKhK,OAAOqD,IACzBspB,EAAalnB,KAAKuE,EAAK3G,GAAGnD,IAM5B,IAHI0sB,EAAWzsB,KAAKM,IAAIosB,MAAM1sB,KAAMwsB,GAChCG,EAAW3sB,KAAK0L,IAAIghB,MAAM1sB,KAAMwsB,GAE3BlkB,EAAI,EAAGA,EAAIkkB,EAAa3sB,OAAQyI,IACnCskB,EAAWJ,EAAalkB,GAC5BikB,EAAOjkB,GAAGvI,GAAKmsB,EAAaU,GAAW,EAAG,EAAGD,EAAUF,GAS3D,IALInmB,EAAS,IAAI7F,MAAMkV,EAAE9V,QAErB4sB,EAAWzsB,KAAKM,IAAIosB,MAAM1sB,KAAM2V,GAChCgX,EAAW3sB,KAAK0L,IAAIghB,MAAM1sB,KAAM2V,GAE3B5V,EAAI,EAAGA,EAAI4V,EAAE9V,OAAQE,IACxB6sB,EAAWjX,EAAE5V,GACjBuG,EAAOvG,GAAKmsB,EAAaU,GAAW,EAAG,EAAGD,EAAUF,GAGtD1f,QAAQC,IAAI1G,GAENumB,EAAM,IAAIhB,GAAM3iB,IACb,KACA,GACQ,MACL,EACG,EACM,GACV,EACLmiB,EAAMU,EAAU3T,QAAQ0U,WAAW,MACrCC,EAAQ1B,EAAI2B,OAAOvrB,MACnBwrB,EAAS5B,EAAI2B,OAAO9a,OAExB7F,EAAawgB,EAAIjjB,MAAM2iB,EAAQjmB,EAAQ,CAAE6D,OAAQ,MAAOG,SANnC,GAM6DR,EALvE,KAMH,EAERojB,EAAK7B,EAAK0B,EAAOE,EAAQJ,EAAKN,EAAQjmB,EAd7B,KACA,GAa6C+F,GAF9C,EARO,EACM,GACV,GASX,MAAOmd,GACTzc,QAAQC,IAAIwc,GACZzH,EAAS,gDAGXA,EAAS,oCA1DM,4CAAH,0DA8DRmL,EAAO,SAAC7B,EAAK0B,EAAOE,EAAQJ,EAAKhjB,EAAMvD,EAAQ6mB,EAAIC,EAAI/gB,EAAYghB,EAAOC,EAAUC,EAAgBC,GACxG,GAAKH,EAAL,CAEAhC,EAAIoC,UAAU,EAAG,EAAGV,EAAOE,GAI3B,IADA,IACSnY,EAAI,EAAKA,GAAKiY,EAAOjY,GADhB,EAEZ,IAAK,IAAIa,EAAI,EAAKA,GAAKsX,EAAQtX,GAFnB,EAEiC,CAC3C,IAAI+X,EAAMb,EAAIzhB,UAAU,EAAE0J,EAAIiY,EAAQ,GAAKK,GAAKzX,EAAIsX,EAAS,GAAKG,IACrD/B,EAAIsC,UAAbD,EAAM,EAAmB,mBACR,mBACrBrC,EAAIuC,SAAS9Y,EAAI+Y,IAAc,EAAGlY,EANxB,EAMsC,EAAGkY,EAAaA,GAKpExC,EAAIE,YACJF,EAAIyC,YAAc,gBAClBzC,EAAI0C,UAAY,EAChB1C,EAAI2C,OAAO,EAAGf,EAAS,GACvB5B,EAAI4C,OAAOlB,EAAOE,EAAS,GAC3B5B,EAAI2C,OAAOjB,EAAQ,EAAG,GACtB1B,EAAI4C,OAAOlB,EAAQ,EAAGE,GACtB5B,EAAIM,SAGJN,EAAIyC,YAAc,aAClB,IAAK,IAAI/tB,EAAI,EAAGA,EAAI8J,EAAKhK,OAAQE,IAEb,IAAduG,EAAOvG,GAAUsrB,EAAIsC,UAAY,mBAChCtC,EAAIsC,UAAY,mBAEjBd,EAAIriB,MAAMzK,GAAK,IACjBsrB,EAAI0C,UAAY,EAGhB1C,EAAI0C,UAAY,EAElB3C,GAAWC,EAAKxhB,EAAK9J,GAAG,GAAKqtB,EAAKL,EAAQ,EAAGljB,EAAK9J,GAAG,GAAKqtB,EAAKH,EAAS,EAAGjtB,KAAK4B,MAAM,EAAmB,EAAfirB,EAAIriB,MAAMzK,GAAWytB,IAIjH,GAAiB,IAAbF,EAAgB,CAElB,IAAI9Z,EAAK,EAAE,EAAG,GACV0a,EAAK,CAAC,EAAG,GACbA,EAAG,KAAOf,EAAGxiB,EAAIwiB,EAAGlhB,EAAE,GAAKuH,EAAG,IAAM2Z,EAAGlhB,EAAE,GACzCiiB,EAAG,KAAOf,EAAGxiB,EAAIwiB,EAAGlhB,EAAE,GAAKuH,EAAG,IAAM2Z,EAAGlhB,EAAE,GACzCof,EAAIsC,UAAY,aAChBtC,EAAI0C,UAAY,EAChB1C,EAAIE,YAEJF,EAAI2C,OAAOxa,EAAG,GAAK4Z,EAAKL,EAAQ,EAAGmB,EAAG,GAAKd,EAAKH,EAAS,GACzD5B,EAAI4C,OAAOza,EAAG,GAAK4Z,EAAKL,EAAQ,EAAGmB,EAAG,GAAKd,EAAKH,EAAS,GAEzD5B,EAAI2C,OAAOxa,EAAG,GAAK4Z,EAAKL,EAAQ,GAAImB,EAAG,GAAK,EAAMf,EAAGlhB,EAAE,IAAMmhB,EAAKH,EAAS,GAC3E5B,EAAI4C,OAAOza,EAAG,GAAK4Z,EAAKL,EAAQ,GAAImB,EAAG,GAAK,EAAMf,EAAGlhB,EAAE,IAAMmhB,EAAKH,EAAS,GAE3E5B,EAAI2C,OAAOxa,EAAG,GAAK4Z,EAAKL,EAAQ,GAAImB,EAAG,GAAK,EAAMf,EAAGlhB,EAAE,IAAMmhB,EAAKH,EAAS,GAC3E5B,EAAI4C,OAAOza,EAAG,GAAK4Z,EAAKL,EAAQ,GAAImB,EAAG,GAAK,EAAMf,EAAGlhB,EAAE,IAAMmhB,EAAKH,EAAS,GAC3E5B,EAAIM,SAIJ,IAAK,IAAI5rB,EAAI,EAAGA,EAAI8J,EAAKhK,OAAQE,IAC/B,KAAI8sB,EAAIriB,MAAMzK,GAAK,KAAnB,CACkB,IAAduG,EAAOvG,IACTmuB,EAAG,IAAM,EAAIf,EAAGxiB,EAAIwiB,EAAGlhB,EAAE,GAAKuH,EAAG,IAAM2Z,EAAGlhB,EAAE,GAC5CiiB,EAAG,IAAM,EAAIf,EAAGxiB,EAAIwiB,EAAGlhB,EAAE,GAAKuH,EAAG,IAAM2Z,EAAGlhB,EAAE,KAE5CiiB,EAAG,KAAO,EAAIf,EAAGxiB,EAAIwiB,EAAGlhB,EAAE,GAAKuH,EAAG,IAAM2Z,EAAGlhB,EAAE,GAC7CiiB,EAAG,KAAO,EAAIf,EAAGxiB,EAAIwiB,EAAGlhB,EAAE,GAAKuH,EAAG,IAAM2Z,EAAGlhB,EAAE,IAE/C,IAAIkiB,GAAKtkB,EAAK9J,GAAG,GAAKyT,EAAG,KAAOA,EAAG,GAAKA,EAAG,KAAO3J,EAAK9J,GAAG,GAAKmuB,EAAG,KAAOA,EAAG,GAAKA,EAAG,IACpFC,IAAU3a,EAAG,GAAKA,EAAG,KAAOA,EAAG,GAAKA,EAAG,KAAO0a,EAAG,GAAKA,EAAG,KAAOA,EAAG,GAAKA,EAAG,IAC3E,IAAIE,EAAK5a,EAAG,GAAK2a,GAAK3a,EAAG,GAAKA,EAAG,IAC7B6a,EAAKH,EAAG,GAAKC,GAAKD,EAAG,GAAKA,EAAG,IACjC7C,EAAI2C,OAAOnkB,EAAK9J,GAAG,GAAKqtB,EAAKL,EAAQ,EAAGljB,EAAK9J,GAAG,GAAKqtB,EAAKH,EAAS,GACnE5B,EAAI4C,OAAOG,EAAKhB,EAAKL,EAAQ,EAAGsB,EAAKjB,EAAKH,EAAS,GAErD5B,EAAIM,YAIV,OACE,6BACE,kBAACrY,EAAA,EAAD,CAAMjD,WAAS,GACb,kBAACiD,EAAA,EAAD,CAAMC,MAAI,EAACG,GAAI,EAAGF,GAAI,IACpB,kBAAC,EAAD,CAAUb,KAAK,yBAAyBC,KAAM,CAAC,iBAAkB,cACjE,kBAAC,GAAD,MACA,kBAAC,GAAD,OAEF,kBAACU,EAAA,EAAD,CAAMC,MAAI,EAACG,GAAI,EAAGF,GAAI,IACV,yBAAKvE,MAAO,CAAEwD,QAAS,SACnB,kBAAC,GAAD,MACA,kBAAC,GAAD,CAAa6F,KAAK,QACjBwJ,GACG,kBAACW,GAAA,EAAD,CAAOxT,MAAO,CAAErB,OAAQ,QAAU+C,QAAS,kBAAMoR,EAAS,KAAKW,SAAS,SACnEZ,GAGRzU,EACG,kBAACiG,EAAA,EAAD,CAAMjD,WAAS,GACb,kBAACiD,EAAA,EAAD,CAAMrE,MAAO,CAAEmE,UAAW,UAAYG,MAAI,EAACC,GAAI,IACzC,kBAACY,EAAA,EAAD,CAAQ9D,QAAQ,YAAYlB,MAAM,UAAUH,MAAO,CAAExN,MAAO,OAAS8N,QAAO,uBAAE,sBAAAxE,EAAA,sEAAkBuhB,EAAWjf,EAAK2e,EAAalM,GAA/C,oFAA9E,UAEJ,yBAAK7Q,MAAO,CAAEZ,WAAY,SACxB,4BAAQ5M,MAAM,MAAMyQ,OAAO,MAAMsG,IAAKuT,MAIxC,yBAAK9c,MAAO,CAAEZ,WAAY,OAAQ+E,UAAW,WAA7C,gC,2BCnN1Bkb,GAAiB,CACrBC,SAAU,OACV9sB,MAAO,IACPyQ,OAAQ,IACRO,QAAS,GACTiE,gBAAiB,UACjB8X,aAAc,EACdC,WAAY,OACZC,aAAc,SCNKC,G,WACnB,WAAYC,EACAC,GAKT,IAJSC,EAIV,uDAJmBR,GAAeE,aACxB5C,EAGV,uDAHiB0C,GAAeG,WACtB9C,EAEV,uDAFmB2C,GAAeI,aACxB/J,EACV,uDDCgB,OCDhB,qBACA5hB,KAAK6rB,GAAKA,EACV7rB,KAAK8rB,GAAKA,EACV9rB,KAAK+rB,OAASA,EACd/rB,KAAK6oB,KAAOA,EACZ7oB,KAAK4oB,OAASA,EACd5oB,KAAK4hB,KAAOA,EACZ5hB,KAAKwD,SAAW,KAChBxD,KAAKgsB,SAAW,K,qDAEVpK,GACN5hB,KAAK4hB,KAAOA,I,kCAEFpe,GACVxD,KAAKwD,SAAWA,I,kCAEN5F,GACVoC,KAAKgsB,SAAWpuB,M,KCtBCquB,G,WACnB,WAAYnlB,EAAMV,GAAiC,IAAD,OAAvB8lB,EAAuB,uDAAf,CFKjB,QELgC,qBAChDlsB,KAAKoG,QAAU2X,OAAOoO,OAAO,GAAIZ,GAAgBnlB,GACjDpG,KAAKosB,OAASpsB,KAAKqsB,aAAavlB,GAChC9G,KAAKssB,OAAStsB,KAAKusB,aAAazlB,GAC5B9G,KAAKwsB,aAAaN,GACpBlsB,KAAKksB,MAAQA,EAEblsB,KAAKksB,MAAQ,CFFC,QEIhBlsB,KAAKysB,aAAezsB,KAAK0sB,iBAAiB1sB,KAAKksB,OAC3ClsB,KAAK2sB,YAAY7lB,KACnB9G,KAAK8G,KAAOA,EAAKgJ,KAAI,SAAA/S,GAAC,OAAI,EAAK6vB,gBAAgB7vB,OAEjDiD,KAAK6sB,MAAQ,QAAUC,KAAKC,MAC5B/sB,KAAKgtB,IAAMhtB,KAAKitB,YAChBjtB,KAAKktB,WAAY,E,yDAEPpmB,GAAO,IAAD,OACZ+Q,GAAS,EAwBb,OAvBM/Q,GAAQpJ,MAAMyvB,QAAQrmB,KAC1B+Q,EAAS/Q,EAAKsmB,QAAO,SAACC,EAAKrX,GACzB,OAAO+H,OAAOuP,QAAQtX,GAAKoX,QAAO,SAACvV,EAAQ0V,GACzC,IAAMvd,EAAMud,EAAM,GACZvX,EAAMuX,EAAM,GACdF,GAAM,EACV,GAAI,EAAKG,kBAAkBxd,EAAKgG,IAAQ,EAAKyX,YAAYzd,EAAKgG,GAC5DqX,EAAMxV,IAAU,MACX,CACL,IAAK,EAAK4V,YAAYzd,EAAKgG,GAAM,CAC/B,IAAM0X,EAAM,kCAA2B1d,EAA3B,uBAA6CgG,EAA7C,MACV,0DACF,MAAM2X,MAAMD,GACP,IAAK,EAAKF,kBAAkBxd,EAAKgG,GACtC,MAAM2X,MAAM,2BAAD,OAA4B3d,EAA5B,aAAoCgG,IAInD,OAAOqX,KACN,MACF,IAGExV,I,wCAES7H,EAAKgG,GACrB,MAAO,CAAC,IAAK,KAAKhE,SAAShC,IACV,kBAARgG,GACPA,IAAQ5R,KACR4R,KAAS5R,M,kCAED4L,EAAKgG,GACf,MAAe,SAARhG,GAAkBhQ,KAAKksB,MAAMla,SAASgE,K,mCAElCkW,GACX,IAAIrU,GAAS,EAOb,OANMqU,GAASxuB,MAAMyvB,QAAQjB,IAAUA,EAAMpvB,OAAS,IACpD+a,EAASqU,EAAMkB,QAAO,SAACC,EAAKzL,GAC1B,OAAOyL,KAASzL,KACf,IAGE/J,I,uCAEQqU,GACf,IAAM0B,EAAaC,KAAgBA,MAE7BC,EAAW5B,EAAMkB,QAAO,SAACtd,EAAK8R,GAGlC,OAFA9R,EAAI8R,GAAQgM,EAAWhM,GAEhB9R,IACN,IAGH,OAFAge,EAAQ,KAAgBF,EFlER,QEoETE,I,mCAEIhnB,GACX,OAASA,GAAQA,EAAK8a,MAAQ5hB,KAAKysB,aAAasB,eAAejnB,EAAK8a,MAClE5hB,KAAKysB,aAAa3lB,EAAK8a,MAAQ5hB,KAAKoG,QAAQslB,a,sCAEhC5kB,GACd,IAAMknB,EAAYhuB,KAAKiuB,aAAannB,GAEpC,OAAO,IAAI8kB,GACT5rB,KAAKosB,OAAOtlB,EAAKiL,GACjB/R,KAAKssB,OAAOxlB,EAAK8L,GACjB5S,KAAKoG,QAAQqlB,aACbuC,EACAhuB,KAAKoG,QAAQulB,aACb7kB,EAAK8a,Q,iCAEEsM,EAAUrT,GAAY,IAAD,OAC9BvI,SAAS6b,cAAT,WAA2BnuB,KAAK6sB,QAASuB,iBAAiB,SAAS,SAAClc,GAClE,EAAKmc,cAAcnc,EAAGgc,EAAUrT,Q,oCAGtB3I,EAAGgc,EAAUrT,GAAY,IAAD,OACpC,GAAI7a,KAAKsuB,mBAAmBpc,EAAEkP,OAAQ8M,IAAaluB,KAAKktB,UAAW,CACjE,IAAMqB,EAAYvuB,KAAK4sB,gBAAgB,CAAC7a,EAAG/R,KAAKosB,OAAOoC,OAAOtc,EAAEuc,SAAU7b,EAAG5S,KAAKssB,OAAOkC,OAAOtc,EAAEwc,WAClG7T,EAAUkL,SAAQ,SAAA4I,GAChBA,EAASC,KAAK,EAAML,S,oCAIZM,EAASC,EAAWjU,GAAY,IAAD,OAC3CvI,SAAS6b,cAAT,WAA2BU,IAAWT,iBAAiB,UAAU,SAAClc,GAChE,EAAK6c,oBAAoB7c,EAAG2c,EAASC,EAAWjU,Q,yCAGjCuG,EAAQ8M,GACzB,QAAS9M,GAAUA,EAAOI,KAAO0M,I,0CAEfhc,EAAG2c,EAASjN,EAAM/G,GAAY,IAAD,OAC/C,GAAI7a,KAAKsuB,mBAAmBpc,EAAEkP,OAAQyN,GAAU,CAC9C,IAAMjxB,EAAiB,aAATgkB,EAAsB1P,EAAEkP,OAAOH,QAAU/O,EAAEkP,OAAOxjB,MAChEid,EAAUkL,SAAQ,SAAA4I,GAChBA,EAASC,KAAK,EAAMhxB,S,mCAIbsvB,GACXltB,KAAKktB,UAAYA,I,oCAEL8B,GAA+B,IAAlBC,EAAiB,uDAAJ,GAChCC,EAAK5c,SAAS6c,cAAcH,GAKlC,OAJAC,EAAWlJ,SAAQ,SAAA7C,GACjBgM,EAAGE,aAAalM,EAAK,GAAIA,EAAK,OAGzBgM,I,0CAEWG,GAClB,IAAMC,EAAgBtvB,KAAKmvB,cAAc,MAAO,CAAC,CAAC,QAAS,qBAK3D,OAJAE,EAActJ,SAAQ,SAAAwJ,GACpBD,EAAcE,OAAOD,MAGhBD,I,yCAEUG,EAAWC,EAAiBC,EAAYC,GACzD,IAAMC,EAAO7vB,KAAKmvB,cAAc,QAChCU,EAAKva,UAAYqa,EAEjB,IAAMG,EAAa9vB,KAAKmvB,cAAc,QAASO,GAC/CI,EAAWC,YAAcN,EAEzB,IAAMvR,EAAQle,KAAKmvB,cAAc,QAAnB,sBAAgCS,GAAhC,CAAiD,CAAC,QAASD,MAGzE,OAFAG,EAAWE,YAAYH,GAEhB,CAACxvB,MAAOyvB,EAAY5R,W,gCAEnB+R,GACRjwB,KAAK8G,KAAKvE,KAAK0tB,K,kCAGf,OAAOpC,KAAU7tB,KAAKoG,QAAQolB,UAC3BgE,OAAO,OACPtM,KAAK,KAAMljB,KAAK6sB,OAChB3J,KAAK,QAASljB,KAAKoG,QAAQ1H,OAC3BwkB,KAAK,SAAUljB,KAAKoG,QAAQ+I,QAC5BjD,MAAM,mBAAoBlM,KAAKoG,QAAQuN,mB,mCAE/B7M,GACX,OAAO+mB,OACJqC,OAAO,CACNrC,KAAO/mB,GAAM,SAAU/J,GAAK,OAAOA,EAAEgV,KAAQ/R,KAAKoG,QAAQsJ,QAC1Dme,KAAO/mB,GAAM,SAAU/J,GAAK,OAAOA,EAAEgV,KAAQ/R,KAAKoG,QAAQsJ,UAE3DygB,MAAM,CAAC,EAAGnwB,KAAKoG,QAAQ1H,U,mCAEfoI,GACX,OAAO+mB,OACJqC,OAAO,CACNrC,KAAO/mB,GAAM,SAAU/J,GAAK,OAAOA,EAAE6V,KAAQ5S,KAAKoG,QAAQsJ,QAC1Dme,KAAO/mB,GAAM,SAAU/J,GAAK,OAAOA,EAAE6V,KAAQ5S,KAAKoG,QAAQsJ,UAE3DygB,MAAM,CAAC,EAAGnwB,KAAKoG,QAAQ+I,W,oCAG1BnP,KAAKgtB,IAAIoD,UAAU,UAChBtpB,KAAK9G,KAAK8G,MACVupB,QAAQb,OAAO,UACftjB,MAAM,UAAU,SAAUnP,GAAK,OAAOA,EAAE6rB,UACxC1c,MAAM,QAAQ,SAAUnP,GAAK,OAAOA,EAAE8rB,QACtC3F,KAAK,KAAK,SAAUnmB,GAAK,OAAOA,EAAEgvB,UAClC7I,KAAK,MAAM,SAAUnmB,GAAK,OAAOA,EAAE8uB,MACnC3I,KAAK,MAAM,SAAUnmB,GAAK,OAAOA,EAAE+uB,MACnC5I,KAAK,SAAS,SAAUnmB,GAAK,OAAOA,EAAEivB,SAAWjvB,EAAEivB,SAAW,Q,6BAGjEhsB,KAAKswB,kB,yCC/LYC,G,oDACnB,WAAYC,EAAStE,GAAwC,IAAD,EAAhCjtB,EAAgC,uDHc7C,EGd2BwxB,EAAkB,qFAC1D,cAAMD,IACDvxB,EAAIA,EACT,EAAKitB,MAAQA,EACb,EAAKwE,kBAAoB,KACzB,EAAKD,SAAWA,EAL0C,E,+DAO1CzoB,EAAGJ,GACnB,OAAO3K,KAAKE,KAAKF,KAAKC,IAAK0K,EAAEikB,GAAK7jB,EAAE6jB,GAAK,GAAK5uB,KAAKC,IAAK0K,EAAEkkB,GAAK9jB,EAAE8jB,GAAK,M,sCAExD9jB,EAAGJ,GACjB,OAAII,EAAExE,SAAWoE,EAAEpE,SACV,EACEwE,EAAExE,SAAWoE,EAAEpE,UAChB,EAGH,I,4CAEa+qB,EAAWoC,GAAY,IAAD,OAC1C,OAAOA,EAAU7e,QAAO,SAAA9T,GAAC,OAAIA,IAAMuwB,KAChCze,KAAI,SAAA9R,GAGH,OAFAA,EAAE4yB,YAAY,EAAKC,kBAAkB7yB,EAAGuwB,IAEjCvwB,KAER8yB,MAAK,SAAC9oB,EAAGJ,GAAJ,OAAU,EAAKmpB,gBAAgB/oB,EAAGJ,MACvCkK,QAAO,SAAC9T,EAAGhB,GAAJ,OAAUA,EAAI,EAAKiC,O,4CAGTyxB,GACpB,IAAMM,EAAehxB,KAAKksB,MAAMkB,QAAO,SAACC,EAAKzL,GAG3C,OAFAyL,EAAIzL,GAAQ,EAELyL,IACN,CAAC9vB,IAAK,CAACqkB,KAAM,KAAM5L,IAAK,KAY3B,OAXY0a,EAAkBtD,QAAO,SAACC,EAAK4D,GACzC,IAAMC,EAAkB7D,EAAI4D,EAASrP,MAAQ,EAAIqP,EAASztB,SAO1D,OANI0tB,EAAkB7D,EAAI9vB,IAAIyY,MAC5BqX,EAAI9vB,IAAIqkB,KAAOqP,EAASrP,KACxByL,EAAI9vB,IAAIyY,IAAMkb,GAEhB7D,EAAI4D,EAASrP,MAAQsP,EAEd7D,IACN2D,GAEQzzB,IAAIqkB,O,8CAEO8O,GACtB,IAAMS,EAAS,GAMf,OALAT,EAAkB5gB,KAAI,SAAA9R,GAAC,OAAIA,EAAE4jB,QAC1BmE,SAAQ,SAAAnE,GACPuP,EAAOvP,GAAQuP,EAAOvP,GAAQuP,EAAOvP,GAAQ,EAAI,KAG9C7D,OAAOuP,QAAQ6D,GAAQL,MAAK,SAAC9oB,EAAGJ,GAAJ,OAAUI,EAAE,GAAKJ,EAAE,MAAI,GAAG,K,0CAE3C8oB,GAClB,OAAO1wB,KAAKywB,SACVzwB,KAAKoxB,sBAAsBV,GAAqB1wB,KAAKqxB,wBAAwBX,K,+BAExET,EAAQU,GAGf,OAFA3wB,KAAK0wB,kBAAoB1wB,KAAKsxB,sBAAsBrB,EAAQU,GAErD3wB,KAAKuxB,oBAAoBvxB,KAAK0wB,uB,ICpEvC,WAAYF,GAAU,qBACpBxwB,KAAKwwB,QAAUA,KCGEgB,G,oDACnB,WAAY1qB,EAAMV,EAAS8lB,GAAsB,IAAD,EAAdjtB,EAAc,uDLYjC,EKZiC,6BAC9C,cAAM6H,EAAMV,EAAS8lB,IAChBuF,IAAM,IAAIlB,GAAI,EAAKzpB,KAAMolB,EAAOjtB,GACrC,EAAKyyB,WAAW,EAAK7E,MAAO,CAAC,EAAK8E,mBAHY,E,8DAK/B1B,GACfjwB,KAAK4xB,cAAa,GAElB,IAAMC,EAAmB7xB,KAAK8xB,oBAAoB7B,GAClDjwB,KAAK+xB,UAAUF,GACf,IAAMG,EAAiBhyB,KAAKiyB,kBAAkBJ,GAC9C7xB,KAAK+xB,UAAUC,GAEfhyB,KAAKswB,cACLtwB,KAAKkyB,oBAAoBlyB,KAAKmyB,qCAAqCN,IAEnE7xB,KAAK8G,KAAO9G,KAAK8G,KAAKgL,QAAO,SAAA/T,GAAC,OAAIA,IAAMi0B,KACxChyB,KAAKoyB,8BAA8B,a,0CAEjBnC,GAClB,IAAMoC,EAAaryB,KAAKyxB,IAAIa,SAASrC,EAAQjwB,KAAK8G,MAGlD,OAFAmpB,EAAOsC,QAAQF,GAERpC,I,wCAESA,GAChB,IACMlE,EADmB/rB,KAAKyxB,IAAIf,kBAAkB1wB,KAAKyxB,IAAIxyB,EAAI,GACjCuE,SAAWxD,KAAKoG,QAAQqlB,aAClDuG,EAAiB,IAAIpG,GAAOqE,EAAOpE,GAAIoE,EAAOnE,GAAIC,EAAQ,cAAe,SAG/E,OAFAiG,EAAeQ,YAAY,UAEpBR,I,2DAE4B/B,GACnC,OAAOjwB,KAAKyxB,IAAIf,kBAAkB5gB,KAAI,SAAA9R,GACpC,MAAO,CACLy0B,GAAIz0B,EAAE6tB,GACN6G,GAAIzC,EAAOpE,GACX8G,GAAI30B,EAAE8tB,GACN8G,GAAI3C,EAAOnE,GACX+G,YAAa,EACbjK,OAAQ,8B,0CAIMkK,GAClB9yB,KAAKgtB,IAAIoD,UAAU,QAChBtpB,KAAKgsB,GACLzC,QAAQb,OAAO,QACftjB,MAAM,UAAU,SAAUnP,GAAK,OAAOA,EAAE6rB,UACxC1F,KAAK,gBAAgB,SAAUnmB,GAAK,OAAOA,EAAE81B,eAC7C3P,KAAK,MAAM,SAAUnmB,GAAK,OAAOA,EAAE01B,MACnCvP,KAAK,MAAM,SAAUnmB,GAAK,OAAOA,EAAE41B,MACnCzP,KAAK,MAAM,SAAUnmB,GAAK,OAAOA,EAAE21B,MACnCxP,KAAK,MAAM,SAAUnmB,GAAK,OAAOA,EAAE61B,MACnC1P,KAAK,QAAS,Y,oCAGjB,sEACA,IAAM4K,EAAW9tB,KAAKysB,aACtBzsB,KAAKgtB,IAAIoD,UAAU,UAChB2C,aAAaC,SAAS,MACtB9mB,MAAM,QAAQ,SAAUnP,GACvB,IAAMk2B,EAAYnF,EAAS/wB,EAAE6kB,MAE7B,ML7DY,SK6DL7kB,EAAE6kB,MAAwB7kB,EAAE8rB,OAASoK,EAAYl2B,EAAE8rB,KAAOoK,O,oDAGzCC,GAC5B,IAAMC,EAAOnzB,KACbA,KAAKgtB,IAAIoD,UAAU8C,GAChBH,aACAC,SAAS,KACT9mB,MAAM,SAAU,eAChBA,MAAM,OAAQ,eACdknB,GAAG,OAAO,WACTD,EAAKE,eAAeH,GACpBC,EAAKvB,cAAa,Q,qCAGTsB,GACblzB,KAAKgtB,IAAIoD,UAAU8C,GAAU1gB,a,GAlFayZ,I,UCsN/BsE,GAjNH,WAAO,IAAD,EACc9hB,mBAAS,CACjC6kB,aAAcr2B,KAAK0L,IAAI,IAAKkE,OAAO0mB,WAAa,IAChDC,cAAe,IACftH,MAAO,CAAC,IAAK,KACbuH,YAAa,IACbx0B,EAAG,KANO,mBACPmoB,EADO,KACCsM,EADD,KASRjC,EAAMrc,mBATE,EAWU3G,mBAAS,MAXnB,mBAWP3H,EAXO,KAWDgW,EAXC,KAYdjI,qBAAU,WACN,SAAS8e,EAAahrB,EAAKpL,GACvB,OAAON,KAAK4B,MAAM5B,KAAK0C,UAAYpC,EAAMoL,EAAM,IAAMA,EAoCzD,IASIirB,EATExtB,EAAU,CACZolB,SAAU,OACV9sB,MAAO0oB,EAAOkM,aACdnkB,OAAQiY,EAAOoM,cACf7f,gBAAiB,QACjB+X,WAAY,UACZC,aAAc,SAIlB,GAFA8F,EAAIpc,QAAQC,UAAY,KAEnBxO,EAKD8sB,EAAM,IAAIpC,GAAiB1qB,EAAMV,EAASghB,EAAO8E,MAAO9E,EAAOnoB,OALxD,CACP,IAAIiV,EAjCR,SAA0Bof,EAAcE,EAAeC,EAAavH,GAChE,IAAM2H,EAAmB,CACrBC,EAAG,CACCp1B,MAAO40B,EAAe,EACtBnkB,OAAQmkB,EAAe,EACvBzH,GAAIyH,EAAe,EACnBxH,GAAI0H,EAAgB,GAExBO,EAAG,CACCr1B,MAAO40B,EAAe,IACtBnkB,OAAQmkB,EAAe,IACvBzH,GAAmB,KAAfyH,EACJxH,GAAoB,IAAhB0H,IAGZ,OAAO91B,MAAMisB,MAAM,KAAMjsB,MAAM+1B,IAAc3jB,KAAI,SAAC/S,GAC9C,IAAM6kB,EAAO3kB,KAAK0C,SAAW,GAAMusB,EAAM,GAAKA,EAAM,GADA,EAElB2H,EAAiBjS,GAFC,EA3B1D,SAA0CljB,EAAOyQ,EAAQ0c,EAAIC,GAC3D,IAAMkI,EAAM/2B,KAAKE,KAAKF,KAAK0C,UACrBs0B,EAAMh3B,KAAK0C,SAAW1C,KAAKyrB,GAAK,EAChCwL,EACDP,GAAcj1B,EAAQ,EAAGA,EAAQ,GADhCw1B,EAEDP,GAAcxkB,EAAS,EAAGA,EAAS,GAIxC,MAAO,CAAE4C,EAFEiiB,EAAM/2B,KAAKk3B,IAAIF,GAAOv1B,EAAS,EAAImtB,EAAKqI,EAEvCthB,EADDohB,EAAM/2B,KAAKm3B,IAAIH,GAAO9kB,EAAU,EAAI2c,EAAKoI,GAsB/BG,CAHmC,EAE5C31B,MAF4C,EAErCyQ,OAFqC,EAE7B0c,GAF6B,EAEzBC,IAE3B,MAAO,CAAE/Z,EAJ2C,EAG5CA,EACIa,EAJwC,EAGzCA,EACIgP,WAcL0S,CAAiBlN,EAAOkM,aAAclM,EAAOoM,cAAepM,EAAOqM,YAAarM,EAAO8E,OACrGpP,EAAQ5I,GACR0f,EAAM,IAAIpC,GAAiBtd,EAAS9N,EAASghB,EAAO8E,MAAO9E,EAAOnoB,GAItE20B,EAAIzJ,SACL,CAAC/C,EAAQtgB,IAGZ+N,qBAAU,WACN,SAAS8e,EAAahrB,EAAKpL,GACvB,OAAON,KAAK4B,MAAM5B,KAAK0C,UAAYpC,EAAMoL,EAAM,IAAMA,EAoCzD,IAAIuL,EAtBJ,SAA0Bof,EAAcE,EAAeC,EAAavH,GAChE,IAAM2H,EAAmB,CACrBC,EAAG,CACCp1B,MAAO40B,EAAe,EACtBnkB,OAAQmkB,EAAe,EACvBzH,GAAIyH,EAAe,EACnBxH,GAAI0H,EAAgB,GAExBO,EAAG,CACCr1B,MAAO40B,EAAe,IACtBnkB,OAAQmkB,EAAe,IACvBzH,GAAmB,KAAfyH,EACJxH,GAAoB,IAAhB0H,IAGZ,OAAO91B,MAAMisB,MAAM,KAAMjsB,MAAM+1B,IAAc3jB,KAAI,SAAC/S,GAC9C,IAAM6kB,EAAO3kB,KAAK0C,SAAW,GAAMusB,EAAM,GAAKA,EAAM,GADA,EAElB2H,EAAiBjS,GAFC,EA3B1D,SAA0CljB,EAAOyQ,EAAQ0c,EAAIC,GAC3D,IAAMkI,EAAM/2B,KAAKE,KAAKF,KAAK0C,UACrBs0B,EAAMh3B,KAAK0C,SAAW1C,KAAKyrB,GAAK,EAChCwL,EACDP,GAAcj1B,EAAQ,EAAGA,EAAQ,GADhCw1B,EAEDP,GAAcxkB,EAAS,EAAGA,EAAS,GAIxC,MAAO,CAAE4C,EAFEiiB,EAAM/2B,KAAKk3B,IAAIF,GAAOv1B,EAAS,EAAImtB,EAAKqI,EAEvCthB,EADDohB,EAAM/2B,KAAKm3B,IAAIH,GAAO9kB,EAAU,EAAI2c,EAAKoI,GAsB/BG,CAHmC,EAE5C31B,MAF4C,EAErCyQ,OAFqC,EAE7B0c,GAF6B,EAEzBC,IAE3B,MAAO,CAAE/Z,EAJ2C,EAG5CA,EACIa,EAJwC,EAGzCA,EACIgP,WAGT0S,CAAiBlN,EAAOkM,aAAclM,EAAOoM,cAAepM,EAAOqM,YAAarM,EAAO8E,OACrGpP,EAAQ5I,KACT,CAACkT,EAAOkM,aAAclM,EAAOoM,cAAepM,EAAOqM,YAAarM,EAAO8E,QAO1E,SAASqI,EAAU32B,GACf,MAAM,GAAN,OAAUA,GAGd,OACI,yBAAKsO,MAAO,CAAEsoB,cAAe,SACzB,kBAACjkB,EAAA,EAAD,CAAMjD,WAAS,GACX,kBAACiD,EAAA,EAAD,CAAMC,MAAI,EAACG,GAAI,EAAGF,GAAI,IAClB,kBAAC,EAAD,CAAUb,KAAK,uBAAuBC,KAAM,CAAC,qBAAsB,iBACnE,yBAAK5C,UAAU,aACdnG,EACG,kBAAC,KAAD,CACIyH,MAAO,aACPzH,KAAMA,EACN8V,QAAS,CAAC,IAAK,IAAK,QACpBxW,QApBR,CACZ6W,WAAY,WACZC,WAAY,YAqBI,yBAAKhR,MAAO,CAAEmE,UAAW,WACrB,gDAKZ,kBAACE,EAAA,EAAD,CAAMC,MAAI,EAACG,GAAI,EAAGF,GAAI,IAClB,kBAAC,GAAD,MACA,kBAAC,GAAD,CAAa8E,KAAK,QAClB,yBAAKrJ,MAAO,CAAErB,OAAQ,SAClB,kBAAC0F,EAAA,EAAD,CAAMjD,WAAS,GACX,kBAACiD,EAAA,EAAD,CAAMC,MAAI,EAACC,GAAI,IACX,kBAACxE,EAAA,EAAD,CAAYuV,GAAG,kBAAkBrQ,cAAY,GAA7C,oBAEI,0BAAMjF,MAAO,CAAEG,MAAO,UAAWD,WAAY,MAAOD,SAAU,SACzDib,EAAOqM,aAHhB,YAOA,kBAACgB,GAAA,EAAD,CACIvoB,MAAO,CAAEG,MAAO,UAAW3N,MAAO,OAClCd,MAAOwpB,EAAOqM,YACdxf,kBAAgB,kBAChBygB,kBAAkB,OAClBC,KAAM,GACNC,OAAK,EACLjsB,IAAK,GACLpL,IAAK,IACLs3B,iBAAkBN,EAClBrT,SAAU,SAACC,EAAO2T,GACdpB,EAAU,gBACHtM,EADE,CAELqM,YAAaqB,SAK7B,kBAACvkB,EAAA,EAAD,CAAMC,MAAI,EAACC,GAAI,IACX,kBAACxE,EAAA,EAAD,CAAYuV,GAAG,oBAAoBrQ,cAAY,GAA/C,gCAEI,0BAAMjF,MAAO,CAAEG,MAAO,MAAOD,WAAY,MAAOD,SAAU,SACrDib,EAAOnoB,IAGhB,kBAACw1B,GAAA,EAAD,CACIvoB,MAAO,CAAEG,MAAO,MAAO3N,MAAO,OAC9Bd,MAAOwpB,EAAOnoB,EACdgV,kBAAgB,oBAChBygB,kBAAkB,OAClBC,KAAM,GACNC,OAAK,EACLjsB,IAAK,GACLpL,IAAK6pB,EAAOqM,YACZoB,iBAAkBN,EAClBrT,SAAU,SAACC,EAAO2T,GACdpB,EAAU,gBACHtM,EADE,CAELnoB,EAAG61B,WAO3B,yBAAK5oB,MAAO,CAAEmE,UAAW,WACrB,yBAAKmR,GAAG,MAAM/L,IAAKgc,SCjMnCsD,GAAQ9jB,EAAQ,KAAhB8jB,IAEFvqB,GAAYC,aAAW,SAACC,GAAD,MAAY,CACrC3G,KAAM,CACF,QAAS,CACL8G,OAAQH,EAAMI,QAAQ,GACtBpM,MAAO,SAGfkM,OAAQ,CACJC,OAAQH,EAAMI,QAAQ,GACtBpM,MAAO,QAEXwmB,QAAS,CACL7V,UAAW,OACXI,WAAY,UACZ/Q,MAAO,OACPgR,QAAS,OACTvD,SAAU,YA6IH6oB,GAzII,WACf,IAAMrpB,EAAUnB,KACRF,EAAQwJ,qBAAW1J,GAAnBE,IAFa,EAGSmE,mBAAS,IAHlB,mBAGdmO,EAHc,KAGLC,EAHK,OAIapO,mBAAS,IAJtB,mBAIdwmB,EAJc,KAIHC,EAJG,OAKezmB,mBAAS,IALxB,mBAKd0mB,EALc,KAKFC,EALE,OAMK3mB,mBAAS,IANd,mBAMdsQ,EANc,KAMPC,EANO,KAQrBnK,qBAAU,WACN,GAAIvK,EAAK,8CACL,4BAAAtC,EAAA,sEACqBsC,EAAIyS,cADzB,OACQhd,EADR,OAEI8c,EAAW9c,GACXq1B,EAAc,IAHlB,4CADK,uBAAC,WAAD,wBAMLpY,MAEL,CAAC1S,IAEJ,IAAM+qB,EAAe,SAAClU,GAClB,GAAIA,EAAMC,OAAOH,QAAS,CACtB,IAAI9J,EAAQ,CAACgK,EAAMC,OAAOxR,MAC1BwlB,EAAc,GAAD,mBAAKD,GAAehe,QAC9B,CACH,IAAIkK,EAAW8T,EAAWrjB,QAAO,SAACwP,GAAD,OAASA,IAAQH,EAAMC,OAAOxR,QAC/DwlB,EAAc,YAAI/T,MAQ1B,IAAMiU,EAAQ,wCAAG,gCAAAttB,EAAA,2DACTmtB,GAAcA,EAAWr4B,OAAS,GADzB,0CAKcyb,GAAwBjO,EAAK6qB,GAL3C,cAKCruB,EALD,OAOCyuB,EAAM,IAAIR,GAAIjuB,GACd0uB,EAAOD,EAAIE,uBAEjBtjB,KACAnI,QAAQC,IAAIurB,GAXP,UAYCriB,GAAa,MAAO,MAAOqiB,GAZ5B,QAaLxrB,QAAQC,IAAI,yBAA2BurB,GAblC,kDAeLxrB,QAAQC,IAAR,MACA+U,EAAS,2CAhBJ,gCAmBTA,EAAS,oCAnBA,0DAAH,qDAuBd,OACI,6BACI,kBAACzO,EAAA,EAAD,CAAMjD,WAAS,GACX,kBAACiD,EAAA,EAAD,CAAMC,MAAI,EAACG,GAAI,EAAGF,GAAI,IAClB,kBAAC,EAAD,CAAUb,KAAK,+BAA+BC,KAAM,CAAC,iBAAkB,WAAY,cACnF,kBAAC,GAAD,MACA,kBAAC,GAAD,OAEJ,kBAACU,EAAA,EAAD,CAAMC,MAAI,EAACG,GAAI,EAAGF,GAAI,IAClB,yBAAKvE,MAAO,CAAEwD,QAAS,SACnB,kBAAC,GAAD,MACA,kBAAC,GAAD,CAAa6F,KAAK,QACjBwJ,GACG,kBAACW,GAAA,EAAD,CAAOxT,MAAO,CAAErB,OAAQ,QAAU+C,QAAS,kBAAMoR,EAAS,KAAKW,SAAS,SACnEZ,GAGRzU,EACG,kBAACiG,EAAA,EAAD,CAAMjD,WAAS,GACX,kBAACiD,EAAA,EAAD,CAAMC,MAAI,EAACC,GAAI,IACX,kBAACiP,GAAA,EAAD,CAAOxT,MAAO,CAAEG,MAAO,qBAAsBoD,WAAY,kBAAoBkQ,SAAS,WAAtF,4CAGA,kBAACnQ,EAAA,EAAD,CAAOvC,UAAWtB,EAAQuZ,SAA1B,uCAIJ,kBAAC3U,EAAA,EAAD,CAAMC,MAAI,EAACC,GAAI,IACVmM,EAAQ9M,KAAI,SAAC+Q,EAAQ9hB,GAAT,OACT,kBAAC+hB,GAAA,EAAD,CACI9Q,IAAKjR,EACLgiB,QAAS,kBAACC,GAAA,EAAD,CACLC,QAASkU,EAAWnjB,SAAS6O,GAC7BxU,MAAM,UACNuD,KAAMiR,EACNK,SAAUmU,IAEdh1B,MAAOwgB,QAInB,kBAACtQ,EAAA,EAAD,CAAMrE,MAAO,CAAEmE,UAAW,UAAYG,MAAI,EAACC,GAAI,IAC3C,kBAACjB,EAAA,EAAD,CAAOvC,UAAWtB,EAAQuZ,SAA1B,oBAGA,kBAACjZ,EAAA,EAAD,CAAYC,MAAO,CAAEmD,UAAW,OAASmS,GAAG,eAAerQ,cAAY,GACnE,0BAAMjF,MAAO,CAAEG,MAAO,UAAWD,WAAY,MAAOD,SAAU,SACzD8oB,IAGT,kBAACR,GAAA,EAAD,CACIvoB,MAAO,CAAEG,MAAO,UAAW3N,MAAO,OAClCd,MAAOq3B,EACPhhB,kBAAgB,eAChBygB,kBAAkB,OAClBE,OAAK,EACLjsB,IAAK,GACLpL,IAAK,EACLo3B,KAAM,IACNE,iBAtFpC,SAAmBj3B,GACf,MAAM,GAAN,OAAUA,IAsFsBsjB,SAAU,SAACC,EAAO2T,GACdI,EAAaJ,OAIzB,kBAACvkB,EAAA,EAAD,CAAMrE,MAAO,CAAEmE,UAAW,UAAYG,MAAI,EAACC,GAAI,IAC3C,kBAACY,EAAA,EAAD,CAAQ9D,QAAQ,YAAYlB,MAAM,UAAUH,MAAO,CAAExN,MAAO,OAAS8N,QAAS8oB,GAA9E,WAIJ,yBAAKppB,MAAO,CAAEZ,WAAY,OAAQ+E,UAAW,WAA7C,gC,UC7I1B7F,GAAYC,aAAW,SAAAC,GAAK,MAAK,CACnCmD,MAAO,CACHhD,OAAQH,EAAMI,QAAQ,EAAG,GACzBH,QAAS,OACTwS,cAAe,SACfC,WAAY,UAEhBC,YAAa,CACTxS,OAAQH,EAAMI,QAAQ,GACtBpM,MAAO,OAEX4e,YAAa,CACTjO,UAAW3E,EAAMI,QAAQ,IAE7ByS,KAAM,CACF7e,MAAO,MACP2Q,UAAW3E,EAAMI,QAAQ,GACzB0S,WAAY,QAEhBC,OAAQ,CACJ/e,MAAO,a,SAIAg3B,G,8FAAf,WAA8BprB,EAAKrL,EAAGoG,EAASC,EAAW/B,EAAQ0P,EAAMC,GAAxE,uBAAAlL,EAAA,sEACuBuQ,GAAwBjO,EAAK/G,GADpD,cACUuD,EADV,OAEUumB,EAAMjoB,mBAAQnG,EAAG6H,EAAMzB,EAASC,GAF1C,SAGmCwR,GAAWuW,EAAI3nB,iBAAiBzF,KAHnE,cAGU01B,EAHV,OAIUxxB,EAAWoT,GAA0Boe,EAAkB12B,EAAG6H,GAChEqL,KACMW,EAAQE,GAAwBqa,EAAIzoB,UAAWT,EAAU8O,EAAMC,GANzE,UAOUK,GAAgBT,GAP1B,6C,sBASe,SAAS8iB,KACpB,IAAMjqB,EAAUnB,KADc,EAEJiE,mBAAS,IAFL,mBAEvBsQ,EAFuB,KAEhBC,EAFgB,KAGtB1U,EAAQwJ,qBAAW1J,GAAnBE,IAHsB,EAIQmE,mBAAS,IAJjB,mBAIvBsO,EAJuB,KAIVkC,EAJU,OAKJxQ,qBALI,mBAKvBpO,EALuB,KAKhB4mB,EALgB,KAkB9B,SAASsN,EAAU32B,GACf,MAAM,GAAN,OAAUA,GAGd,OAfAiX,qBAAU,WAAM,6CAGZ,4BAAA7M,EAAA,sEAC0BsC,EAAIyS,cAD9B,OACUH,EADV,OAEIqC,EAAerC,GACfqK,EAASrK,EAAQ,IAHrB,4CAHY,sBACD,MAAPtS,GADQ,mCAQZmV,KACD,CAACnV,EAAK2U,IAOL,6BACI,kBAAC1O,EAAA,EAAD,CAAMjD,WAAS,GACX,kBAACiD,EAAA,EAAD,CAAMC,MAAI,EAACG,GAAI,EAAGF,GAAI,IAClB,kBAAC,EAAD,CAAUb,KAAK,gBAAgBC,KAAM,CAAC,aAAc,UAAW,YAC/D,kBAAC,GAAD,MACA,kBAAC,GAAD,OAEJ,kBAACU,EAAA,EAAD,CAAMC,MAAI,EAACG,GAAI,EAAGF,GAAI,IAClB,kBAAC,GAAD,MACA,kBAAC,GAAD,CAAa8E,KAAK,YACjBjL,GAAOyS,GAAe1c,EACnB,yBAAK6L,MAAO,CAAEwD,QAAS,SAClBqP,GACG,kBAACW,GAAA,EAAD,CAAO9R,QAAS,kBAAMoR,EAAS,KAAKW,SAAS,SACxCZ,GAGT,kBAAC,KAAD,CACIa,oBAAkB,EAClBC,cAAe,CACX3gB,QAAS6d,EACT9d,EAAG,EACHoG,QAAS,GACTC,UAAW,GAEf0a,SAAU,SAAAjN,GACN,IAAMkN,EAAS,GAUf,OATKlN,EAAO1N,UACR4a,EAAO5a,QAAU,YAEhB0N,EAAOzN,YACR2a,EAAO3a,UAAY,YAEnByN,EAAO9T,EAAI,GAAK8T,EAAO9T,EAAI,IAC3BghB,EAAOhhB,EAAI,8BAERghB,GAEXC,SAAQ,wCAAE,WAAOnN,GAAP,eAAA/K,EAAA,6DACNgC,QAAQC,IAAI8I,GACZiM,EAAS,IAFH,SAIIzb,EAJJ,YAIkB,IAAI8c,IAAJ,YAAYtN,EAAO7T,WAC1B,EACA,EANX,SAOIw2B,GAAeprB,EAAKyI,EAAO9T,EAAG8T,EAAO1N,QAAS0N,EAAOzN,UAAW/B,EAFzD,EACA,GANX,yDASFyG,QAAQ+U,MAAR,MACAC,EAAS,2CAVP,0DAAF,wDAaV,gBACEjM,EADF,EACEA,OACAkN,EAFF,EAEEA,OACAM,EAHF,EAGEA,QAGAG,GANF,EAIEF,aAJF,EAKEC,WALF,EAMEC,cAEAE,GARF,EAOED,aAPF,EAQEC,eARF,OAUM,0BAAM3T,UAAWtB,EAAQ4R,KAAM2C,SAAUQ,GACrC,kBAACnQ,EAAA,EAAD,CAAMjD,WAAS,EAACxC,QAAS,GACrB,kBAACyF,EAAA,EAAD,CAAMC,MAAI,EAACC,GAAI,IACX,kBAACjB,EAAA,EAAD,CAAOtD,MAAO,CAAEyH,gBAAiB,QAASjE,QAAS,SAAnD,mCAGCqN,EAAYjN,KAAI,SAAC+Q,EAAQ9hB,GAAT,OACb,kBAAC+hB,GAAA,EAAD,CACI9Q,IAAKjR,EACLgiB,QAAS,kBAACC,GAAA,EAAD,CACLC,QAASlO,EAAO7T,QAAQ8S,SAAS6O,GACjCxU,MAAM,UACNuD,KAAMiR,EACNK,SAAU,SAACC,GACP,IAAIhK,EAAQpE,EAAO7T,QACnB,GAAIiY,EAAMnF,SAASmP,EAAMC,OAAOxR,MAAO,CACnC,IAAMyR,EAAWlK,EAAMrF,QAAO,SAACwP,GAAD,OAASA,IAAQH,EAAMC,OAAOxR,QAC5DgR,EAAc,UAAWS,GAAU,QAEnClK,EAAM5U,KAAK4e,EAAMC,OAAOxR,MACxBgR,EAAc,UAAWzJ,GAAO,MAI5C9W,MAAOwgB,QAInB,kBAACtQ,EAAA,EAAD,CAAMrE,MAAO,CAAEmD,UAAW,QAAUmB,MAAI,EAACC,GAAI,IACzC,kBAAC8Q,GAAA,EAAD,CAAWC,GAAG,SACVtV,MAAO,CAAExN,MAAO,OAChB2B,MAAM,qBAAqBjB,QAAM,EACjCqiB,WAAS,EACT7jB,MAAOmV,EAAO9T,EACd2Q,KAAK,IACLsR,SAAU,SAACC,GACPP,EAAc,IAAK8G,SAASvG,EAAMC,OAAOxjB,QAAQ,IAErD2P,QAAQ,UAER,kBAACmU,GAAA,EAAD,CAAU9jB,MAAO,GAAjB,KACA,kBAAC8jB,GAAA,EAAD,CAAU9jB,MAAO,GAAjB,KACA,kBAAC8jB,GAAA,EAAD,CAAU9jB,MAAO,GAAjB,KACA,kBAAC8jB,GAAA,EAAD,CAAU9jB,MAAO,GAAjB,KACA,kBAAC8jB,GAAA,EAAD,CAAU9jB,MAAO,GAAjB,KACA,kBAAC8jB,GAAA,EAAD,CAAU9jB,MAAO,GAAjB,KACA,kBAAC8jB,GAAA,EAAD,CAAU9jB,MAAO,GAAjB,KACA,kBAAC8jB,GAAA,EAAD,CAAU9jB,MAAO,GAAjB,MAEJ,kBAAC+jB,GAAA,EAAD,6CACA,yBAAKzV,MAAO,CAAErB,OAAQ,OAAQwB,MAAO,QAChC4T,EAAOhhB,GAAKshB,EAAQthB,GAAKghB,EAAOhhB,IAGzC,kBAACsR,EAAA,EAAD,CAAMC,MAAI,EAACC,GAAI,IACX,kBAACxE,EAAA,EAAD,CAAYC,MAAO,CAAEmD,UAAW,OAASmS,GAAG,iBAAiBrQ,cAAY,GAAzE,UAEI,0BAAMjF,MAAO,CAAEG,MAAO,UAAWmR,WAAY,OAAQpR,WAAY,MAAOD,SAAU,SAC7E4G,EAAO1N,UAGhB,kBAACovB,GAAA,EAAD,CACIvoB,MAAO,CAAEG,MAAO,UAAW3N,MAAO,OAClCd,MAAOmV,EAAO1N,QACd4O,kBAAgB,iBAChBygB,kBAAkB,OAClBE,OAAK,EACLjsB,IAAK,GACLpL,IAAK,GACLo3B,KAAM,GACNE,iBAAkBN,EAClBrT,SAAU,SAACC,EAAO2T,GACdlU,EAAc,UAAWiV,WAAWf,IAAW,MAGvD,yBAAK5oB,MAAO,CAAErB,OAAQ,OAAQwB,MAAO,QAChC4T,EAAO5a,SAAWkb,EAAQlb,SAAW4a,EAAO5a,UAGrD,kBAACkL,EAAA,EAAD,CAAMC,MAAI,EAACC,GAAI,IACX,kBAACxE,EAAA,EAAD,CAAYC,MAAO,CAAEmD,UAAW,OAASmS,GAAG,mBAAmBrQ,cAAY,GAA3E,YAEI,0BAAMjF,MAAO,CAAEG,MAAO,MAAOmR,WAAY,OAAQpR,WAAY,MAAOD,SAAU,SACzE4G,EAAOzN,YAGhB,kBAACmvB,GAAA,EAAD,CACIvoB,MAAO,CAAEG,MAAO,MAAO3N,MAAO,OAC9Bd,MAAOmV,EAAOzN,UACd2O,kBAAgB,mBAChBygB,kBAAkB,OAClBE,OAAK,EACLjsB,IAAK,EACLpL,IAAK,IACLo3B,KAAM,EACNE,iBAAkBN,EAClBrT,SAAU,SAACC,EAAO2T,GACdlU,EAAc,YAAa8G,SAASoN,IAAW,MAGvD,yBAAK5oB,MAAO,CAAErB,OAAQ,OAAQwB,MAAO,QAChC4T,EAAO3a,WAAaib,EAAQjb,WAAa2a,EAAO3a,aAI7D,yBAAK4G,MAAO,CAAErB,OAAQ,OAAQwF,UAAW,WACrC,kBAACgB,EAAA,EAAD,CACInF,MAAO,CAAExN,MAAO,QAChBkjB,KAAK,SACLH,WAAS,EACTlU,QAAQ,YACRlB,MAAM,UACNY,UAAWtB,EAAQ8R,QANvB,sBAiBhB,yBAAKvR,MAAO,CAAEZ,WAAY,OAAQ+E,UAAW,WAA7C,8B,sNCpObylB,I,OA/BK,SAAAtqB,GAChB,IAAIC,EAAUC,cADW,EAEK+C,mBAAS,WAFd,mBAElBsnB,EAFkB,KAETC,EAFS,OAGDvnB,oBAAS,GAHR,mBAGlBwnB,EAHkB,KAGZC,EAHY,KAezB,OACI,kBAAC3lB,EAAA,EAAD,CAAMC,MAAI,EAACI,GAAI,EAAGD,GAAI,EAAGD,GAAI,EAAGD,GAAI,GAChCvE,MAAO,CAAEyH,gBAAgB,GAAD,OAAKoiB,IAC7BI,aAdW,WACfH,EAAW,WACXE,GAAQ,IAaJE,aAVW,WACfJ,EAAW,WACXE,GAAQ,KAUJ,yBAAKjpB,UAAU,aACX,yBAAKvO,MAAM,MAAMyQ,OAAO,MAAMF,IAAKzD,EAAMwF,MAAO5B,IAAI,sBACpD,yBAAKnC,UAAU,aACVgpB,GAAQ,4BAAQzpB,QAAS,WAAOf,EAAQlJ,KAAKiJ,EAAMgG,MAAOvE,UAAU,OAAOzB,EAAMoE,WCXhGpF,GAAYC,aAAW,SAACC,GAAD,MAAY,CACvC3G,KAAM,CACFsI,MAAO,UACPf,WAAY,OACd,YAAa,CACXkS,WAAY9S,EAAMI,QAAQ,SAkDjBurB,GA7CC,WACZ,IAAM1qB,EAAUnB,KACZiB,EAAUC,cAEd,OACI,yBACIQ,MAAO,CACHwD,QAAS,OACT4mB,UAAW,QACX3iB,gBAAiB,QACjBtH,MAAO,UAEX,kBAACkE,EAAA,EAAD,CAAMjD,WAAS,GACX,kBAACiD,EAAA,EAAD,CAAMC,MAAI,EAACI,GAAI,EAAGD,GAAI,EAAGD,GAAI,EAAGD,GAAI,IAChC,yBAAKjE,QAAS,WAAOf,EAAQlJ,KAAK,eAAgB2J,MAAO,CAAEZ,WAAY,OAAQ+E,UAAW,WACtF,yBAAK3R,MAAM,KAAKyQ,OAAO,KAAKF,IAAKC,IAAME,IAAI,SAC3C,kBAACnD,EAAA,EAAD,CAAYC,MAAO,CAAEZ,WAAY,QAAUiC,QAAQ,MAAnD,oBAKR,kBAAC,GAAD,CAAayD,MAAOulB,KAAI/kB,IAAI,aAAa5B,KAAK,cAC9C,kBAAC,GAAD,CAAaoB,MAAOwlB,KAAIhlB,IAAI,UAAU5B,KAAK,sBAC3C,kBAAC,GAAD,CAAaoB,MAAO8Y,KAAKtY,IAAI,OAAO5B,KAAK,2BACzC,kBAAC,GAAD,CAAaoB,MAAOukB,KAAK/jB,IAAI,OAAO5B,KAAK,iCACzC,kBAAC,GAAD,CAAaoB,MAAOiR,KAAIzQ,IAAI,iBAAiB5B,KAAK,kBAClD,kBAAC,GAAD,CAAaoB,MAAOygB,KAAKjgB,IAAI,OAAO5B,KAAK,yBACzC,kBAAC,GAAD,CAAaoB,MAAOylB,KAAIjlB,IAAI,YAAY5B,KAAK,4BAC7C,kBAAC,GAAD,CAAaoB,MAAOzM,KAAQiN,IAAI,UAAU5B,KAAK,sBAC/C,kBAAC,GAAD,CAAaoB,MAAO0lB,KAAQllB,IAAI,WAAW5B,KAAK,4BAChD,kBAACW,EAAA,EAAD,CAAMC,MAAI,EAACI,GAAI,EAAGD,GAAI,EAAGD,GAAI,EAAGD,GAAI,IAChC,yBAAKvE,MAAO,CAAEZ,WAAY,OAAQ+E,UAAW,WACzC,yBAAKpB,IAAK0nB,KAAQj4B,MAAM,KAAKyQ,OAAO,KAAKC,IAAI,WAC7C,kBAACnD,EAAA,EAAD,CAAYgB,UAAWtB,EAAQ5H,MAC3B,kBAACuN,EAAA,EAAD,CAAMjF,MAAM,UAAUU,KAAK,8CAA3B,gBCvCtBrC,GAAQksB,YAAeC,GA+EdC,GA7EH,WAAO,IAAD,EACMroB,qBADN,mBACTnE,EADS,KACJysB,EADI,KAGVxsB,EAAWysB,uBAAY,SAAC1sB,GAC5BysB,EAAOzsB,KACN,IAEC2sB,EACA,kBAAC,IAAD,KACI,kBAAC,IAAD,CAAOC,KAAK,IAAIC,OAAK,GACnB,kBAAC,GAAD,OAEF,kBAAC,IAAD,CAAOD,KAAK,aAAaC,OAAK,GAC5B,kBAAC,EAAD,KACE,kBAAC,EAAD,QAGJ,kBAAC,IAAD,CAAOD,KAAK,UAAUC,OAAK,GACzB,kBAAC,EAAD,KACE,kBAACrY,GAAD,QAGJ,kBAAC,IAAD,CAAOoY,KAAK,iBAAiBC,OAAK,GAChC,kBAAC,EAAD,KACE,kBAAC,GAAD,QAGJ,kBAAC,IAAD,CAAOD,KAAK,YAAYC,OAAK,GAC3B,kBAAC,EAAD,KACE,kBAAC,GAAD,QAGJ,kBAAC,IAAD,CAAOD,KAAK,UAAUC,OAAK,GACzB,kBAAC,EAAD,KACE,kBAAC/O,GAAD,QAGJ,kBAAC,IAAD,CAAO8O,KAAK,WAAWC,OAAK,GAC1B,kBAAC,EAAD,KACE,kBAACvB,GAAD,QAGJ,kBAAC,IAAD,CAAOsB,KAAK,OAAOC,OAAK,GACtB,kBAAC,EAAD,KACE,kBAACC,GAAD,QAGJ,kBAAC,IAAD,CAAOF,KAAK,OAAOC,OAAK,GACtB,kBAAC,EAAD,KACE,kBAAC,GAAD,QAGJ,kBAAC,IAAD,CAAOD,KAAK,OAAOC,OAAK,GACtB,kBAAC,EAAD,KACE,kBAAC,GAAD,QAGJ,kBAAC,IAAD,CAAUE,GAAG,OAIrB,OACI,kBAACC,EAAA,EAAD,CAAe5sB,MAAOA,IACpB,kBAACN,EAAWmtB,SAAZ,CACE35B,MAAO,CACL0M,IAAKA,EACLC,SAAUA,IAGZ,kBAAC,IAAD,KACK0sB,MCpFTO,GAAcC,QACW,cAA7B5qB,OAAOC,SAAS4qB,UAEe,UAA7B7qB,OAAOC,SAAS4qB,UAEhB7qB,OAAOC,SAAS4qB,SAAShU,MACvB,2DAsCN,SAASiU,GAAgBC,EAAOrS,GAC9BsS,UAAUC,cACPC,SAASH,GACTI,MAAK,SAAAC,GACJA,EAAaC,cAAgB,WAC3B,IAAMC,EAAmBF,EAAaG,WACd,MAApBD,IAGJA,EAAiBE,cAAgB,WACA,cAA3BF,EAAiBG,QACfT,UAAUC,cAAcS,YAI1BvuB,QAAQC,IACN,iHAKEsb,GAAUA,EAAOiT,UACnBjT,EAAOiT,SAASP,KAMlBjuB,QAAQC,IAAI,sCAGRsb,GAAUA,EAAOkT,WACnBlT,EAAOkT,UAAUR,WAO5BS,OAAM,SAAA3Z,GACL/U,QAAQ+U,MAAM,4CAA6CA,MC1FjE4Z,IAASC,OAAO,kBAAC,GAAD,MAAStmB,SAASC,eAAe,SDgB1C,SAAkBgT,GACvB,GAA6C,kBAAmBsS,UAAW,CAGzE,GADkB,IAAIgB,IAAIrkB,kBAAwB3H,OAAOC,SAASC,MACpD+rB,SAAWjsB,OAAOC,SAASgsB,OAIvC,OAGFjsB,OAAOuhB,iBAAiB,QAAQ,WAC9B,IAAMwJ,EAAK,UAAMpjB,kBAAN,sBAEPgjB,KAgEV,SAAiCI,EAAOrS,GAEtCzQ,MAAM8iB,EAAO,CACXmB,QAAS,CAAE,iBAAkB,YAE5Bf,MAAK,SAAAjjB,GAEJ,IAAMikB,EAAcjkB,EAASgkB,QAAQE,IAAI,gBAEnB,MAApBlkB,EAASmkB,QACO,MAAfF,IAA8D,IAAvCA,EAAYn2B,QAAQ,cAG5Cg1B,UAAUC,cAAcqB,MAAMnB,MAAK,SAAAC,GACjCA,EAAamB,aAAapB,MAAK,WAC7BnrB,OAAOC,SAASusB,eAKpB1B,GAAgBC,EAAOrS,MAG1BmT,OAAM,WACL1uB,QAAQC,IACN,oEAvFAqvB,CAAwB1B,EAAOrS,GAI/BsS,UAAUC,cAAcqB,MAAMnB,MAAK,WACjChuB,QAAQC,IACN,iHAMJ0tB,GAAgBC,EAAOrS,OC1C/BuS,K","file":"static/js/main.0746228a.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.69938821.png\";","let figue = function () {\r\n\r\n\r\n\tfunction euclidianDistance (vec1 , vec2) {\r\n\t\tlet N = vec1.length ;\r\n\t\tlet d = 0 ;\r\n\t\tfor (let i = 0 ; i < N ; i++)\r\n\t\t\td += Math.pow (vec1[i] - vec2[i], 2)\r\n\t\td = Math.sqrt (d) ;\r\n\t\treturn d ;\r\n\t}\r\n\r\n\tfunction manhattanDistance (vec1 , vec2) {\r\n\t\tlet N = vec1.length ;\r\n\t\tlet d = 0 ;\r\n\t\tfor (let i = 0 ; i < N ; i++)\r\n\t\t\td += Math.abs (vec1[i] - vec2[i])\r\n\t\treturn d ;\r\n\t}\r\n\r\n\tfunction maxDistance (vec1 , vec2) {\r\n\t\tlet N = vec1.length ;\r\n\t\tlet d = 0 ;\r\n\t\tfor (let i = 0 ; i < N ; i++)\r\n\t\t\td = Math.max (d , Math.abs (vec1[i] - vec2[i])) ;\r\n\t\treturn d ;\r\n\t}\r\n\r\n\tfunction addVectors (vec1 , vec2) {\r\n\t\tlet N = vec1.length ;\r\n\t\tlet vec = new Array(N) ;\r\n\t\tfor (let i = 0 ; i < N ; i++)\r\n\t\t\tvec[i] = vec1[i] + vec2[i] ;\r\n\t\treturn vec ;\r\n\t}\t\r\n\r\n\tfunction multiplyVectorByValue (value , vec) {\r\n\t\tlet N = vec.length ;\r\n\t\tlet v = new Array(N) ;\r\n\t\tfor (let i = 0 ; i < N ; i++)\r\n\t\t\tv[i] = value * vec[i] ;\r\n\t\treturn v ;\r\n\t}\t\r\n\t\r\n\t// function vectorDotProduct (vec1, vec2) {\r\n\t// \tlet N = vec1.length ;\r\n\t// \tlet s = 0 ;\r\n\t// \tfor (let i = 0 ; i < N ; i++)\r\n\t// \t\ts += vec1[i] * vec2[i] ;\r\n\t// \treturn s ;\r\n\t// }\r\n\t\r\n\r\n\tfunction repeatChar(c, n) {\r\n\t\tlet str = \"\";\r\n\t\tfor (let i = 0 ; i < n ; i++)\r\n\t\t\tstr += c ;\r\n\t\treturn str ;\r\n\t}\r\n\t\r\n\tfunction calculateCentroid (c1Size , c1Centroid , c2Size , c2Centroid) {\r\n\t\tlet newCentroid = new Array(c1Centroid.length) ;\r\n\t\tlet newSize = c1Size + c2Size ;\r\n\t\tfor (let i = 0 ; i < c1Centroid.length ; i++) \r\n\t\t\tnewCentroid[i] = (c1Size * c1Centroid[i] + c2Size * c2Centroid[i]) / newSize ;\r\n\t\treturn newCentroid ;\t\r\n\t}\r\n\r\n\r\n\tfunction centerString(str, width) {\r\n\t\tlet diff = width - str.length ;\r\n\t\tif (diff < 0)\r\n\t\t\treturn ;\r\n\r\n\t\tlet halfdiff = Math.floor(diff / 2) ;\r\n\t\treturn repeatChar (\" \" , halfdiff) + str + repeatChar (\" \" , diff - halfdiff)  ;\r\n\t}\r\n\r\n\tfunction putString(str, width, index) {\r\n\t\tlet diff = width - str.length ;\r\n\t\tif (diff < 0)\r\n\t\t\treturn ;\r\n\r\n\t\treturn repeatChar (\" \" , index) + str + repeatChar (\" \" , width - (str.length+index)) ;\r\n\t}\r\n\r\n\tfunction prettyVector(vector) {\r\n\t\tlet vals = new Array(vector.length) ;\r\n\t\tlet precision = Math.pow(10, figue.PRINT_VECTOR_VALUE_PRECISION) ; \r\n\t\tfor (let i = 0 ; i < vector.length ; i++)\r\n\t\t\tvals[i] = Math.round(vector[i]*precision)/precision ;\r\n\t\treturn vals.join(\",\")\r\n\t}\r\n\r\n\tfunction prettyValue(value) {\r\n\t\tlet precision = Math.pow(10, figue.PRINT_VECTOR_VALUE_PRECISION) ; \r\n\t\treturn String (Math.round(value*precision)/precision) ;\r\n\t}\r\n\r\n\tfunction generateDendogram(tree, sep, balanced, withLabel, withCentroid, withDistance) {\r\n\t\tlet lines = [];\r\n\t\tlet centroidstr = prettyVector(tree.centroid) ;\r\n\t\tif (tree.isLeaf()) {\r\n\t\t\tlet labelstr = String(tree.label) ;\r\n\t\t\tlet len = 1;\r\n\t\t\tif (withCentroid) \r\n\t\t\t\tlen = Math.max(centroidstr.length , len) ;\r\n\t\t\tif (withLabel)\r\n\t\t\t\tlen = Math.max(labelstr.length , len) ;\r\n\r\n\t\t\tlines.push (centerString (\"|\" , len)) ;\r\n\t\t\tif (withCentroid) \r\n\t\t\t\tlines.push (centerString (centroidstr , len)) ;\r\n\t\t\tif (withLabel) \r\n\t\t\t\tlines.push (centerString (labelstr , len)) ;\r\n\r\n\t\t} else {\r\n\t\t\tlet distancestr = prettyValue(tree.dist) ;\r\n\t\t\tlet left_dendo = generateDendogram(tree.left ,sep, balanced,withLabel,withCentroid, withDistance) ;\r\n\t\t\tlet right_dendo = generateDendogram(tree.right, sep, balanced,withLabel,withCentroid,withDistance) ;\r\n\t\t\tlet left_bar_ix = left_dendo[0].indexOf(\"|\") ;\r\n\t\t\tlet right_bar_ix = right_dendo[0].indexOf(\"|\") ;\r\n\t\r\n\t\t\t// calculate nb of chars of each line\r\n\t\t\tlet len = sep + right_dendo[0].length + left_dendo[0].length ;\r\n\t\t\tif (withCentroid) \r\n\t\t\t\tlen = Math.max(centroidstr.length , len) ;\r\n\t\t\tif (withDistance) \r\n\t\t\t\tlen = Math.max(distancestr.length , len) ;\r\n\r\n\r\n\t\t\t// calculate position of new vertical bar\r\n\t\t\tlet bar_ix =  left_bar_ix + Math.floor(( left_dendo[0].length - (left_bar_ix) + sep + (1+right_bar_ix)) / 2) ;\r\n\t\t\t\r\n\t\t\t// add line with the new vertical bar \r\n\t\t\tlines.push (putString (\"|\" , len , bar_ix)) ;\r\n\t\t\tif (withCentroid) {\r\n\t\t\t\tlines.push (putString (centroidstr , len , bar_ix - Math.floor (centroidstr.length / 2))) ; //centerString (centroidstr , len)) ;\r\n\t\t\t}\r\n\t\t\tif (withDistance) {\r\n\t\t\t\tlines.push (putString (distancestr , len , bar_ix - Math.floor (distancestr.length / 2))) ; //centerString (centroidstr , len)) ;\r\n\t\t\t}\r\n\t\t\t\t\r\n\t\t\t// add horizontal line to connect the vertical bars of the lower level\r\n\t\t\tlet hlineLen = sep + (left_dendo[0].length -left_bar_ix) + right_bar_ix+1 ;\r\n\t\t\tlet hline = repeatChar (\"_\" , hlineLen) ;\r\n\t\t\tlines.push (putString(hline, len, left_bar_ix)) ;\r\n\t\r\n\t\t\t// IF: the user want the tree to be balanced: all the leaves have to be at the same level\r\n\t\t\t// THEN: if the left and right subtrees have not the same depth, add extra vertical bars to the top of the smallest subtree\r\n\t\t\tif (balanced &&  (left_dendo.length !==right_dendo.length)) {\r\n\t\t\t\tlet shortest ;\r\n\t\t\t\tlet longest ;\r\n\t\t\t\tif (left_dendo.length > right_dendo.length) {\r\n\t\t\t\t\tlongest = left_dendo ;\r\n\t\t\t\t\tshortest = right_dendo ;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tlongest = right_dendo ;\r\n\t\t\t\t\tshortest = left_dendo ;\r\n\t\t\t\t}\r\n\t\t\t\t// repeat the first line containing the vertical bar\r\n\t\t\t\tlet header = shortest[0] ;\r\n\t\t\t\tlet toadd = longest.length - shortest.length ;\r\n\t\t\t\tfor (let i = 0 ; i < toadd ; i++) {\r\n\t\t\t\t\tshortest.splice (0,0,header) ;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\r\n\t\t\t// merge the left and right subtrees \r\n\t\t\tfor (let i = 0 ; i < Math.max (left_dendo.length , right_dendo.length) ; i++) {\r\n\t\t\t\tlet left = \"\" ;\r\n\t\t\t\tif (i < left_dendo.length)\r\n\t\t\t\t\tleft = left_dendo[i] ;\r\n\t\t\t\telse\r\n\t\t\t\t\tleft = repeatChar (\" \" , left_dendo[0].length) ;\r\n\t\r\n\t\t\t\tlet right = \"\" ;\r\n\t\t\t\tif (i < right_dendo.length)\r\n\t\t\t\t\tright = right_dendo[i] ;\r\n\t\t\t\telse\r\n\t\t\t\t\tright = repeatChar (\" \" , right_dendo[0].length) ;\r\n\t\t\t\tlines.push(left + repeatChar (\" \" , sep) + right) ;\r\n\t\t\t\t// eslint-disable-next-line\t\r\n\t\t\t\tlet l = left + repeatChar (\" \" , sep) + right ;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\treturn lines ;\r\n\t}\r\n\r\n\r\n\r\n\tfunction agglomerate (labels, vectors, distance, linkage) {\r\n\t\tlet N = vectors.length ;\r\n\t\tlet dMin = new Array(N) ;\r\n\t\tlet cSize = new Array(N) ;\r\n\t\tlet matrixObj = new figue.Matrix(N,N);\r\n\t\tlet distMatrix = matrixObj.mtx ;\r\n\t\tlet clusters = new Array(N) ;\r\n\r\n\t\tlet c1, c2, c1Cluster, c2Cluster, i, j, p, root , newCentroid ;\r\n\r\n\t\tif (distance === figue.EUCLIDIAN_DISTANCE)\r\n\t\t\tdistance = euclidianDistance ;\r\n\t\telse if (distance === figue.MANHATTAN_DISTANCE)\r\n\t\t\tdistance = manhattanDistance ;\r\n\t\telse if (distance === figue.MAX_DISTANCE)\r\n\t\t\tdistance = maxDistance ;\r\n\r\n\t\t// Initialize distance matrix and vector of closest clusters\r\n\t\tfor (i = 0 ; i < N ; i++) {\r\n\t\t\tdMin[i] = 0 ;\r\n\t\t\tfor (j = 0 ; j < N ; j++) {\r\n\t\t\t\tif (i === j)\r\n\t\t\t\t\tdistMatrix[i][j] = Infinity ;\r\n\t\t\t\telse\r\n\t\t\t\t\tdistMatrix[i][j] = distance(vectors[i] , vectors[j]) ;\r\n\t\r\n\t\t\t\tif (distMatrix[i][dMin[i]] > distMatrix[i][j] )\r\n\t\t\t\t\tdMin[i] = j ;\r\n\t\t\t}\r\n\t\t}\r\n\t\r\n\t\t// create leaves of the tree\r\n\t\tfor (i = 0 ; i < N ; i++) {\r\n\t\t\tclusters[i] = [] ;\r\n\t\t\tclusters[i][0] = new Node (labels[i], null, null, 0, vectors[i]) ;\r\n\t\t\tcSize[i] = 1 ;\r\n\t\t}\r\n\t\t\r\n\t\t// Main loop\r\n\t\tfor (p = 0 ; p < N-1 ; p++) {\r\n\t\t\t// find the closest pair of clusters\r\n\t\t\tc1 = 0 ;\r\n\t\t\tfor (i = 0 ; i < N ; i++) {\r\n\t\t\t\tif (distMatrix[i][dMin[i]] < distMatrix[c1][dMin[c1]])\r\n\t\t\t\t\tc1 = i ;\r\n\t\t\t}\r\n\t\t\tc2 = dMin[c1] ;\r\n\t\r\n\t\t\t// create node to store cluster info \r\n\t\t\tc1Cluster = clusters[c1][0] ;\r\n\t\t\tc2Cluster = clusters[c2][0] ;\r\n\r\n\t\t\tnewCentroid = calculateCentroid ( c1Cluster.size , c1Cluster.centroid , c2Cluster.size , c2Cluster.centroid ) ;\r\n\t\t\tlet newCluster = new Node (-1, c1Cluster, c2Cluster , distMatrix[c1][c2] , newCentroid) ;\r\n\t\t\tclusters[c1].splice(0,0, newCluster) ;\r\n\t\t\tcSize[c1] += cSize[c2] ;\r\n\t\t\r\n\t\t\t// overwrite row c1 with respect to the linkage type\r\n\t\t\tfor (j = 0 ; j < N ; j++) {\r\n\t\t\t\tif (linkage === figue.SINGLE_LINKAGE) {\r\n\t\t\t\t\tif (distMatrix[c1][j] > distMatrix[c2][j])\r\n\t\t\t\t\t\tdistMatrix[j][c1] = distMatrix[c1][j] = distMatrix[c2][j] ;\r\n\t\t\t\t} else if (linkage === figue.COMPLETE_LINKAGE) {\r\n\t\t\t\t\tif (distMatrix[c1][j] < distMatrix[c2][j])\r\n\t\t\t\t\t\tdistMatrix[j][c1] = distMatrix[c1][j] = distMatrix[c2][j] ;\r\n\t\t\t\t} else if (linkage === figue.AVERAGE_LINKAGE) {\r\n\t\t\t\t\tlet avg = ( cSize[c1] * distMatrix[c1][j] + cSize[c2] * distMatrix[c2][j])  / (cSize[c1] + cSize[j]) \r\n\t\t\t\t\tdistMatrix[j][c1] = distMatrix[c1][j] = avg ;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tdistMatrix[c1][c1] = Infinity ;\r\n\t\t\r\n\t\t\t// infinity out old row c2 and column c2\r\n\t\t\tfor (i = 0 ; i < N ; i++)\r\n\t\t\t\tdistMatrix[i][c2] = distMatrix[c2][i] = Infinity ;\r\n\t\r\n\t\t\t// update dmin and replace ones that previous pointed to c2 to point to c1\r\n\t\t\tfor (j = 0; j < N ; j++) {\r\n\t\t\t\tif (dMin[j] === c2)\r\n\t\t\t\t\tdMin[j] = c1;\r\n\t\t\t\tif (distMatrix[c1][j] < distMatrix[c1][dMin[c1]]) \r\n\t\t\t\t\tdMin[c1] = j;\r\n\t\t\t}\r\n\t\r\n\t\t\t// keep track of the last added cluster\r\n\t\t\troot = newCluster ;\r\n\t\t}\r\n\t\r\n\t\treturn root ;\r\n\t}\r\n\r\n\r\n\t\r\n\tfunction getRandomVectors(k, vectors) {\r\n\t\t/*  Returns a array of k distinct vectors randomly selected from a the input array of vectors\r\n\t\t\tReturns null if k > n or if there are less than k distinct objects in vectors */\r\n\t\t\r\n\t\tlet n = vectors.length ;\r\n\t\tif ( k > n ) \r\n\t\t\treturn null ;\r\n\t\t\r\n\t\tlet selected_vectors = new Array(k) ;\r\n\t\tlet selected_indices = new Array(k) ;\r\n\t\t\r\n\t\tlet tested_indices = {};\r\n\t\tlet tested = 0 ;\r\n\t\tlet selected = 0 ;\r\n\t\tlet i , vector, select ;\r\n\t\twhile (selected < k) {\r\n\t\t\tif (tested === n)\r\n\t\t\t\treturn null ;\r\n\t\t\t\r\n\t\t\tlet random_index = Math.floor(Math.random()*(n)) ;\r\n\t\t\tif (random_index in tested_indices)\r\n\t\t\t\tcontinue ;\r\n\t\t\t\r\n\t\t\ttested_indices[random_index] = 1;\r\n\t\t\ttested++ ;\r\n\t\t\tvector = vectors[random_index] ;\r\n\t\t\tselect = true ;\r\n\t\t\tfor (i = 0 ; i < selected ; i++) {\r\n\t\t\t\tif ( vector.compare (selected_vectors[i]) ) {\r\n\t\t\t\t\tselect = false ;\r\n\t\t\t\t\tbreak ;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (select) {\r\n\t\t\t\tselected_vectors[selected] = vector ;\r\n\t\t\t\tselected_indices[selected] = random_index ; \r\n\t\t\t\tselected++ ;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn {'vectors': selected_vectors, 'indices': selected_indices} ;\r\n\t}\r\n\t\r\n\tfunction kmeans (k, vectors) {\r\n\t\tlet n = vectors.length ;\r\n\t\tlet assignments = new Array(n) ;\r\n\t\tlet clusterSizes = new Array(k) ;\r\n\t\tlet repeat = true ;\r\n\t\tlet nb_iters = 0 ;\r\n\t\tlet centroids = null ;\r\n\t\t\r\n\t\tlet t = getRandomVectors(k, vectors) ;\r\n\t\tif (t === null)\r\n\t\t\treturn null ;\r\n\t\telse\r\n\t\t\tcentroids = t.vectors ;\r\n\t\t\t\r\n\t\twhile (repeat) {\r\n\r\n\t\t\t// assignment step\r\n\t\t\tfor (let j = 0 ; j < k ; j++)\r\n\t\t\t\tclusterSizes[j] = 0 ;\r\n\t\t\t\r\n\t\t\tfor (let i = 0 ; i < n ; i++) {\r\n\t\t\t\tlet vector = vectors[i] ;\r\n\t\t\t\tlet mindist = Number.MAX_VALUE ;\r\n\t\t\t\tlet best ;\r\n\t\t\t\tlet dist;\r\n\t\t\t\tfor (let j = 0 ; j < k ; j++) {\r\n\t\t\t\t\tdist = euclidianDistance (centroids[j], vector)\r\n\t\t\t\t\tif (dist < mindist) {\r\n\t\t\t\t\t\tmindist = dist ;\r\n\t\t\t\t\t\tbest = j ;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tclusterSizes[best]++ ;\r\n\t\t\t\tassignments[i] = best ;\r\n\t\t\t}\r\n\t\t\r\n\t\t\t// update centroids step\r\n\t\t\tlet newCentroids = new Array(k) ;\r\n\t\t\tfor (let j = 0 ; j < k ; j++)\r\n\t\t\t\tnewCentroids[j] = null ;\r\n\t\t\tlet cluster;\r\n\t\t\tfor (let i = 0 ; i < n ; i++) {\r\n\t\t\t\tcluster = assignments[i] ;\r\n\t\t\t\tif (newCentroids[cluster] === null)\r\n\t\t\t\t\tnewCentroids[cluster] = vectors[i] ;\r\n\t\t\t\telse\r\n\t\t\t\t\tnewCentroids[cluster] = addVectors (newCentroids[cluster] , vectors[i]) ;\t\r\n\t\t\t}\r\n\r\n\t\t\tfor (let j = 0 ; j < k ; j++) {\r\n\t\t\t\tnewCentroids[j] = multiplyVectorByValue (1/clusterSizes[j] , newCentroids[j]) ;\r\n\t\t\t}\t\r\n\t\t\t\r\n\t\t\t// check convergence\r\n\t\t\trepeat = false ;\r\n\t\t\tfor (let j = 0 ; j < k ; j++) {\r\n\t\t\t\tif (! newCentroids[j].compare (centroids[j])) {\r\n\t\t\t\t\trepeat = true ; \r\n\t\t\t\t\tbreak ; \r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tcentroids = newCentroids ;\r\n\t\t\tnb_iters++ ;\r\n\t\t\t\r\n\t\t\t// check nb of iters\r\n\t\t\tif (nb_iters > figue.KMEANS_MAX_ITERATIONS)\r\n\t\t\t\trepeat = false ;\r\n\t\t\t\r\n\t\t}\r\n\t\treturn { 'centroids': centroids , 'assignments': assignments} ;\r\n\r\n\t}\r\n\t\r\n\tfunction fcmeans (k, vectors, epsilon, fuzziness) {\r\n\t\tlet membershipMatrix = new Matrix (vectors.length, k) ;\r\n\t\tlet repeat = true ;\r\n\t\tlet nb_iters = 0 ;\r\n\t\t\r\n\t\tlet centroids = null ;\r\n\t\t\r\n\t\tlet i,j,l, tmp, norm, max, diff ;\r\n\t\twhile (repeat) {\r\n\t\t\t// initialize or update centroids\r\n\t\t\tif (centroids === null) {\r\n\t\t\t\t\r\n\t\t\t\ttmp = getRandomVectors(k, vectors) ;\r\n\t\t\t\tif (tmp === null)\r\n\t\t\t\t\treturn null ;\r\n\t\t\t\telse\r\n\t\t\t\t\tcentroids = tmp.vectors ;\r\n\t\t\t\t\r\n\t\t\t} else {\r\n\t\t\t\tfor (j = 0 ; j < k; j++) {\r\n\t\t\t\t\tcentroids[j] = [] ;\r\n\t\t\t\t\tnorm = 0 ;\r\n\t\t\t\t\tfor (i = 0 ; i < membershipMatrix.rows ; i++) {\r\n\t\t\t\t\t\tnorm += Math.pow(membershipMatrix.mtx[i][j], fuzziness) ;\r\n\t\t\t\t\t\ttmp = multiplyVectorByValue( Math.pow(membershipMatrix.mtx[i][j], fuzziness) , vectors[i]) ;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tif (i === 0)\r\n\t\t\t\t\t\t\tcentroids[j] = tmp ;\r\n\t\t\t\t\t\telse\r\n\t\t\t\t\t\t\tcentroids[j] = addVectors (centroids[j] , tmp) ;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (norm > 0)\r\n\t\t\t\t\t\tcentroids[j] = multiplyVectorByValue(1/norm, centroids[j]);\r\n\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t//alert(centroids);\r\n\t\t\t\r\n\t\t\t// update the degree of membership of each vector\r\n\t\t\tlet previousMembershipMatrix = membershipMatrix.copy() ;\r\n\t\t\tfor (i = 0 ; i < membershipMatrix.rows ; i++) {\r\n\t\t\t\tfor (j = 0 ; j < k ; j++) {\r\n\t\t\t\t\tmembershipMatrix.mtx[i][j] = 0;\r\n\t\t\t\t\tfor (l = 0 ; l < k ; l++) {\r\n\t\t\t\t\t\tif (euclidianDistance(vectors[i] , centroids[l]) === 0)\r\n\t\t\t\t\t\t\ttmp = 0 ;\r\n\t\t\t\t\t\telse\r\n\t\t\t\t\t\t\ttmp =  euclidianDistance(vectors[i] , centroids[j]) / euclidianDistance(vectors[i] , centroids[l]) ;\r\n\t\t\t\t\t\ttmp = Math.pow (tmp, 2/(fuzziness-1)) ;\r\n\t\t\t\t\t\tmembershipMatrix.mtx[i][j] += tmp ;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (membershipMatrix.mtx[i][j] > 0)\r\n\t\t\t\t\t\tmembershipMatrix.mtx[i][j] = 1 / membershipMatrix.mtx[i][j] ;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t//alert(membershipMatrix) ;\r\n\t\t\t\r\n\t\t\t// check convergence\r\n\t\t\tmax = -1 ;\r\n\t\t\tfor (i = 0 ; i < membershipMatrix.rows ; i++)\r\n\t\t\t\tfor (j = 0 ; j < membershipMatrix.cols ; j++) {\r\n\t\t\t\t\tdiff = Math.abs(membershipMatrix.mtx[i][j] - previousMembershipMatrix.mtx[i][j]) ;\r\n\t\t\t\t\tif (diff > max)\r\n\t\t\t\t\t\tmax = diff ;\r\n\t\t\t\t}\r\n\t\t\t\r\n\t\t\tif (max < epsilon)\r\n\t\t\t\trepeat = false ;\r\n\r\n\t\t\tnb_iters++ ;\r\n\r\n\t\t\t// check nb of iters\r\n\t\t\tif (nb_iters > figue.FCMEANS_MAX_ITERATIONS)\r\n\t\t\t\trepeat = false ;\r\n\t\t}\r\n\t\treturn { 'centroids': centroids , 'membershipMatrix': membershipMatrix} ;\r\n\t\r\n\t}\r\n\t\r\n\t\t\t\r\n\tfunction Matrix (rows,cols) \r\n\t{\r\n\t\tthis.rows = rows ;\r\n\t\tthis.cols = cols ;\r\n\t\tthis.mtx = new Array(rows) ; \r\n\r\n\t\tfor (let i = 0 ; i < rows ; i++)\r\n\t\t{\r\n\t\t\tlet row = new Array(cols) ;\r\n\t\t\tfor (let j = 0 ; j < cols ; j++)\r\n\t\t\t\trow[j] = 0;\r\n\t\t\tthis.mtx[i] = row ;\r\n\t\t}\r\n\t}\r\n\r\n\tfunction Node (label,left,right,dist, centroid) \r\n\t{\r\n\t\tthis.label = label ;\r\n\t\tthis.left = left ;\r\n\t\tthis.right = right ;\r\n\t\tthis.dist = dist ;\r\n\t\tthis.centroid = centroid ;\r\n\t\tif (left === null && right === null) {\r\n\t\t\tthis.size = 1 ;\r\n\t\t\tthis.depth = 0 ;\r\n\t\t} else {\r\n\t\t\tthis.size = left.size + right.size ;\r\n\t\t\tthis.depth = 1 + Math.max (left.depth , right.depth ) ;\r\n\t\t}\r\n\t}\r\n\r\n\r\n\r\n\treturn { \r\n\t\tSINGLE_LINKAGE: 0,\r\n\t\tCOMPLETE_LINKAGE: 1,\r\n\t\tAVERAGE_LINKAGE:2 ,\r\n\t\tEUCLIDIAN_DISTANCE: 0,\r\n\t\tMANHATTAN_DISTANCE: 1,\r\n\t\tMAX_DISTANCE: 2,\r\n\t\tPRINT_VECTOR_VALUE_PRECISION: 2,\r\n\t\tKMEANS_MAX_ITERATIONS: 10,\r\n\t\tFCMEANS_MAX_ITERATIONS: 3,\r\n\r\n\t\tMatrix: Matrix,\r\n\t\tNode: Node,\r\n\t\tgenerateDendogram: generateDendogram,\r\n\t\tagglomerate: agglomerate,\r\n\t\tkmeans: kmeans,\r\n\t\tfcmeans: fcmeans\r\n\t}\r\n}() ;\r\n\r\n\r\nfigue.Matrix.prototype.toString = function() \r\n{\r\n\tlet lines = [] ;\r\n\tfor (let i = 0 ; i < this.rows ; i++) \r\n\t\tlines.push (this.mtx[i].join(\"\\t\")) ;\r\n\treturn lines.join (\"\\n\") ;\r\n}\r\n\r\n\r\nfigue.Matrix.prototype.copy = function() \r\n{\r\n\tlet duplicate = new figue.Matrix(this.rows, this.cols) ;\r\n\tfor (let i = 0 ; i < this.rows ; i++)\r\n\t\tduplicate.mtx[i] = this.mtx[i].slice(0); \r\n\treturn duplicate ;\r\n}\r\n\r\nfigue.Node.prototype.isLeaf = function() \r\n{\r\n\tif ((this.left === null) && (this.right === null))\r\n\t\treturn true ;\r\n\telse\r\n\t\treturn false ;\r\n}\r\n\r\nfigue.Node.prototype.buildDendogram = function (sep, balanced,withLabel,withCentroid, withDistance)\r\n{\r\n\tlet lines;\r\n\tlines = figue.generateDendogram(this, sep, balanced,withLabel,withCentroid, withDistance) ;\r\n\treturn lines.join (\"\\n\") ;\t\r\n}\r\n\r\n// eslint-disable-next-line\r\nArray.prototype.compare = function(testArr) {\r\n    if (this.length !==testArr.length) return false;\r\n    for (let i = 0; i < testArr.length; i++) {\r\n        if (this[i].compare) { \r\n            if (!this[i].compare(testArr[i])) return false;\r\n        }\r\n        if (this[i] !== testArr[i]) return false;\r\n    }\r\n    return true;\r\n}\r\n\r\nmodule.exports = figue;","module.exports = __webpack_public_path__ + \"static/media/github.8cfee565.png\";","module.exports = __webpack_public_path__ + \"static/media/db.825785e5.svg\";","module.exports = __webpack_public_path__ + \"static/media/lr.db30b99d.png\";","module.exports = __webpack_public_path__ + \"static/media/fuzzyc.4abf0b90.png\";","module.exports = __webpack_public_path__ + \"static/media/svm.8c1b2bdd.png\";","module.exports = \"data:image/png;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/knn.581b755d.svg\";","module.exports = __webpack_public_path__ + \"static/media/pca.5a6d4d9a.svg\";","module.exports = __webpack_public_path__ + \"static/media/dt.cd31ead5.svg\";","module.exports = __webpack_public_path__ + \"static/media/kmeans.77fc9e1f.svg\";","module.exports = __webpack_public_path__ + \"static/media/tensorflow.f10ec045.png\";","module.exports = __webpack_public_path__ + \"static/media/react.0f3257bc.jpg\";","module.exports = __webpack_public_path__ + \"static/media/d3.dedb2e58.png\";","module.exports = __webpack_public_path__ + \"static/media/materialui.a019edaf.png\";","// eslint-disable-next-line\r\nlet svmjs = (function(exports){\r\n    let SVM = function(options) {\r\n\r\n    }\r\n  \r\n    SVM.prototype = {\r\n      \r\n      // data is NxD array of floats. labels are 1 or -1.\r\n      train: function(data, labels, options) {\r\n        \r\n        // we need these in helper functions\r\n        this.data = data;\r\n        this.labels = labels;\r\n  \r\n        // parameters\r\n        options = options || {};\r\n        let C = options.C || 1.0; // C value. Decrease for more regularization\r\n\r\n        let tol = options.tol || 1e-4; // numerical tolerance. Don't touch unless you're pro\r\n\r\n        let alphatol = options.alphatol || 1e-7; // non-support vectors for space and time efficiency are truncated. To guarantee correct result set this to 0 to do no truncating. If you want to increase efficiency, experiment with setting this little higher, up to maybe 1e-4 or so.\r\n\r\n        let maxiter = options.maxiter || 10000; // max number of iterations\r\n\r\n        let numpasses = options.numpasses || 10; // how many passes over data with no change before we halt? Increase for more precision.\r\n\r\n        \r\n        // instantiate kernel according to options. kernel can be given as string or as a custom function\r\n        let kernel = linearKernel;\r\n\r\n        this.kernelType = \"linear\";\r\n        if(\"kernel\" in options) {\r\n          if(typeof options.kernel === \"string\") {\r\n            // kernel was specified as a string. Handle these special cases appropriately\r\n            if(options.kernel === \"linear\") { \r\n              this.kernelType = \"linear\"; \r\n              kernel = linearKernel; \r\n            }\r\n            if(options.kernel === \"rbf\") { \r\n              let rbfSigma = options.rbfsigma || 0.5;\r\n\r\n              this.rbfSigma = rbfSigma; // back this up\r\n              this.kernelType = \"rbf\";\r\n              kernel = makeRbfKernel(rbfSigma);\r\n            }\r\n          } else {\r\n            // assume kernel was specified as a function. Let's just use it\r\n            this.kernelType = \"custom\";\r\n            kernel = options.kernel;\r\n          }\r\n        }\r\n  \r\n        // initializations\r\n        this.kernel = kernel;\r\n        this.N = data.length; let N = this.N;\r\n\r\n        this.D = data[0].length; \r\n        // let D = this.D;\r\n\r\n        this.alpha = zeros(N);\r\n        this.b = 0.0;\r\n        this.usew_ = false; // internal efficiency flag\r\n  \r\n        // Cache kernel computations to avoid expensive recomputation.\r\n        // This could use too much memory if N is large.\r\n        if (options.memoize) {\r\n          this.kernelResults = new Array(N);\r\n          for (let i=0;i<N;i++) {\r\n\r\n            this.kernelResults[i] = new Array(N);\r\n            for (let j=0;j<N;j++) {\r\n\r\n              this.kernelResults[i][j] = kernel(data[i],data[j]);\r\n            }\r\n          }\r\n        }\r\n  \r\n        // run SMO algorithm\r\n        let iter = 0;\r\n\r\n        let passes = 0;\r\n\r\n        while(passes < numpasses && iter < maxiter) {\r\n          \r\n          let alphaChanged = 0;\r\n\r\n          for(let i=0;i<N;i++) {\r\n\r\n          \r\n            let Ei= this.marginOne(data[i]) - labels[i];\r\n\r\n            if( (labels[i]*Ei < -tol && this.alpha[i] < C)\r\n             || (labels[i]*Ei > tol && this.alpha[i] > 0) ){\r\n              \r\n              // alpha_i needs updating! Pick a j to update it with\r\n              let j = i;\r\n\r\n              while(j === i) j= randi(0, this.N);\r\n              let Ej= this.marginOne(data[j]) - labels[j];\r\n              let ai;\r\n              let aj;\r\n              \r\n              // calculate L and H bounds for j to ensure we're in [0 C]x[0 C] box\r\n              ai= this.alpha[i];\r\n              aj= this.alpha[j];\r\n              let L = 0; let H = C;\r\n\r\n\r\n              if(labels[i] === labels[j]) {\r\n                L = Math.max(0, ai+aj-C);\r\n                H = Math.min(C, ai+aj);\r\n              } else {\r\n                L = Math.max(0, aj-ai);\r\n                H = Math.min(C, C+aj-ai);\r\n              }\r\n              \r\n              if(Math.abs(L - H) < 1e-4) continue;\r\n  \r\n              let eta = 2*this.kernelResult(i,j) - this.kernelResult(i,i) - this.kernelResult(j,j);\r\n\r\n              if(eta >= 0) continue;\r\n              \r\n              // compute new alpha_j and clip it inside [0 C]x[0 C] box\r\n              // then compute alpha_i based on it.\r\n              let newaj = aj - labels[j]*(Ei-Ej) / eta;\r\n\r\n              if(newaj>H) newaj = H;\r\n              if(newaj<L) newaj = L;\r\n              if(Math.abs(aj - newaj) < 1e-4) continue; \r\n              this.alpha[j] = newaj;\r\n              let newai = ai + labels[i]*labels[j]*(aj - newaj);\r\n\r\n              this.alpha[i] = newai;\r\n              \r\n              // update the bias term\r\n              let b1 = this.b - Ei - labels[i]*(newai-ai)*this.kernelResult(i,i)\r\n\r\n                       - labels[j]*(newaj-aj)*this.kernelResult(i,j);\r\n              let b2 = this.b - Ej - labels[i]*(newai-ai)*this.kernelResult(i,j)\r\n\r\n                       - labels[j]*(newaj-aj)*this.kernelResult(j,j);\r\n              this.b = 0.5*(b1+b2);\r\n              if(newai > 0 && newai < C) this.b= b1;\r\n              if(newaj > 0 && newaj < C) this.b= b2;\r\n              \r\n              alphaChanged++;\r\n              \r\n            } // end alpha_i needed updating\r\n          } // end for i=1..N\r\n          \r\n          iter++;\r\n          //console.log(\"iter number %d, alphaChanged = %d\", iter, alphaChanged);\r\n          if(alphaChanged === 0) passes++;\r\n          else passes= 0;\r\n          \r\n        } // end outer loop\r\n        \r\n        // if the user was using a linear kernel, lets also compute and store the\r\n        // weights. This will speed up evaluations during testing time\r\n        if(this.kernelType === \"linear\") {\r\n  \r\n          // compute weights and store them\r\n          this.w = new Array(this.D);\r\n          for(let j=0;j<this.D;j++) {\r\n\r\n            let s= 0.0;\r\n\r\n            for(let i=0;i<this.N;i++) {\r\n\r\n              s+= this.alpha[i] * labels[i] * data[i][j];\r\n            }\r\n            this.w[j] = s;\r\n            this.usew_ = true;\r\n          }\r\n        } else {\r\n  \r\n          // okay, we need to retain all the support vectors in the training data,\r\n          // we can't just get away with computing the weights and throwing it out\r\n  \r\n          // But! We only need to store the support vectors for evaluation of testing\r\n          // instances. So filter here based on this.alpha[i]. The training data\r\n          // for which this.alpha[i] = 0 is irrelevant for future. \r\n          let newdata = [];\r\n\r\n          let newlabels = [];\r\n\r\n          let newalpha = [];\r\n\r\n          for(let i=0;i<this.N;i++) {\r\n\r\n            //console.log(\"alpha=%f\", this.alpha[i]);\r\n            if(this.alpha[i] > alphatol) {\r\n              newdata.push(this.data[i]);\r\n              newlabels.push(this.labels[i]);\r\n              newalpha.push(this.alpha[i]);\r\n            }\r\n          }\r\n  \r\n          // store data and labels\r\n          this.data = newdata;\r\n          this.labels = newlabels;\r\n          this.alpha = newalpha;\r\n          this.N = this.data.length;\r\n          //console.log(\"filtered training data from %d to %d support vectors.\", data.length, this.data.length);\r\n        }\r\n  \r\n        let trainstats = {};\r\n\r\n        trainstats.iters= iter;\r\n        return trainstats;\r\n      }, \r\n      \r\n      // inst is an array of length D. Returns margin of given example\r\n      // this is the core prediction function. All others are for convenience mostly\r\n      // and end up calling this one somehow.\r\n      marginOne: function(inst) {\r\n  \r\n        let f = this.b;\r\n\r\n        // if the linear kernel was used and w was computed and stored,\r\n        // (i.e. the svm has fully finished training)\r\n        // the internal class letiable usew_ will be set to true.\r\n\r\n        if(this.usew_) {\r\n  \r\n          // we can speed this up a lot by using the computed weights\r\n          // we computed these during train(). This is significantly faster\r\n          // than the version below\r\n          for(let j=0;j<this.D;j++) {\r\n\r\n            f += inst[j] * this.w[j];\r\n          }\r\n  \r\n        } else {\r\n  \r\n          for(let i=0;i<this.N;i++) {\r\n\r\n            f += this.alpha[i] * this.labels[i] * this.kernel(inst, this.data[i]);\r\n          }\r\n        }\r\n  \r\n        return f;\r\n      },\r\n      \r\n      predictOne: function(inst) { \r\n        return this.marginOne(inst) > 0 ? 1 : -1; \r\n      },\r\n      \r\n      // data is an NxD array. Returns array of margins.\r\n      margins: function(data) {\r\n        \r\n        // go over support vectors and accumulate the prediction. \r\n        let N = data.length;\r\n\r\n        let margins = new Array(N);\r\n\r\n        for(let i=0;i<N;i++) {\r\n\r\n          margins[i] = this.marginOne(data[i]);\r\n        }\r\n        return margins;\r\n        \r\n      },\r\n  \r\n      kernelResult: function(i, j) {\r\n        if (this.kernelResults) {\r\n          return this.kernelResults[i][j];\r\n        }\r\n        return this.kernel(this.data[i], this.data[j]);\r\n      },\r\n  \r\n      // data is NxD array. Returns array of 1 or -1, predictions\r\n      predict: function(data) {\r\n        let margs = this.margins(data);\r\n\r\n        for(let i=0;i<margs.length;i++) {\r\n\r\n          margs[i] = margs[i] > 0 ? 1 : -1;\r\n        }\r\n        return margs;\r\n      },\r\n      \r\n      // THIS FUNCTION IS NOW DEPRECATED. WORKS FINE BUT NO NEED TO USE ANYMORE. \r\n      // LEAVING IT HERE JUST FOR BACKWARDS COMPATIBILITY FOR A WHILE.\r\n      // if we trained a linear svm, it is possible to calculate just the weights and the offset\r\n      // prediction is then yhat = sign(X * w + b)\r\n      getWeights: function() {\r\n        \r\n        // DEPRECATED\r\n        let w= new Array(this.D);\r\n\r\n        for(let j=0;j<this.D;j++) {\r\n\r\n          let s= 0.0;\r\n\r\n          for(let i=0;i<this.N;i++) {\r\n\r\n            s+= this.alpha[i] * this.labels[i] * this.data[i][j];\r\n          }\r\n          w[j]= s;\r\n        }\r\n        return {w: w, b: this.b};\r\n      },\r\n  \r\n      toJSON: function() {\r\n        \r\n        if(this.kernelType === \"custom\") {\r\n          console.log(\"Can't save this SVM because it's using custom, unsupported kernel...\");\r\n          return {};\r\n        }\r\n  \r\n        let json = {}\r\n        json.N = this.N;\r\n        json.D = this.D;\r\n        json.b = this.b;\r\n  \r\n        json.kernelType = this.kernelType;\r\n        if(this.kernelType === \"linear\") { \r\n          // just back up the weights\r\n          json.w = this.w; \r\n        }\r\n        if(this.kernelType === \"rbf\") { \r\n          // we need to store the support vectors and the sigma\r\n          json.rbfSigma = this.rbfSigma; \r\n          json.data = this.data;\r\n          json.labels = this.labels;\r\n          json.alpha = this.alpha;\r\n        }\r\n  \r\n        return json;\r\n      },\r\n      \r\n      fromJSON: function(json) {\r\n        \r\n        this.N = json.N;\r\n        this.D = json.D;\r\n        this.b = json.b;\r\n  \r\n        this.kernelType = json.kernelType;\r\n        if(this.kernelType === \"linear\") { \r\n  \r\n          // load the weights! \r\n          this.w = json.w; \r\n          this.usew_ = true; \r\n          this.kernel = linearKernel; // this shouldn't be necessary\r\n        }\r\n        else if(this.kernelType === \"rbf\") {\r\n  \r\n          // initialize the kernel\r\n          this.rbfSigma = json.rbfSigma; \r\n          this.kernel = makeRbfKernel(this.rbfSigma);\r\n  \r\n          // load the support vectors\r\n          this.data = json.data;\r\n          this.labels = json.labels;\r\n          this.alpha = json.alpha;\r\n        } else {\r\n          console.log(\"ERROR! unrecognized kernel type.\" + this.kernelType);\r\n        }\r\n      }\r\n    }\r\n    \r\n    // Kernels\r\n    function makeRbfKernel(sigma) {\r\n      return function(v1, v2) {\r\n        let s=0;\r\n\r\n        for(let q=0;q<v1.length;q++) { s += (v1[q] - v2[q])*(v1[q] - v2[q]); } \r\n\r\n        return Math.exp(-s/(2.0*sigma*sigma));\r\n      }\r\n    }\r\n    \r\n    function linearKernel(v1, v2) {\r\n      let s=0; \r\n\r\n      for(let q=0;q<v1.length;q++) { s += v1[q] * v2[q]; } \r\n\r\n      return s;\r\n    }\r\n  \r\n    // Misc utility functions\r\n    // generate random floating point number between a and b\r\n    \r\n    // eslint-disable-next-line\r\n    function randf(a, b) {\r\n      return Math.random()*(b-a)+a;\r\n    }\r\n  \r\n    // generate random integer between a and b (b excluded)\r\n    function randi(a, b) {\r\n       return Math.floor(Math.random()*(b-a)+a);\r\n    }\r\n  \r\n    // create vector of zeros of length n\r\n    function zeros(n) {\r\n      let arr= new Array(n);\r\n\r\n      for(let i=0;i<n;i++) { arr[i]= 0; }\r\n\r\n      return arr;\r\n    }\r\n  \r\n    // export public members\r\n    exports = exports || {};\r\n    exports.SVM = SVM;\r\n    exports.makeRbfKernel = makeRbfKernel;\r\n    exports.linearKernel = linearKernel;\r\n    return exports;\r\n  \r\n  })(typeof module != 'undefined' && module.exports);  // add exports to module.exports if in node.js","  import { createContext } from 'react';\r\n\r\nexport const csvContext = createContext({\r\n    csv: null,\r\n    fetchCsv: (csv) => {}\r\n});","import React from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\n\r\nimport Divider from '@material-ui/core/Divider';\r\nimport Drawer from '@material-ui/core/Drawer';\r\nimport Hidden from '@material-ui/core/Hidden';\r\nimport List from '@material-ui/core/List';\r\nimport ListSubheader from '@material-ui/core/ListSubheader';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport GitHubIcon from \"@material-ui/icons/GitHub\";\r\n\r\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\r\nimport { Typography } from '@material-ui/core';\r\n\r\nconst drawerWidth = 250;\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    display: 'flex',\r\n  },\r\n  button: {\r\n    margin: theme.spacing(1),\r\n  },\r\n  drawer: {\r\n    [theme.breakpoints.up('lg')]: {\r\n      width: drawerWidth,\r\n      flexShrink: 0,\r\n    },\r\n  },\r\n  toolbar: theme.mixins.toolbar,\r\n  drawerPaper: {\r\n    width: drawerWidth,\r\n    [theme.breakpoints.up('lg')]: {\r\n      paddingTop: \"64px\",\r\n    },\r\n  },\r\n}));\r\n\r\nconst SideDrawer = props => {\r\n  let history = useHistory();\r\n  const classes = useStyles();\r\n  const theme = useTheme();\r\n\r\n  const pushLink = link => {\r\n    history.push(link);\r\n    props.handleDrawerToggle();\r\n  }\r\n\r\n  const drawer = (\r\n    <div>\r\n      <ListItem classes={{ root: classes.root }} button>\r\n        <Typography style={{ fontSize: '20px', fontWeight: '500', color: 'white' }}>\r\n          Algorithms\r\n          </Typography>\r\n      </ListItem>\r\n      <Divider />\r\n      <List>\r\n        <ListItem button onClick={() => { pushLink('/dashboard') }}>\r\n          <ListItemText primary=\"Dashboard\" />\r\n        </ListItem>\r\n      </List>\r\n      <Divider />\r\n      <List>\r\n        <ListSubheader component=\"div\">\r\n          REGRESSION\r\n          </ListSubheader>\r\n        <ListItem button onClick={() => { pushLink('/linreg') }}>\r\n          <ListItemText primary=\"Linear Regression\" />\r\n        </ListItem>\r\n      </List>\r\n      <Divider />\r\n      <List>\r\n        <ListSubheader component=\"div\">\r\n          CLASSIFICATION\r\n          </ListSubheader>\r\n        <ListItem button onClick={() => { pushLink('/decision-tree') }}>\r\n          <ListItemText primary=\"Decision Tree\" />\r\n        </ListItem>\r\n        <ListItem button onClick={() => { pushLink('/svm') }}>\r\n          <ListItemText primary=\"Support Vector Machine\" />\r\n        </ListItem>\r\n        <ListItem button onClick={() => { pushLink('/pca') }}>\r\n          <ListItemText primary=\"PCA\" />\r\n        </ListItem>\r\n        <ListItem button onClick={() => { pushLink('/knn') }}>\r\n          <ListItemText primary=\"KNN Classifier\" />\r\n        </ListItem>\r\n      </List>\r\n      <Divider />\r\n      <Divider />\r\n      <List>\r\n        <ListSubheader component=\"div\">\r\n          CLUSTERING\r\n          </ListSubheader>\r\n        <ListItem button onClick={() => { pushLink('/fcmeans') }}>\r\n          < ListItemText primary=\"FC Means\" />\r\n        </ListItem>\r\n        <ListItem button onClick={() => { pushLink('/kmeans') }}>\r\n          <ListItemText primary=\"KMeans\" />\r\n        </ListItem>\r\n        <ListItem button onClick={() => { pushLink('/hcluster') }}>\r\n          <ListItemText primary=\"Hierarchical Clustering\" />\r\n        </ListItem>\r\n      </List>\r\n      <Divider />\r\n      <Divider />\r\n      <List>\r\n        <ListSubheader component=\"div\">\r\n          GitHub\r\n        </ListSubheader>\r\n        <ListItem button onClick={() => { window.location.href = 'https://github.com/pratikpc/Reactive-Miner' }}>\r\n          <GitHubIcon />\r\n          < ListItemText style={{paddingLeft: 10}} primary=\"GitHub\" />\r\n        </ListItem>\r\n      </List>\r\n      <Divider />\r\n      <Divider />\r\n    </div >\r\n  );\r\n\r\n  return (\r\n    <nav className={classes.drawer} aria-label=\"mailbox folders\">\r\n      <Hidden lgUp>\r\n        <Drawer\r\n          container={props.container}\r\n          variant=\"temporary\"\r\n          anchor={theme.direction === 'rtl' ? 'right' : 'left'}\r\n          open={props.mobileOpen}\r\n          onClose={props.handleDrawerToggle}\r\n          classes={{\r\n            paper: classes.drawerPaper,\r\n          }}\r\n          ModalProps={{\r\n            keepMounted: true, // Better open performance on mobile.\r\n          }}\r\n        >\r\n          {drawer}\r\n        </Drawer>\r\n      </Hidden>\r\n      <Hidden mdDown>\r\n        <Drawer\r\n          classes={{\r\n            paper: classes.drawerPaper,\r\n          }}\r\n          variant=\"permanent\"\r\n          open\r\n        >\r\n          {drawer}\r\n        </Drawer>\r\n      </Hidden>\r\n    </nav>\r\n  );\r\n}\r\n\r\nexport default SideDrawer;","import React, { useState } from 'react';\r\n\r\nimport PropTypes from 'prop-types';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport SideDrawer from './SideDrawer';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport MenuIcon from '@material-ui/icons/Menu';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\r\nimport logo from './logo.png';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    display: 'flex',\r\n  },\r\n  appBar: {\r\n    zIndex: theme.zIndex.drawer + 1,\r\n  },\r\n  menuButton: {\r\n    marginRight: theme.spacing(2),\r\n    [theme.breakpoints.up('lg')]: {\r\n      display: 'none',\r\n    },\r\n  },\r\n  content: {\r\n    flexGrow: 1,\r\n  },\r\n  toolbar: theme.mixins.toolbar,\r\n    title: {\r\n    flexGrow: 1,\r\n  },\r\n}));\r\n\r\nconst Header = props => {\r\n  const { container } = props;\r\n  const classes = useStyles();\r\n  const theme = useTheme();\r\n  const [mobileOpen, setMobileOpen] = useState(false);\r\n\r\n  const handleDrawerToggle = () => {\r\n    setMobileOpen(!mobileOpen);\r\n  };\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <CssBaseline />\r\n      <AppBar position=\"fixed\" className={classes.appBar}>\r\n        <Toolbar>\r\n          <IconButton\r\n            color=\"inherit\"\r\n            aria-label=\"open drawer\"\r\n            edge=\"start\"\r\n            onClick={handleDrawerToggle}\r\n            className={classes.menuButton}\r\n          >\r\n            <MenuIcon />\r\n          </IconButton>\r\n          <img src={logo} height=\"30\" width=\"30\" alt=\"logo\" />\r\n          <Typography variant=\"h6\" className={classes.title}>\r\n            &nbsp;Data Miner\r\n          </Typography>\r\n        </Toolbar>\r\n      </AppBar>\r\n        <SideDrawer \r\n          theme={theme}\r\n          container={container}\r\n          handleDrawerToggle={handleDrawerToggle}\r\n          mobileOpen={mobileOpen}\r\n          setMobileOpen={setMobileOpen}\r\n        />\r\n      <main className={classes.content}>\r\n        <div style={{ marginTop: \"70px\" }}>\r\n            {props.children}\r\n        </div>\r\n      </main>\r\n    </div>\r\n  );\r\n}\r\n\r\nHeader.propTypes = {\r\n  container: PropTypes.any,\r\n};\r\n\r\nexport default Header;","import React from 'react'\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Typography from '@material-ui/core/Typography';\r\n\r\nconst TitleBar = props => {\r\n    return (\r\n        <Paper style={{ background: '#000000', color: 'white', margin:' 10px', padding: '20px' }}>\r\n            {props.logo && (\r\n                <div style={{ padding: '20px'}}>\r\n                    <img src={props.logo} width=\"100\" height=\"100\" alt=\"logo\" />\r\n                </div>\r\n            )}\r\n            <Typography style={{ marginBottom: '10px' }} variant=\"h5\">\r\n                {props.name}\r\n            </Typography>\r\n            {props.tags.map((tag, index) => \r\n            <span className=\"tag\" key={index}>\r\n                {tag}\r\n            </span>\r\n            )}\r\n        </Paper>\r\n    )\r\n}\r\n\r\nexport default TitleBar;","import React from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\n// import logo from './logo.png'\r\nimport Card from \"@material-ui/core/Card\";\r\nimport CardActionArea from \"@material-ui/core/CardActionArea\";\r\nimport CardActions from \"@material-ui/core/CardActions\";\r\nimport CardContent from \"@material-ui/core/CardContent\";\r\nimport CardMedia from \"@material-ui/core/CardMedia\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Paper from '@material-ui/core/Paper';\r\nimport logo from \"./logo.png\";\r\nimport \"./Dashboard.css\";\r\nimport TitleBar from \"./TitleBar\";\r\nimport { Link } from \"@material-ui/core\";\r\n\r\nconst useStyles = makeStyles({\r\n  grid: {\r\n      padding: '15px',\r\n  },\r\n  media: {\r\n    height: 180\r\n  },\r\n  cardHeight:{\r\n    maxWidth: 345,\r\n    height : 380\r\n  },\r\n  paper: {\r\n    margin: '10px',\r\n    padding: '10px',\r\n    textAlign: 'center',\r\n    color: 'white',\r\n  },\r\n});\r\n\r\nconst Dashboard = () => {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <div>\r\n      <Grid container>\r\n        <Grid item xs={12}>\r\n          <TitleBar name=\"Reactive Miner\" tags={['Data Mining', 'Machine Learning', 'Regression', 'Classification', 'Clustering']} logo={logo} />\r\n        </Grid>\r\n        <Grid item xs={12}>\r\n          <Paper className={classes.paper}>\r\n            Color and geometry representations are easily recognized and interpreted by the human brain. Hence, data visualization technologies provide data mining results with natural and intuitive operation interfaces. Currently, data miners always plot 2-dimensional and 3-dimensional diagrams using the traditional data visualization tools.To enhance the visualization quality, this project proposes a realtime data mining and visualization system for big data.\r\n\r\n          </Paper>\r\n        </Grid>\r\n        <Grid className={classes.grid} item xs={12} sm={6} md={3} lg={3}>\r\n          <Card className={classes.cardHeight} spacing={4}>\r\n            <CardActionArea>\r\n              <CardMedia\r\n                className={classes.media}\r\n                image={require(\"./images/tensorflow.png\")}\r\n                title=\"Tensorflow JS\"\r\n              />\r\n              <CardContent>\r\n                <Typography gutterBottom variant=\"h5\" component=\"h2\">\r\n                  TensorFlow.JS\r\n                </Typography>\r\n                <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\r\n                  TensorFlow.js is an hardware-accelerated JavaScript library\r\n                  for training and deploying ML models.\r\n                </Typography>\r\n              </CardContent>\r\n            </CardActionArea>\r\n            <CardActions>\r\n              {/* <Link to=\"https://www.tensorflow.org/js\" > */}\r\n              <Button size=\"small\" color=\"primary\">\r\n                <Link href=\"https://www.tensorflow.org/js\">See More</Link>\r\n              </Button>\r\n              {/* </Link>  */}\r\n            </CardActions>\r\n          </Card>\r\n        </Grid>\r\n        <Grid className={classes.grid} item xs={12} sm={6} md={3} lg={3}>\r\n          <Card className={classes.cardHeight} spacing={4}>\r\n            <CardActionArea>\r\n              <CardMedia\r\n                className={classes.media}\r\n                image={require(\"./images/react.jpg\")}\r\n                title=\"React JS\"\r\n              />\r\n              <CardContent>\r\n                <Typography gutterBottom variant=\"h5\" component=\"h2\">\r\n                  React\r\n                </Typography>\r\n                <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\r\n                  React is a JavaScript library for building user interfaces. It\r\n                  is maintained by Facebook and a large Community.\r\n                </Typography>\r\n              </CardContent>\r\n            </CardActionArea>\r\n            <CardActions>\r\n              {/* <Link to=\"https://www.tensorflow.org/js\" > */}\r\n              <Button size=\"small\" color=\"primary\">\r\n                <Link href=\"https://reactjs.org/\">See More</Link>\r\n              </Button>\r\n              {/* </Link>  */}\r\n            </CardActions>\r\n          </Card>\r\n        </Grid>\r\n        <Grid className={classes.grid} item xs={12} sm={6} md={3} lg={3}>\r\n          <Card className={classes.cardHeight} spacing={4}>\r\n            <CardActionArea>\r\n              <CardMedia\r\n                className={classes.media}\r\n                image={require(\"./images/d3.png\")}\r\n                title=\"D3.JS\"\r\n              />\r\n              <CardContent>\r\n                <Typography gutterBottom variant=\"h5\" component=\"h2\">\r\n                  D3.JS\r\n                </Typography>\r\n                <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\r\n                  D3.js is a JavaScript library for producing dynamic,\r\n                  interactive data visualizations in web browsers.\r\n                </Typography>\r\n              </CardContent>\r\n            </CardActionArea>\r\n            <CardActions>\r\n              <Button size=\"small\" color=\"primary\">\r\n                <Link href=\"https://d3js.org/\">See More</Link>\r\n              </Button>\r\n            </CardActions>\r\n          </Card>\r\n        </Grid>\r\n        <Grid className={classes.grid} item xs={12} sm={6} md={3} lg={3}>\r\n          <Card className={classes.cardHeight} spacing={4}>\r\n            <CardActionArea>\r\n              <CardMedia\r\n                className={classes.media}\r\n                image={require(\"./images/materialui.png\")}\r\n                title=\"Material UI\"\r\n              />\r\n              <CardContent>\r\n                <Typography gutterBottom variant=\"h5\" component=\"h2\">\r\n                  Material UI\r\n                </Typography>\r\n                <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\r\n                  Material UI provides React components implementing <Link href=\"https://material.io/\">Google's Material Design</Link>\r\n                  specification\r\n                </Typography>\r\n              </CardContent>\r\n            </CardActionArea>\r\n            <CardActions>\r\n              {/* <Link to=\"https://www.tensorflow.org/js\" > */}\r\n              <Button size=\"small\" color=\"primary\">\r\n                <Link href=\"https://material-ui.com/\">See More</Link>\r\n              </Button>\r\n              {/* </Link>  */}\r\n            </CardActions>\r\n          </Card>\r\n        </Grid>\r\n      </Grid>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Dashboard;\r\n","import * as tfdata from \"@tensorflow/tfjs-data\";\r\nimport * as tfcore from \"@tensorflow/tfjs-core\";\r\nimport * as tfvis from \"@tensorflow/tfjs-vis\";\r\n\r\nexport function ReadCSV(url, delimiter) {\r\n    return tfcore.tidy(() => {\r\n        const data = tfdata.csv(url, {\r\n            hasHeader: true,\r\n            delimiter: delimiter\r\n        });\r\n        return data;\r\n    })\r\n}\r\nexport function SetDifference(a, b) {\r\n    return a.filter(x => !b.includes(x));\r\n}\r\n\r\nexport function RemoveNode(node) {\r\n    const nodeV = document.getElementById(node);\r\n    if (nodeV != null)\r\n        nodeV.remove();\r\n}\r\n\r\nexport function CreateTensor(data, labels) {\r\n    const arr = [];\r\n    return tfcore.tidy(() => {\r\n        for (const label of labels)\r\n            arr.push(data[label]);\r\n        return tfcore.tensor(arr);\r\n    });\r\n}\r\n\r\nexport function Zip(a, b) {\r\n    const c = a.map(function (e, i) {\r\n        return [e, b[i]];\r\n    });\r\n    return c;\r\n}\r\nexport function VisorStop() {\r\n    return RemoveNode(\"tfjs-visor-container\");\r\n}\r\nexport function GemerateChartForLinearRegression(name, tab, x, y, preds) {\r\n    const chart = {\r\n        name: name,\r\n        tab: tab,\r\n        values: []\r\n    };\r\n    for (let i = 0; i < x[0].length; ++i) {\r\n        // Chart the Inputs with Label\r\n        chart.values.push({\r\n            name: \"X \" + (i + 1) + \" Y\",\r\n            // Values to Chart\r\n            values: Zip(x, y).map(([x, y]) => { return { x: x[i], y }; })\r\n        });\r\n        // Chart the Inputs with Predictions\r\n        chart.values.push({\r\n            name: \"X \" + i + \" PREDs\",\r\n            // Values to Chart\r\n            values: Zip(x, preds).map(([x, y]) => { return { x: x[i], y }; })\r\n        });\r\n    }\r\n    return chart;\r\n}\r\nexport function GenerateChartForCluster(centroids, clusters, xIdx, yIdx) {\r\n    const chart = { name: \"Cluster\", tab: \"Cluster Vis\", values: [] };\r\n    for (let i = 0; i < clusters.length; ++i)\r\n        chart.values.push({\r\n            name: 'Cluster ' + i,\r\n            values: clusters[i].map(cluster => { return { x: cluster[xIdx], y: cluster[yIdx] } })\r\n        });\r\n    for (let i = 0; i < centroids.length; ++i) {\r\n        chart.values.push({\r\n            name: 'Centroid ' + i,\r\n            values: [{ x: centroids[i][xIdx], y: centroids[i][yIdx] }]\r\n        });\r\n    }\r\n    return chart;\r\n}\r\nexport async function DrawBarChart(name, tab, values) {\r\n    const data = values.map((value, index) => { return { index, value } });\r\n    // Render to visor\r\n    const surface = { name: name, tab: tab };\r\n    tfvis.render.barchart(surface, data);\r\n}\r\nexport async function DrawScatterPlot(chart) {\r\n    const series = chart.values.map(value => value.values);\r\n    const series_names = chart.values.map(value => value.name);\r\n    const data = { values: series, series: series_names }\r\n    await tfvis.render.scatterplot({ name: chart.name, tab: chart.tab }, data);\r\n}\r\n","import React, { useState, useEffect, useContext } from 'react';\r\nimport { csvContext } from '../context/csv-context';\r\nimport { ReadCSV } from '../linreg/utils';\r\nimport PropTypes from 'prop-types';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Button from '@material-ui/core/Button';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport List from '@material-ui/core/List';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport FolderIcon from '@material-ui/icons/Folder';\r\nimport SaveIcon from '@material-ui/icons/Save';\r\nimport CloudDownloadIcon from '@material-ui/icons/CloudDownload';\r\nimport Link from '@material-ui/core/Link';\r\n\r\nconst FOLDER_URL = process.env.PUBLIC_URL\r\nconst DATASETS_URL = process.env.PUBLIC_URL + '/datasets.json';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        flexGrow: 1,\r\n    },\r\n    appBar: {\r\n        color: '#000000',\r\n        backgroundColor: '#90caf9'\r\n    },\r\n    fileButton: {\r\n        marginRight: theme.spacing(1),\r\n    },\r\n    title: {\r\n        flexGrow: 1,\r\n    },\r\n}));\r\n\r\nconst LoadDatasetDialog = props => {\r\n    const { fetchCsv } = useContext(csvContext);\r\n    const classes = useStyles();\r\n    const { onClose, open, datasets } = props;\r\n\r\n    const loadCSV = (url) => {\r\n        let datasetURL = FOLDER_URL + \"/\" + url\r\n        const data = ReadCSV(datasetURL, ',');\r\n        fetchCsv(data);\r\n        onClose();\r\n    }\r\n\r\n    return (\r\n        <Dialog onClose={onClose} aria-labelledby=\"simple-dialog-title\" open={open}>\r\n            <AppBar className={classes.appBar} position=\"static\">\r\n                <Toolbar>\r\n                    <IconButton edge=\"start\" className={classes.fileButton} color=\"inherit\" aria-label=\"menu\">\r\n                        <FolderIcon />\r\n                    </IconButton>\r\n                    <Typography variant=\"h6\" className={classes.title}>\r\n                        Datasets Available\r\n                    </Typography>\r\n                </Toolbar>\r\n            </AppBar>\r\n            <List>\r\n                {datasets.map((dataset, index) => (\r\n                    <ListItem key={index}>\r\n                        <ListItemAvatar>\r\n                            <Avatar>\r\n                                <IconButton \r\n                                    onClick={() => loadCSV(dataset.url)} \r\n                                    style={{ color: 'black', marginRight: '0px' }} \r\n                                    edge=\"end\" \r\n                                    aria-label=\"load\"\r\n                                >\r\n                                    <SaveIcon />\r\n                                </IconButton>\r\n                            </Avatar>\r\n                        </ListItemAvatar>\r\n                        <ListItemText\r\n                            primary={dataset.name}\r\n                        />\r\n                        <ListItemSecondaryAction>\r\n                                <IconButton edge=\"end\" aria-label=\"download\">\r\n                                    <Link href={`${FOLDER_URL}/${dataset.url}`}>\r\n                                        <CloudDownloadIcon style={{ color: '#FFF' }} />\r\n                                    </Link>\r\n                                </IconButton>\r\n                        </ListItemSecondaryAction>\r\n                    </ListItem>\r\n                ))}\r\n            </List>\r\n        </Dialog>\r\n    )\r\n}\r\n\r\nLoadDatasetDialog.propTypes = {\r\n    onClose: PropTypes.func.isRequired,\r\n    open: PropTypes.bool.isRequired,\r\n};\r\n\r\n\r\nconst LoadDataset = () => {\r\n    const [open, setOpen] = useState(false);\r\n    const [datasetFiles, setDatasetFiles] = useState();\r\n\r\n    useEffect(() => {\r\n        const fetchDatasets = async () => {\r\n            const response = await fetch(DATASETS_URL);\r\n            setDatasetFiles(await response.json());\r\n        }\r\n        fetchDatasets();\r\n    }, [])\r\n\r\n    const handleClickOpen = async () => {\r\n        setOpen(true);\r\n    };\r\n\r\n    const handleClose = (value) => {\r\n        setOpen(false);\r\n    };\r\n\r\n    return (\r\n        <div style={{ margin: '10px' }}>\r\n            {datasetFiles && (\r\n                <div>\r\n                    <Button \r\n                    variant=\"contained\" \r\n                    style={{ \r\n                        width: '100%',\r\n                        color: '#000000', \r\n                        backgroundColor: '#90caf9' \r\n                    }} \r\n                    onClick={handleClickOpen}\r\n                    >\r\n                        LOAD DEMO DATASET\r\n                    </Button>\r\n                    <LoadDatasetDialog open={open} onClose={handleClose} datasets={datasetFiles} />\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default LoadDataset;","import React, { useEffect, useRef } from 'react'\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Typography from '@material-ui/core/Typography';\r\n\r\nconst DESCRIPTION_URL = process.env.PUBLIC_URL + '/description.json'\r\n\r\nconst Description = props => {\r\n    const contentRef = useRef()\r\n\r\n    useEffect(() => {\r\n        const fetchDescription = async () => {\r\n            const response = await fetch(DESCRIPTION_URL)\r\n            const data = await response.json()\r\n            contentRef.current.innerHTML = data[props.desc]\r\n        }\r\n        fetchDescription()\r\n    }, [props.desc])\r\n\r\n    return (\r\n        <Paper style={{ background: '#FFFFFF', color: '#000000', margin:'10px', padding: '10px' }}>\r\n            <Typography style={{ fontSize: '15px', fontWeight: '500' }} variant=\"h5\" ref={contentRef}>\r\n                {props.name}\r\n            </Typography>\r\n        </Paper>\r\n    )\r\n}\r\n\r\nexport default Description;","import * as tf from \"@tensorflow/tfjs\";\r\n\r\nexport function Normalize(tensor) {\r\n    return tf.tidy(() => {\r\n        const max = tensor.max();\r\n        const min = tensor.min();\r\n        const normalized = NormalizeValRaw(max, min, tensor);\r\n        return { max, min, value: normalized };\r\n    });\r\n}\r\nexport function NormalizeValRaw(max, min, value) {\r\n    return tf.tidy(() => {\r\n        const std = max.sub(min)\r\n        const num = value.sub(min)\r\n        const normalized = num.div(std)\r\n        return normalized;\r\n    });\r\n}\r\nexport function NormalizeVar(val, pred) {\r\n    return tf.tidy(() => { return NormalizeValRaw(val.max, val.min, pred); })\r\n}\r\nexport function ScaleBackValRaw(max, min, pred) {\r\n    return tf.tidy(() => {\r\n        const std = max.sub(min)\r\n        const num = pred.mul(std)\r\n        const scaled = num.add(min)\r\n        return scaled;\r\n    });\r\n}\r\nexport function ScaleBackValWithTensor(val, pred) {\r\n    return tf.tidy(() => {\r\n        return ScaleBackValRaw(val.max, val.min, tf.tensor(pred))\r\n    });\r\n}\r\nexport function ScaleBackVal(val, pred) {\r\n    return tf.tidy(() => {\r\n        return ScaleBackValRaw(val.max, val.min, pred);\r\n    });\r\n}\r\n\r\nexport function InputDimSize(tensor) {\r\n    return tf.tidy(() => tensor.shape[1])\r\n}\r\nexport function RootMeanSquareError(yTrue, yPred) {\r\n    return tf.tidy(() => {\r\n        // Scale the the first column (0-1 shape indicator) of `yTrue` in order\r\n        // to ensure balanced contributions to the final loss value\r\n        // from shape and bounding-box predictions.\r\n        return tf.sqrt(tf.metrics.meanSquaredError(yTrue, yPred));\r\n    });\r\n}\r\nexport async function FindArgMax(values, axis = 1) {\r\n    const valuesT = tf.tensor(values);\r\n    const argMaxT = valuesT.argMax(axis);\r\n    const argMax = await argMaxT.array();\r\n    valuesT.dispose();\r\n    argMaxT.dispose();\r\n    return argMax;\r\n}\r\nexport function DisposeValue(val) {\r\n    val.value.dispose();\r\n    val.max.dispose();\r\n    val.min.dispose();\r\n}\r\nexport function DisposeValues(...vals) {\r\n    for (const val of vals)\r\n        DisposeValue(val);\r\n}\r\nexport function ConvertClusterIconsToData(clusterIds, k, data) {\r\n    let clusters = [];\r\n    for (let i = 0; i < k; ++i)\r\n        clusters.push([]);\r\n    for (let i = 0; i < clusterIds.length; ++i) {\r\n        const cluster = clusterIds[i];\r\n        const value = data[i];\r\n        clusters[cluster].push(value);\r\n    }\r\n    return clusters;\r\n}\r\nexport async function ExtractSelectedLabelsFromCSV(csv, selectedCols = []) {\r\n    const data = await csv.toArray();\r\n    return ExtractSelectedLabels(data, selectedCols);\r\n}\r\nexport function ExtractSelectedLabels(data, selectedCols = []) {\r\n    if (selectedCols.length === 0)\r\n        return data;\r\n    const results = [];\r\n    for (const kv of data) {\r\n        const result = {};\r\n        for (const colName in kv) {\r\n            if (!selectedCols.includes(colName))\r\n                continue;\r\n            const value = kv[colName];\r\n            result[colName] = value;\r\n        }\r\n        results.push(result);\r\n    }\r\n    return results;\r\n}\r\n\r\n\r\n\r\nexport async function ConvertCSVToRawArrays(csv, labelCol, allCols = [], normalize = false) {\r\n    const data = await csv.toArray();\r\n    // const data = nm(dat)\r\n    // console.log(data)\r\n    const [xT, yT] = SplitIntoInputAndLabel(data, labelCol, allCols, normalize);\r\n\r\n    const x = await xT.value.array();\r\n    const y = await yT.value.array();\r\n    // console.log(x);\r\n\r\n    DisposeValues(xT, yT);\r\n    return [x, y];\r\n}\r\nexport async function ConvertCSVToSingleArray(csv, selectedCols = [], normalize = false) {\r\n    const data = await csv.toArray();\r\n    const raw = await ExtractSelectedLabels(data, selectedCols);\r\n    const values = [];\r\n    for (const rawV of raw) {\r\n        const value = [];\r\n        for (const key in rawV)\r\n            value.push(rawV[key]);\r\n        values.push(value);\r\n    }\r\n    return values;\r\n}\r\nfunction ExtractInformation(raw, data, normalize = true) {\r\n    return tf.tidy(() => {\r\n        const value = {\r\n            value: [],\r\n            max: [],\r\n            min: []\r\n        };\r\n        for (let i = 0; i < data.length; ++i)\r\n            value.value.push([]);\r\n\r\n        for (const colName in raw) {\r\n            const max = raw[colName].max;\r\n            const min = raw[colName].min;\r\n            value.max.push(max);\r\n            value.min.push(min);\r\n            for (let i = 0; i < raw[colName].value.length; ++i) {\r\n                if (normalize)\r\n                    raw[colName].value[i] = (raw[colName].value[i] - min) / (max - min)\r\n                value.value[i].push(raw[colName].value[i]);\r\n            }\r\n        }\r\n        value.max = tf.tensor(value.max);\r\n        value.min = tf.tensor(value.min);\r\n        value.value = tf.tensor(value.value);\r\n        return value;\r\n    });\r\n}\r\nexport function ArrayRemoveColumn(array, remIdx = []) {\r\n    return array.map((arr) => {\r\n        return arr.filter((_, idx) => !remIdx.includes(idx));\r\n    });\r\n};\r\nexport function SplitIntoInputAndLabel(data, labelCol, allCols = [], normalize = true) {\r\n    return tf.tidy(() => {\r\n        let x_raw = {};\r\n        let y_raw = {};\r\n\r\n        for (const kv of data)\r\n            for (const colName in kv) {\r\n                if (allCols.length !== 0 && !allCols.includes(colName)) {\r\n                    continue;\r\n                }\r\n                const value = kv[colName];\r\n                if (labelCol.includes(colName)) {\r\n                    if (y_raw[colName] == null)\r\n                        y_raw[colName] = { value: [], min: Number.MAX_SAFE_INTEGER, max: Number.MIN_SAFE_INTEGER }\r\n                    y_raw[colName].max = Math.max(y_raw[colName].max, value);\r\n                    y_raw[colName].min = Math.min(y_raw[colName].min, value);\r\n                    y_raw[colName].value.push(value);\r\n                } else {\r\n                    if (x_raw[colName] == null)\r\n                        x_raw[colName] = { value: [], min: Number.MAX_SAFE_INTEGER, max: Number.MIN_SAFE_INTEGER }\r\n                    x_raw[colName].value.push(value);\r\n                    x_raw[colName].max = Math.max(x_raw[colName].max, value);\r\n                    x_raw[colName].min = Math.min(x_raw[colName].min, value);\r\n                }\r\n            }\r\n        const x = ExtractInformation(x_raw, data, normalize)\r\n        const y = ExtractInformation(y_raw, data, normalize)\r\n        return [x, y];\r\n    });\r\n}","import * as tf from \"@tensorflow/tfjs\";\r\nimport { InputDimSize as TensorDimSize, RootMeanSquareError, ScaleBackVal, ScaleBackValWithTensor } from \"./utils\";\r\n\r\nexport function CreateModel(outs, inputs, l1, l2, learningRate) {\r\n    return tf.tidy(() => {\r\n        const regularizer = tf.regularizers.l1l2({\r\n            l1: l1,\r\n            l2: l2\r\n        });\r\n        const model = tf.sequential();\r\n        model.add(\r\n            tf.layers.dense({\r\n                units: outs, // Simple Linear Regression\r\n                inputShape: [inputs],\r\n                kernelRegularizer: regularizer\r\n            })\r\n        );\r\n        model.compile({\r\n            loss: RootMeanSquareError,\r\n            optimizer: tf.train.sgd(learningRate),\r\n            metrics: [RootMeanSquareError]\r\n        });\r\n        return model;\r\n    });\r\n}\r\nexport async function Fit(\r\n    xTrain, yTrain,\r\n    OnEpochEndCallBack = async (_) => { },\r\n    l1 = 0.0, l2 = 0.0,\r\n    epochs = 100, batchSize = 16, validationSplit = 10,\r\n    learningRate = 0.01) {\r\n\r\n    const model = CreateModel(TensorDimSize(yTrain), TensorDimSize(xTrain), l1, l2, learningRate);\r\n    const logs = [];\r\n\r\n    await model.fit(xTrain, yTrain, {\r\n        batchSize: batchSize,\r\n        epochs: epochs,\r\n        shuffle: true,\r\n        validationSplit: (validationSplit / 100), // In Percentage\r\n        callbacks: {\r\n            onEpochEnd: async (epoch, log) => {\r\n                logs.push({\r\n                    rms_loss: log.loss,\r\n                    val_rms_loss: log.val_loss,\r\n                    epoch: epoch\r\n                });\r\n                // Perform Action with All Train Logs\r\n                await OnEpochEndCallBack(logs);\r\n            }\r\n        }\r\n    });\r\n    return model;\r\n}\r\n\r\nexport function Predict(model, value, args = () => { }) {\r\n    return tf.tidy(() => {\r\n        return model.predict(tf.tensor([value]), args);\r\n    });\r\n}\r\nexport function Evaluate(model, x, y, args = () => { }) {\r\n    return tf.tidy(() => {\r\n        return model.evaluate(x, y, args);\r\n    });\r\n}\r\nexport async function PredictWithScaling(model, x, y) {\r\n    const predT = Predict(model, x);\r\n    const scaledT = ScaleBackVal(y, predT);\r\n    predT.dispose();\r\n    const prediction = (await scaledT.array())[0];\r\n    scaledT.dispose();\r\n    return prediction;\r\n}\r\nexport async function PredictDataset(model, x, y) {\r\n    let preds_list = [];\r\n    for (const val of await x.value.array()) {\r\n        const pred = Predict(model, val);\r\n        preds_list.push(pred);\r\n    }\r\n    let preds_raw = preds_list.map(pred => pred.array());\r\n    preds_raw = await Promise.all(preds_raw);\r\n    preds_raw = preds_raw.map(pred => pred[0]);\r\n\r\n    for (const pred_dispose of preds_list)\r\n        pred_dispose.dispose();\r\n    const predsT = ScaleBackValWithTensor(y, preds_raw);\r\n    const preds = await predsT.array();\r\n\r\n    const x_valsT = ScaleBackVal(x, x.value);\r\n    const x_vals = await x_valsT.array();\r\n\r\n    const y_valsT = ScaleBackVal(y, y.value);\r\n    const y_vals = await y_valsT.array();\r\n\r\n    predsT.dispose();\r\n    x_valsT.dispose();\r\n    y_valsT.dispose();\r\n    console.log(preds, x_vals, y_vals);\r\n    return [preds, x_vals, y_vals]\r\n}\r\n","import React, { useContext, useState } from 'react';\r\nimport MagicDropzone from 'react-magic-dropzone';\r\nimport { csvContext } from '../context/csv-context';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport { ReadCSV } from '../linreg/utils';\r\n\r\nconst CsvReader = () => {\r\n    const { fetchCsv } = useContext(csvContext);\r\n    // eslint-disable-next-line\r\n    const [delimiter, setDelimiter] = useState(',');\r\n    const onDrop = async (accepted, rejected, links) => {\r\n        if (accepted && accepted.length > 0) {\r\n            const url = accepted[0].preview;\r\n            const data = ReadCSV(url, delimiter);\r\n            fetchCsv(data);\r\n        }\r\n    }\r\n\r\n    return (\r\n        <Paper style={{ margin: '10px', padding: '10px' }}>\r\n            <MagicDropzone className=\"dropzone\" accept=\".csv\" multiple={false} onDrop={onDrop}>\r\n                <div className=\"center-div-wrap\">\r\n                    <div style={{ display: 'block' }}>\r\n                        <p>Drag/drop csv files over here</p>\r\n                    </div>\r\n                </div>\r\n            </MagicDropzone>\r\n        </Paper>\r\n    )\r\n}\r\n\r\nexport default CsvReader;","import React, { useState, useEffect, useContext } from 'react';\r\nimport { csvContext } from '../context/csv-context';\r\nimport MUIDataTable from \"mui-datatables\";\r\n\r\nconst CsvTable = () => {\r\n    const { csv } = useContext(csvContext);\r\n    const [columns, setColumns] = useState([])\r\n    const [data, setData] = useState([]);\r\n\r\n    useEffect( () => {\r\n        if (csv) {\r\n            async function Fetch() {\r\n                setColumns(await csv.columnNames());\r\n                setData(await csv.toArray())\r\n            }\r\n            Fetch();\r\n        }\r\n    }, [csv])\r\n\r\n    const options = {\r\n        filterType: \"dropdown\",\r\n        responsive: \"scroll\"\r\n    };\r\n\r\n    return (\r\n        <div className=\"csv-table\">\r\n            {csv ? (\r\n                <MUIDataTable\r\n                    title={\"Data Table\"}\r\n                    data={data}\r\n                    columns={columns}\r\n                    options={options}\r\n                />\r\n            ) : (\r\n                    <div style={{ textAlign: 'center' }}>\r\n                        <h3>No Data Found</h3>\r\n                    </div>\r\n                )}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default CsvTable;","import React, { useState, useEffect, useContext } from 'react';\r\nimport { Formik } from 'formik';\r\nimport TitleBar from '../utils/TitleBar';\r\nimport Button from '@material-ui/core/Button';\r\nimport Alert from '@material-ui/lab/Alert';\r\nimport { csvContext } from '../context/csv-context';\r\nimport LoadDataset from '../utils/LoadDataset';\r\nimport Description from '../utils/Description';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport * as Utils from \"./utils\";\r\nimport { SplitIntoInputAndLabel, NormalizeVar, DisposeValues } from '../../ML/utils';\r\nimport * as LinearRegressionApply from \"../../ML/linreg\";\r\nimport * as tfvis from \"@tensorflow/tfjs-vis\";\r\nimport * as tf from \"@tensorflow/tfjs-core\";\r\nimport Grid from '@material-ui/core/Grid';\r\nimport CsvReader from '../utils/CsvReader';\r\nimport CsvTable from '../utils/CsvTable';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport FormHelperText from '@material-ui/core/FormHelperText';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport Paper from '@material-ui/core/Paper';\r\nconst useStyles = makeStyles(theme => ({\r\n    paper: {\r\n        margin: theme.spacing(8, 4),\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        alignItems: 'center',\r\n    },\r\n    formControl: {\r\n        margin: theme.spacing(1),\r\n        width: '80%',\r\n    },\r\n    selectEmpty: {\r\n        marginTop: theme.spacing(2),\r\n    },\r\n    form: {\r\n        width: '90%', // Fix IE 11 issue.\r\n        marginTop: theme.spacing(1),\r\n        marginLeft: '20px',\r\n    },\r\n    submit: {\r\n        width: '100px',\r\n    },\r\n}));\r\n\r\nconst lin_reg_cache = { inputs: null, labels: null, model: null };\r\n\r\n// async function PredictSingleValue(model, data, xCols, x, y) {\r\n//     const val_pred = Utils.CreateTensor(data, xCols);\r\n//     const pred = await val_pred.data();\r\n//     const val_pred_norm = NormalizeVar(x, val_pred);\r\n//     const prediction = LinearRegressionApply.Predict(model, await val_pred_norm.array());\r\n//     const resT = ScaleBackVal(y, prediction);\r\n//     const res = (await resT.array())[0];\r\n//     val_pred.dispose();\r\n//     val_pred_norm.dispose();\r\n//     resT.dispose();\r\n//     prediction.dispose();\r\n//     return [pred, res];\r\n// }\r\n\r\nasync function GetDataFromCSV(csv, rowIdx, columns, predCol) {\r\n    const data = (await csv.toArray())[rowIdx];\r\n    const columnNames = Utils.SetDifference(columns, [predCol]);\r\n    const values = Object.keys(data).filter(key => columnNames.includes(key)).map(val => data[val]);\r\n    return values.join(',');\r\n}\r\n\r\nasync function PredictValues(model, input) {\r\n    const inputT = tf.tensor(input);\r\n    const inputNormT = NormalizeVar(lin_reg_cache.inputs, inputT)\r\n    inputT.dispose();\r\n    const inputNorm = await inputNormT.array();\r\n    inputNormT.dispose();\r\n    const pred = await LinearRegressionApply.PredictWithScaling(model, inputNorm, lin_reg_cache.labels);\r\n    return pred;\r\n}\r\n\r\nasync function Perform(csv, labelCols, inputCols, l1, l2, epochs, batchSize, validationSplit, learningRate) {\r\n    if (lin_reg_cache.inputs != null && lin_reg_cache.labels != null && lin_reg_cache.model != null) {\r\n        DisposeValues(lin_reg_cache.inputs, lin_reg_cache.labels);\r\n        lin_reg_cache.model.dispose();\r\n        lin_reg_cache.model = null;\r\n    }\r\n    const inputData = await csv.toArray();\r\n    Utils.VisorStop();\r\n    tfvis.visor().open();\r\n    const [input, label] = SplitIntoInputAndLabel(inputData, labelCols, inputCols);\r\n    const lossContainer = { name: 'show.loss', tab: 'Loss' };\r\n    const model = await LinearRegressionApply.Fit(input.value, label.value, async (logs) => {\r\n        await tfvis.show.history(lossContainer, logs, [\"rms_loss\", \"val_rms_loss\"]);\r\n    }, l1, l2, epochs, batchSize, validationSplit, learningRate);\r\n    model.summary();\r\n    await tfvis.show.modelSummary({ name: 'Model', tab: 'Model' }, model);\r\n\r\n    {\r\n        const [preds, x_vals, y_vals] = await LinearRegressionApply.PredictDataset(model, input, label);\r\n        const chart = Utils.GemerateChartForLinearRegression('Results', 'Plot', x_vals, y_vals, preds)\r\n        await Utils.DrawScatterPlot(chart);\r\n    }\r\n    lin_reg_cache.inputs = input;\r\n    lin_reg_cache.labels = label;\r\n    lin_reg_cache.model = model;\r\n    lin_reg_cache.inputs.value.dispose();\r\n    lin_reg_cache.labels.value.dispose();\r\n\r\n    console.log(\"Final Memory Usage\", tf.memory());\r\n}\r\n\r\nexport default function LinearRegression() {\r\n    const classes = useStyles();\r\n    const [error, setError] = useState('')\r\n    const { csv } = useContext(csvContext);\r\n    const [columnNames, setColumnNames] = useState([]);\r\n    const [ycolumn, setYcolumn] = useState();\r\n    const [predInput, setPredInput] = useState(\"9,7.5,3.5\");\r\n    const [prediction, setPrediction] = useState(\"\");\r\n    const [performPred, setPerformedPred] = useState(false);\r\n    useEffect(() => {\r\n        if (csv == null)\r\n            return;\r\n        async function LoadColumnNames() {\r\n            const columns = await csv.columnNames();\r\n            setColumnNames(columns);\r\n            setYcolumn(columns[columns.length - 1]);\r\n        }\r\n        LoadColumnNames();\r\n    }, [csv, setColumnNames]);\r\n\r\n    return (\r\n        <Grid container>\r\n            <Grid item md={6} xs={12}>\r\n                <TitleBar name=\"Linear Regression\" tags={['Classification', 'Regression']} />\r\n                <CsvReader />\r\n                <CsvTable />\r\n            </Grid>\r\n            <Grid item md={6} xs={12}>\r\n                <LoadDataset />\r\n                <Description desc=\"lr\" />\r\n                {csv && ycolumn ? (\r\n                    <div style={{ padding: '10px' }}>\r\n                        {error && (\r\n                            <Alert onClose={() => setError('')} severity=\"error\">\r\n                                {error}\r\n                            </Alert>\r\n                        )}\r\n                        <Formik\r\n                            enableReinitialize\r\n                            initialValues={{\r\n                                xColumns: columnNames,\r\n                                selectedColumn: ycolumn,\r\n                                l1: 0.0,\r\n                                l2: 0.0,\r\n                                batchSize: 16,\r\n                                validationSplit: 10,\r\n                                learningRate: 0.01,\r\n                                epochs: 50,\r\n                            }}\r\n                            validate={values => {\r\n                                const errors = {};\r\n                                if (!values.selectedColumn) {\r\n                                    errors.selectedColumn = 'Required';\r\n                                }\r\n                                if (values.l1 == null) {\r\n                                    errors.l1 = 'Required';\r\n                                }\r\n                                if (values.l1 < 0) {\r\n                                    errors.l1 = 'Invalid L1 value';\r\n                                }\r\n                                if (values.l2 == null) {\r\n                                    errors.l2 = 'Required';\r\n                                }\r\n                                if (values.l2 < 0) {\r\n                                    errors.l2 = 'Invalid L2 value';\r\n                                }\r\n                                if (!values.batchSize) {\r\n                                    errors.batchSize = 'Required';\r\n                                }\r\n                                if (!values.validationSplit) {\r\n                                    errors.validationSplit = 'Required';\r\n                                }\r\n                                if (values.validationSplit < 5) {\r\n                                    errors.validationSplit = 'Invalid Validation Split';\r\n                                }\r\n                                if (!values.learningRate) {\r\n                                    errors.learningRate = 'Required';\r\n                                }\r\n                                if (values.learningRate < 0 || values.learningRate > 1) {\r\n                                    errors.learningRate = 'Invalid Learning Rate';\r\n                                }\r\n                                if (!values.epochs) {\r\n                                    errors.epochs = 'Required';\r\n                                }\r\n                                if (values.epochs < 1) {\r\n                                    errors.epochs = 'Invalid Number of Epochs';\r\n                                }\r\n\r\n                                return errors;\r\n                            }}\r\n                            onSubmit={(values, { setSubmitting }) => {\r\n                                const submitFormHandler = async values => {\r\n                                    let xCols = [...values.xColumns, values.selectedColumn]\r\n                                    xCols = [...new Set(xCols)]\r\n                                    try {\r\n                                        setError(\"\");\r\n                                        setPerformedPred(false);\r\n                                        await Perform(\r\n                                            csv,\r\n                                            [values.selectedColumn],\r\n                                            xCols,\r\n                                            values.l1,\r\n                                            values.l2,\r\n                                            values.epochs,\r\n                                            values.batchSize,\r\n                                            values.validationSplit,\r\n                                            values.learningRate)\r\n                                        setPerformedPred(true);\r\n                                        setPredInput(await GetDataFromCSV(csv, 0, xCols, ycolumn));\r\n                                    } catch (err) {\r\n                                        console.error(err);\r\n                                        setError('Error occored in Training');\r\n                                        setPerformedPred(false);\r\n                                    }\r\n                                }\r\n                                submitFormHandler(values);\r\n                                setSubmitting(false)\r\n                            }}\r\n                        >{({\r\n                            values,\r\n                            errors,\r\n                            touched,\r\n                            handleChange,\r\n                            handleBlur,\r\n                            handleSubmit,\r\n                            isSubmitting,\r\n                            setFieldValue,\r\n                        }) => (\r\n                                <form className={classes.form} onSubmit={handleSubmit}>\r\n                                    <Grid container spacing={1}>\r\n                                        <Grid item xs={12}>\r\n                                            <Paper style={{ backgroundColor: 'black', padding: '20px' }}>\r\n                                                Select the attributes for training the model\r\n                                        </Paper>\r\n                                            <Grid container spacing={1}>\r\n                                                {columnNames.map((column, index) =>\r\n                                                    <Grid item xs={4} key={index}>\r\n                                                        {column !== values.selectedColumn && (\r\n                                                            <FormControlLabel\r\n                                                                control={<Checkbox\r\n                                                                    checked={values.xColumns.includes(column)}\r\n                                                                    color=\"default\"\r\n                                                                    name={column}\r\n                                                                    onChange={(event) => {\r\n                                                                        let array = values.xColumns;\r\n                                                                        if (array.includes(event.target.name)) {\r\n                                                                            const newArray = array.filter((col) => col !== event.target.name);\r\n                                                                            setFieldValue('xColumns', newArray, false)\r\n                                                                        } else {\r\n                                                                            array.push(event.target.name)\r\n                                                                            setFieldValue('xColumns', array, false)\r\n                                                                        }\r\n                                                                    }}\r\n                                                                />}\r\n                                                                label={column}\r\n                                                            />\r\n                                                        )}\r\n                                                    </Grid>\r\n                                                )}\r\n                                            </Grid>\r\n                                        </Grid>\r\n                                        <Grid item xs={12}>\r\n                                            <TextField id=\"select\"\r\n                                                label=\"Y Attribute\" select\r\n                                                fullWidth\r\n                                                value={values.selectedColumn}\r\n                                                name=\"selectedColumn\"\r\n                                                onChange={handleChange}\r\n                                                variant=\"filled\"\r\n                                            >\r\n                                                {columnNames.map((column, index) =>\r\n                                                    <MenuItem key={index} value={column}>{column}</MenuItem>\r\n                                                )}\r\n                                            </TextField>\r\n                                            <FormHelperText>Select a column</FormHelperText>\r\n                                        </Grid>\r\n                                        <Grid item xs={6}>\r\n                                            <TextField\r\n                                                variant=\"filled\"\r\n                                                label=\"L1\"\r\n                                                name=\"l1\"\r\n                                                type=\"number\"\r\n                                                onChange={handleChange}\r\n                                                onBlur={handleBlur}\r\n                                                value={values.l1}\r\n\r\n                                            />\r\n                                            <div style={{ margin: \"10px\", color: \"red\" }}>\r\n                                                {errors.l1 && touched.l1 && errors.l1}\r\n                                            </div>\r\n                                        </Grid>\r\n                                        <Grid item xs={6}>\r\n                                            <TextField\r\n                                                variant=\"filled\"\r\n                                                label=\"L2\"\r\n                                                name=\"l2\"\r\n                                                type=\"number\"\r\n                                                onChange={handleChange}\r\n                                                onBlur={handleBlur}\r\n                                                value={values.l2}\r\n                                            />\r\n                                            <div style={{ margin: \"10px\", color: \"red\" }}>\r\n                                                {errors.l2 && touched.l2 && errors.l2}\r\n                                            </div>\r\n                                        </Grid>\r\n                                        <Grid item xs={6}>\r\n                                            <TextField\r\n                                                variant=\"filled\"\r\n                                                label=\"Batch Size\"\r\n                                                name=\"batchSize\"\r\n                                                type=\"number\"\r\n                                                onChange={handleChange}\r\n                                                onBlur={handleBlur}\r\n                                                value={values.batchSize}\r\n                                            />\r\n                                            <div style={{ margin: \"10px\", color: \"red\" }}>\r\n                                                {errors.batchSize && touched.batchSize && errors.batchSize}\r\n                                            </div>\r\n                                        </Grid>\r\n                                        <Grid item xs={6}>\r\n                                            <TextField\r\n                                                variant=\"filled\"\r\n                                                label=\"Validation Split\"\r\n                                                name=\"validationSplit\"\r\n                                                type=\"number\"\r\n                                                onChange={handleChange}\r\n                                                onBlur={handleBlur}\r\n                                                value={values.validationSplit}\r\n                                            />\r\n                                            <div style={{ margin: \"10px\", color: \"red\" }}>\r\n                                                {errors.validationSplit && touched.validationSplit && errors.validationSplit}\r\n                                            </div>\r\n                                        </Grid>\r\n                                        <Grid item xs={6}>\r\n                                            <TextField\r\n                                                variant=\"filled\"\r\n                                                label=\"Learning Rate\"\r\n                                                name=\"learningRate\"\r\n                                                type=\"number\"\r\n                                                onChange={handleChange}\r\n                                                onBlur={handleBlur}\r\n                                                value={values.learningRate}\r\n                                            />\r\n                                            <div style={{ margin: \"10px\", color: \"red\" }}>\r\n                                                {errors.learningRate && touched.learningRate && errors.learningRate}\r\n                                            </div>\r\n                                        </Grid>\r\n                                        <Grid item xs={6}>\r\n                                            <TextField\r\n                                                variant=\"filled\"\r\n                                                label=\"Epochs\"\r\n                                                name=\"epochs\"\r\n                                                type=\"number\"\r\n                                                onChange={handleChange}\r\n                                                onBlur={handleBlur}\r\n                                                value={values.epochs}\r\n                                            />\r\n                                            <div style={{ margin: \"10px\", color: \"red\" }}>\r\n                                                {errors.epochs && touched.epochs && errors.epochs}\r\n                                            </div>\r\n                                        </Grid>\r\n                                    </Grid>\r\n                                    <div style={{ margin: '20px', textAlign: 'center' }}>\r\n                                        <Button\r\n                                            style={{ width: '100%' }}\r\n                                            type=\"submit\"\r\n                                            fullWidth\r\n                                            variant=\"contained\"\r\n                                            color=\"primary\"\r\n                                            className={classes.submit}\r\n                                            disabled={isSubmitting}\r\n                                        >\r\n                                            Perform\r\n                                    </Button>\r\n                                    </div>\r\n                                </form>\r\n                            )}\r\n                        </Formik>\r\n                        {\r\n                            performPred &&\r\n                            <>\r\n                                <TextField\r\n                                    variant=\"filled\"\r\n                                    label=\"Predictor\"\r\n                                    name=\"Predictor\"\r\n                                    value={predInput}\r\n                                    onChange={(_) => setPredInput(_.target.value)}\r\n                                />\r\n                                <Button onClick={() => tfvis.visor().open()}>Show Charts</Button>\r\n                                <Button onClick={async () => {\r\n                                    setPrediction('');\r\n                                    const inputs = String(predInput).split(',').map(value => Number(value));\r\n                                    const predictedValue = await PredictValues(lin_reg_cache.model, inputs);\r\n                                    setPrediction(predictedValue);\r\n                                }}>PREDICT</Button>\r\n                            </>\r\n                        }\r\n                        {\r\n                            performPred && prediction !== \"\" &&\r\n                            <Alert onClose={() => { setPrediction('') }} severity=\"success\">\r\n                                The predicted value is {prediction}\r\n                            </Alert>\r\n                        }\r\n                    </div>\r\n                ) : (\r\n                        <div style={{ paddingTop: '50px', textAlign: 'center' }}>\r\n                            Please select a dataset\r\n                        </div>\r\n                    )}\r\n            </Grid>\r\n\r\n        </Grid >\r\n    )\r\n}\r\n\r\n","let dt = (function () {\r\n          \r\n    /**\r\n     * Creates an instance of DecisionTree\r\n     *\r\n     * @constructor\r\n     * @param builder - contains training set and\r\n     *                  some configuration parameters\r\n     */\r\n    function DecisionTree(builder) {        \r\n        this.root = buildDecisionTree({\r\n            trainingSet: builder.trainingSet,\r\n            ignoredAttributes: arrayToHashSet(builder.ignoredAttributes),\r\n            categoryAttr: builder.categoryAttr || 'category',\r\n            minItemsCount: builder.minItemsCount || 1,\r\n            entropyThrehold: builder.entropyThrehold || 0.01,\r\n            maxTreeDepth: builder.maxTreeDepth || 70\r\n        });\r\n    }\r\n          \r\n    DecisionTree.prototype.predict = function (item) {\r\n        return predict(this.root, item);\r\n    }\r\n\r\n    /**\r\n     * Creates an instance of RandomForest\r\n     * with specific number of trees\r\n     *\r\n     * @constructor\r\n     * @param builder - contains training set and some\r\n     *                  configuration parameters for\r\n     *                  building decision trees\r\n     */\r\n    function RandomForest(builder, treesNumber) {\r\n        this.trees = buildRandomForest(builder, treesNumber);\r\n    }\r\n          \r\n    RandomForest.prototype.predict = function (item) {\r\n        return predictRandomForest(this.trees, item);\r\n    }\r\n    \r\n    /**\r\n     * Transforming array to object with such attributes \r\n     * as elements of array (afterwards it can be used as HashSet)\r\n     */\r\n    function arrayToHashSet(array) {\r\n        let hashSet = {};\r\n        if (array) {\r\n            for(let i in array) {\r\n                let attr = array[i];\r\n                hashSet[attr] = true;\r\n            }\r\n        }\r\n        return hashSet;\r\n    }\r\n    \r\n    /**\r\n     * Calculating how many objects have the same \r\n     * values of specific attribute.\r\n     *\r\n     * @param items - array of objects\r\n     *\r\n     * @param attr  - letiable with name of attribute, \r\n     *                which embedded in each object\r\n     */\r\n    function countUniqueValues(items, attr) {\r\n        let counter = {};\r\n\r\n        // detecting different values of attribute\r\n        for (let i = items.length - 1; i >= 0; i--) {\r\n            // items[i][attr] - value of attribute\r\n            counter[items[i][attr]] = 0;\r\n        }\r\n          \r\n        // counting number of occurrences of each of values\r\n        // of attribute\r\n        for (let i = items.length - 1; i >= 0; i--) {\r\n            counter[items[i][attr]] += 1;\r\n        }\r\n\r\n        return counter;\r\n    }\r\n    \r\n    /**\r\n     * Calculating entropy of array of objects \r\n     * by specific attribute.\r\n     *\r\n     * @param items - array of objects\r\n     *\r\n     * @param attr  - letiable with name of attribute, \r\n     *                which embedded in each object\r\n     */\r\n    function entropy(items, attr) {\r\n        // counting number of occurrences of each of values\r\n        // of attribute\r\n        let counter = countUniqueValues(items, attr);\r\n\r\n        let entropy = 0;\r\n        let p;\r\n        for (let i in counter) {\r\n            p = counter[i] / items.length;\r\n            entropy += -p * Math.log(p);\r\n        }\r\n\r\n        return entropy;\r\n    }\r\n          \r\n    /**\r\n     * Splitting array of objects by value of specific attribute, \r\n     * using specific predicate and pivot.\r\n     *\r\n     * Items which matched by predicate will be copied to \r\n     * the new array called 'match', and the rest of the items \r\n     * will be copied to array with name 'notMatch'\r\n     *\r\n     * @param items - array of objects\r\n     *\r\n     * @param attr  - letiable with name of attribute,\r\n     *                which embedded in each object\r\n     *\r\n     * @param predicate - function(x, y) \r\n     *                    which returns 'true' or 'false'\r\n     *\r\n     * @param pivot - used as the second argument when \r\n     *                calling predicate function:\r\n     *                e.g. predicate(item[attr], pivot)\r\n     */\r\n    function split(items, attr, predicate, pivot) {\r\n        let match = [];\r\n        let notMatch = [];\r\n\r\n        let item,\r\n            attrValue;\r\n          \r\n        for (let i = items.length - 1; i >= 0; i--) {\r\n            item = items[i];\r\n            attrValue = item[attr];\r\n\r\n            if (predicate(attrValue, pivot)) {\r\n                match.push(item);\r\n            } else {\r\n                notMatch.push(item);\r\n            }\r\n        };\r\n\r\n        return {\r\n            match: match,\r\n            notMatch: notMatch\r\n        };\r\n    }\r\n\r\n    /**\r\n     * Finding value of specific attribute which is most frequent\r\n     * in given array of objects.\r\n     *\r\n     * @param items - array of objects\r\n     *\r\n     * @param attr  - letiable with name of attribute, \r\n     *                which embedded in each object\r\n     */\r\n    function mostFrequentValue(items, attr) {\r\n        // counting number of occurrences of each of values\r\n        // of attribute\r\n        let counter = countUniqueValues(items, attr);\r\n\r\n        let mostFrequentCount = 0;\r\n        let mostFrequentValue;\r\n\r\n        for (let value in counter) {\r\n            if (counter[value] > mostFrequentCount) {\r\n                mostFrequentCount = counter[value];\r\n                mostFrequentValue = value;\r\n            }\r\n        };\r\n\r\n        return mostFrequentValue;\r\n    }\r\n          \r\n    let predicates = {\r\n        '===': function (a, b) { return a === b },\r\n        '>=': function (a, b) { return a >= b }\r\n    };\r\n\r\n    /**\r\n     * Function for building decision tree\r\n     */\r\n    function buildDecisionTree(builder) {\r\n\r\n        let trainingSet = builder.trainingSet;\r\n        let minItemsCount = builder.minItemsCount;\r\n        let categoryAttr = builder.categoryAttr;\r\n        let entropyThrehold = builder.entropyThrehold;\r\n        let maxTreeDepth = builder.maxTreeDepth;\r\n        let ignoredAttributes = builder.ignoredAttributes;\r\n\r\n        if ((maxTreeDepth === 0) || (trainingSet.length <= minItemsCount)) {\r\n            // restriction by maximal depth of tree\r\n            // or size of training set is to small\r\n            // so we have to terminate process of building tree\r\n            return {\r\n                category: mostFrequentValue(trainingSet, categoryAttr)\r\n            };\r\n        }\r\n\r\n        let initialEntropy = entropy(trainingSet, categoryAttr);\r\n\r\n        if (initialEntropy <= entropyThrehold) {\r\n            // entropy of training set too small\r\n            // (it means that training set is almost homogeneous),\r\n            // so we have to terminate process of building tree\r\n            return {\r\n                category: mostFrequentValue(trainingSet, categoryAttr)\r\n            };\r\n        }\r\n\r\n        // used as hash-set for avoiding the checking of split by rules\r\n        // with the same 'attribute-predicate-pivot' more than once\r\n        let alreadyChecked = {};\r\n          \r\n        // this letiable expected to contain rule, which splits training set\r\n        // into subsets with smaller values of entropy (produces informational gain)\r\n        let bestSplit = {gain: 0};\r\n\r\n        for (let i = trainingSet.length - 1; i >= 0; i--) {\r\n            let item = trainingSet[i];\r\n\r\n            // iterating over all attributes of item\r\n            for (let attr in item) {\r\n                if ((attr === categoryAttr) || ignoredAttributes[attr]) {\r\n                    continue;\r\n                }\r\n\r\n                // let the value of current attribute be the pivot\r\n                let pivot = item[attr];\r\n\r\n                // pick the predicate\r\n                // depending on the type of the attribute value\r\n                let predicateName;\r\n                if (typeof pivot === 'number') {\r\n                    predicateName = '>=';\r\n                } else {\r\n                    // there is no sense to compare non-numeric attributes\r\n                    // so we will check only equality of such attributes\r\n                    predicateName = '===';\r\n                }\r\n\r\n                let attrPredPivot = attr + predicateName + pivot;\r\n                if (alreadyChecked[attrPredPivot]) {\r\n                    // skip such pairs of 'attribute-predicate-pivot',\r\n                    // which been already checked\r\n                    continue;\r\n                }\r\n                alreadyChecked[attrPredPivot] = true;\r\n\r\n                let predicate = predicates[predicateName];\r\n          \r\n                // splitting training set by given 'attribute-predicate-value'\r\n                let currSplit = split(trainingSet, attr, predicate, pivot);\r\n\r\n                // calculating entropy of subsets\r\n                let matchEntropy = entropy(currSplit.match, categoryAttr);\r\n                let notMatchEntropy = entropy(currSplit.notMatch, categoryAttr);\r\n\r\n                // calculating informational gain\r\n                let newEntropy = 0;\r\n                newEntropy += matchEntropy * currSplit.match.length;\r\n                newEntropy += notMatchEntropy * currSplit.notMatch.length;\r\n                newEntropy /= trainingSet.length;\r\n                let currGain = initialEntropy - newEntropy;\r\n\r\n                if (currGain > bestSplit.gain) {\r\n                    // remember pairs 'attribute-predicate-value'\r\n                    // which provides informational gain\r\n                    bestSplit = currSplit;\r\n                    bestSplit.predicateName = predicateName;\r\n                    bestSplit.predicate = predicate;\r\n                    bestSplit.attribute = attr;\r\n                    bestSplit.pivot = pivot;\r\n                    bestSplit.gain = currGain;\r\n                }\r\n            }\r\n        }\r\n\r\n        if (!bestSplit.gain) {\r\n            // can't find optimal split\r\n            return { category: mostFrequentValue(trainingSet, categoryAttr) };\r\n        }\r\n\r\n        // building subtrees\r\n          \r\n        builder.maxTreeDepth = maxTreeDepth - 1;\r\n\r\n        builder.trainingSet = bestSplit.match;\r\n        let matchSubTree = buildDecisionTree(builder);\r\n\r\n        builder.trainingSet = bestSplit.notMatch;\r\n        let notMatchSubTree = buildDecisionTree(builder);\r\n\r\n        return {\r\n            attribute: bestSplit.attribute,\r\n            predicate: bestSplit.predicate,\r\n            predicateName: bestSplit.predicateName,\r\n            pivot: bestSplit.pivot,\r\n            match: matchSubTree,\r\n            notMatch: notMatchSubTree,\r\n            matchedCount: bestSplit.match.length,\r\n            notMatchedCount: bestSplit.notMatch.length\r\n        };\r\n    }\r\n\r\n    /**\r\n     * Classifying item, using decision tree\r\n     */\r\n    function predict(tree, item) {\r\n        let attr,\r\n            value,\r\n            predicate,\r\n            pivot;\r\n        \r\n        // Traversing tree from the root to leaf\r\n        while(true) {\r\n          \r\n            if (tree.category) {\r\n                // only leafs contains predicted category\r\n                return tree.category;\r\n            }\r\n\r\n            attr = tree.attribute;\r\n            value = item[attr];\r\n\r\n            predicate = tree.predicate;\r\n            pivot = tree.pivot;\r\n\r\n            // move to one of subtrees\r\n            if (predicate(value, pivot)) {\r\n                tree = tree.match;\r\n            } else {\r\n                tree = tree.notMatch;\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Building array of decision trees\r\n     */\r\n    function buildRandomForest(builder, treesNumber) {\r\n        let items = builder.trainingSet;\r\n          \r\n        // creating training sets for each tree\r\n        let trainingSets = [];\r\n        for (let t = 0; t < treesNumber; t++) {\r\n            trainingSets[t] = [];\r\n        }\r\n        for (let i = items.length - 1; i >= 0 ; i--) {\r\n          // assigning items to training sets of each tree\r\n          // using 'round-robin' strategy\r\n          let correspondingTree = i % treesNumber;\r\n          trainingSets[correspondingTree].push(items[i]);\r\n        }\r\n\r\n        // building decision trees\r\n        let forest = [];\r\n        for (let t = 0; t < treesNumber; t++) {\r\n            builder.trainingSet = trainingSets[t];\r\n\r\n            let tree = new DecisionTree(builder);\r\n            forest.push(tree);\r\n        }\r\n        return forest;\r\n    }\r\n\r\n    /**\r\n     * Each of decision tree classifying item\r\n     * ('voting' that item corresponds to some class).\r\n     *\r\n     * This function returns hash, which contains \r\n     * all classifying results, and number of votes \r\n     * which were given for each of classifying results\r\n     */\r\n    function predictRandomForest(forest, item) {\r\n        let result = {};\r\n        for (let i in forest) {\r\n            let tree = forest[i];\r\n            let prediction = tree.predict(item);\r\n            result[prediction] = result[prediction] ? result[prediction] + 1 : 1;\r\n        }\r\n        return result;\r\n    }\r\n\r\n    let exports = {};\r\n    exports.DecisionTree = DecisionTree;\r\n    exports.RandomForest = RandomForest;\r\n    return exports;\r\n})();\r\n\r\nexport default dt;","import React, { useState, useEffect, useRef, useContext } from 'react';\r\nimport dt from './utils';\r\nimport { csvContext } from '../context/csv-context';\r\nimport LoadDataset from '../utils/LoadDataset';\r\nimport Description from '../utils/Description';\r\nimport Alert from '@material-ui/lab/Alert';\r\nimport Button from '@material-ui/core/Button';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport CsvReader from '../utils/CsvReader';\r\nimport CsvTable from '../utils/CsvTable';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport FormHelperText from '@material-ui/core/FormHelperText';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport Select from '@material-ui/core/Select';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport FunctionsIcon from '@material-ui/icons/Functions';\r\nimport AccountTreeIcon from '@material-ui/icons/AccountTree';\r\nimport TitleBar from '../utils/TitleBar';\r\n\r\nimport './DecisionTree.css';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        '& > *': {\r\n          margin: theme.spacing(1),\r\n          width: '25ch',\r\n        },\r\n    },\r\n    button: {\r\n        margin: theme.spacing(1),\r\n        width: '100%',\r\n    },\r\n    formControl: {\r\n      margin: theme.spacing(1),\r\n      minWidth: 120,\r\n    },\r\n    selectEmpty: {\r\n      marginTop: theme.spacing(2),\r\n    },\r\n    descDiv: {\r\n        background: '#505050', \r\n        width: '100%', \r\n        padding: '15px',\r\n        fontSize: '14px',\r\n    },\r\n    borderDiv: {\r\n        marginBottom: '20px', \r\n        padding: '10px', \r\n        borderBottom: '1px solid white',\r\n    }\r\n}));\r\n\r\nconst DecisionTree = () => {\r\n    const classes = useStyles();\r\n    const { csv } = useContext(csvContext);\r\n    const [columns, setColumns] = useState([]);\r\n    const [dTree, setDTree] = useState();\r\n    const [config, setConfig] = useState({\r\n        trainingSet: null, \r\n        categoryAttr: '', \r\n        ignoredAttributes: [] \r\n    })\r\n\r\n    const [predictionForm, setPredictionForm] = useState({\r\n        columns: [],\r\n        details: {}\r\n    });\r\n\r\n    const scrollToRef = (ref) => window.scrollTo(0, ref.current.offsetTop) \r\n    const [error, setError] = useState('');\r\n    const [prediction, setPrediction] = useState('')\r\n\r\n    useEffect( () => {\r\n        if (csv) {\r\n            async function Fetch() {\r\n                setDTree(null);\r\n                dT.current.innerHTML = null\r\n                let cols = await csv.columnNames()\r\n                let [lastItem] = cols.slice(-1)\r\n                setColumns(cols);\r\n                setConfig({\r\n                    trainingSet: await csv.toArray(),\r\n                    categoryAttr: lastItem,\r\n                    ignoredAttributes: [] \r\n                })\r\n            }\r\n            Fetch();\r\n        }\r\n    }, [csv]) \r\n\r\n    useEffect(() => {\r\n        if (dTree) {\r\n            let reqCols = columns.filter(n => !config.ignoredAttributes.includes(n))\r\n            reqCols = reqCols.filter(n => n !== config.categoryAttr)\r\n            let details = {};\r\n            reqCols.forEach(col => {\r\n                details[col] = '';\r\n            });\r\n            setPredictionForm({\r\n                columns: reqCols,\r\n                details: details\r\n            })\r\n        }\r\n    }, [columns, config, dTree])\r\n\r\n    const dT = useRef();\r\n\r\n    const ignoreColumn = (event) => {\r\n        let array = config.ignoredAttributes;\r\n        if (array.includes(event.target.name)) {\r\n            const newArray = array.filter((col) => col !== event.target.name);\r\n            setConfig({\r\n                ...config,\r\n                ignoredAttributes: newArray\r\n            })\r\n        } else {\r\n            array.push(event.target.name)\r\n            setConfig({\r\n                ...config,\r\n                ignoredAttributes: array\r\n            })\r\n        }\r\n    }\r\n\r\n    const chooseCategoryAttr = (event) => {\r\n        setConfig({\r\n            ...config,\r\n            categoryAttr: event.target.value\r\n        })\r\n    }\r\n\r\n    const changeDetails = (event) => {\r\n        let details = predictionForm.details\r\n        details[event.target.name] = event.target.value\r\n        setPredictionForm({\r\n            ...predictionForm,\r\n            details: details\r\n        })\r\n    }\r\n\r\n    // Recursive (DFS) function for displaying inner structure of decision tree\r\n    const treeToHtml = (tree) => {\r\n        // only leafs containing category\r\n        if (tree.category) {\r\n            return  ['<ul>',\r\n                        '<li>',\r\n                            '<button>',\r\n                                '<b>', tree.category, '</b>',\r\n                            '</button>',\r\n                        '</li>',\r\n                    '</ul>'].join('');\r\n        }\r\n        \r\n        return  ['<ul>',\r\n                    '<li>',\r\n                        '<button>',\r\n                            '<b>', tree.attribute, ' ', tree.predicateName, ' ', tree.pivot, ' ?</b>',\r\n                        '</button>',\r\n                        '<ul>',\r\n                            '<li>',\r\n                                '<button>yes</button>',\r\n                                treeToHtml(tree.match),\r\n                            '</li>',\r\n                            '<li>', \r\n                                '<button>no</button>',\r\n                                treeToHtml(tree.notMatch),\r\n                            '</li>',\r\n                        '</ul>',\r\n                    '</li>',\r\n                '</ul>'].join('');\r\n    }\r\n\r\n    const generateTree = () => {\r\n        try {\r\n            // Building Decision Tree\r\n            let decisionTree = new dt.DecisionTree(config);\r\n            setDTree(decisionTree)\r\n            // Displaying Decision Tree\r\n            dT.current.innerHTML = treeToHtml(decisionTree.root);\r\n        } catch (err) {\r\n            setError(err)\r\n        }\r\n    }\r\n\r\n    const predictTree = () => {\r\n        // Building Decision Tree\r\n        let decisionTree = new dt.DecisionTree(config);\r\n\r\n        // Testing Decision Tree and Random Forest\r\n        let details = predictionForm.details;\r\n\r\n        let decisionTreePrediction = decisionTree.predict(details);\r\n        setPrediction(decisionTreePrediction)\r\n        // Displaying Decision Tree\r\n        dT.current.innerHTML = treeToHtml(decisionTree.root);\r\n    }\r\n    \r\n    return (\r\n        <Grid container>\r\n            <Grid item md={6} xs={12}>\r\n                <TitleBar name=\"Decision Tree\" tags={['Classification', 'Tree']} />\r\n                <CsvReader />\r\n                <CsvTable />\r\n            </Grid>\r\n            <Grid item md={6} xs={12}>\r\n                <LoadDataset />\r\n                <Description desc=\"dt\" />\r\n                {csv ? (\r\n                        <div style={{ padding: '10px' }}>\r\n                            {error && (\r\n                                <Alert onClose={() => setError('')} severity=\"error\">\r\n                                    {error}\r\n                                </Alert>\r\n                            )}\r\n                            {columns && (\r\n                                <React.Fragment>  \r\n                                    <div className={classes.borderDiv}>\r\n                                        <Paper className={classes.descDiv}>\r\n                                            Select the column to be predicted\r\n                                        </Paper>\r\n                                        <FormControl className={classes.formControl}>\r\n                                            <Select\r\n                                                value={config.categoryAttr}\r\n                                                onChange={chooseCategoryAttr}\r\n                                                displayEmpty\r\n                                                className={classes.selectEmpty}\r\n                                                inputProps={{ 'aria-label': 'Without label' }}\r\n                                            >\r\n                                                {columns.map((column, index) => \r\n                                                    <MenuItem key={index} value={column}>{column}</MenuItem>\r\n                                                )}\r\n                                            </Select>\r\n                                            <FormHelperText>Select a column</FormHelperText>\r\n                                        </FormControl>\r\n                                    </div>\r\n                                    <div className={classes.borderDiv}>\r\n                                        <Paper className={classes.descDiv}>\r\n                                            Check the columns to be ignored\r\n                                        </Paper>\r\n                                        {columns.map((column, index) => \r\n                                            <div key={index}>\r\n                                                {column !== config.categoryAttr && (\r\n                                                    <FormControlLabel\r\n                                                        control={<Checkbox \r\n                                                                    checked={config.ignoredAttributes.includes(column)} \r\n                                                                    color=\"default\" \r\n                                                                    name={column}\r\n                                                                    onChange={ignoreColumn} \r\n                                                                />}\r\n                                                        label={column}       \r\n                                                    />\r\n                                                )}\r\n                                            </div>\r\n                                        )}\r\n                                    </div>\r\n                                </React.Fragment>\r\n                            )}\r\n\r\n\r\n                            <div style={{ textAlign: 'center' }}>\r\n                                <Button variant=\"contained\" color=\"primary\" onClick={generateTree}>Generate Decision Tree</Button>\r\n                            </div>\r\n                            {dTree && (\r\n                                <div style={{ marginTop: '20px', padding: '10px' }}>\r\n                                    <Paper className={classes.descDiv}>\r\n                                        Make a Prediction\r\n                                    </Paper>\r\n                                    <form className={classes.root} noValidate autoComplete=\"off\">\r\n                                        {predictionForm.columns.map((column, index) => \r\n                                            <TextField \r\n                                                key={index}  \r\n                                                label={column} \r\n                                                name={column}\r\n                                                value={predictionForm.details.column}\r\n                                                onChange={changeDetails}\r\n                                            />\r\n                                        )}\r\n                                    </form>\r\n                                    <Grid style={{ marginBottom: '20px' }} container spacing={4}>\r\n                                        <Grid item xs={6}>\r\n                                            <Button\r\n                                                variant=\"contained\"\r\n                                                color=\"primary\"\r\n                                                className={classes.button}\r\n                                                startIcon={<FunctionsIcon />}\r\n                                                onClick={predictTree}\r\n                                            >\r\n                                                Predict\r\n                                            </Button>      \r\n                                        </Grid>\r\n                                        <Grid item xs={6}>\r\n                                            <Button\r\n                                                variant=\"contained\"\r\n                                                color=\"primary\"\r\n                                                className={classes.button}\r\n                                                startIcon={<AccountTreeIcon />}\r\n                                                onClick={() => {scrollToRef(dT)}}\r\n                                            >\r\n                                                View Tree\r\n                                            </Button>       \r\n                                        </Grid>\r\n                                    </Grid>\r\n                                </div>\r\n                            )}\r\n                            {prediction && (\r\n                                <Alert onClose={() => {setPrediction('')}} severity=\"success\">\r\n                                    The predicted value is {prediction}\r\n                                </Alert>\r\n                            )}\r\n                        </div>\r\n                ) : (\r\n                        <div style={{ paddingTop: '50px', textAlign: 'center' }}>\r\n                            Please select a dataset \r\n                        </div>\r\n                )}\r\n                \r\n            </Grid>\r\n            {dTree && (\r\n                <Paper style={{ width: '100%', margin: '20px', padding: '20px', textAlign: 'center', backgroundColor: '#000000' }}>\r\n                    <Typography variant=\"h4\" gutterBottom>\r\n                        Decision Tree\r\n                    </Typography>\r\n                </Paper>\r\n            )}\r\n            <div className=\"tree-wrapper\">\r\n                <div className=\"tree\" ref={dT} />\r\n            </div>\r\n        </Grid>\r\n        \r\n    );\r\n}\r\n\r\nexport default DecisionTree;\r\n","let figue = function () {\r\n\r\n\r\n\tfunction euclidianDistance (vec1 , vec2) {\r\n\t\tlet N = vec1.length ;\r\n\t\tlet d = 0 ;\r\n\t\tfor (let i = 0 ; i < N ; i++)\r\n\t\t\td += Math.pow (vec1[i] - vec2[i], 2)\r\n\t\td = Math.sqrt (d) ;\r\n\t\treturn d ;\r\n\t}\r\n\r\n\tfunction manhattanDistance (vec1 , vec2) {\r\n\t\tlet N = vec1.length ;\r\n\t\tlet d = 0 ;\r\n\t\tfor (let i = 0 ; i < N ; i++)\r\n\t\t\td += Math.abs (vec1[i] - vec2[i])\r\n\t\treturn d ;\r\n\t}\r\n\r\n\tfunction maxDistance (vec1 , vec2) {\r\n\t\tlet N = vec1.length ;\r\n\t\tlet d = 0 ;\r\n\t\tfor (let i = 0 ; i < N ; i++)\r\n\t\t\td = Math.max (d , Math.abs (vec1[i] - vec2[i])) ;\r\n\t\treturn d ;\r\n\t}\r\n\r\n\tfunction addVectors (vec1 , vec2) {\r\n\t\tlet N = vec1.length ;\r\n\t\tlet vec = new Array(N) ;\r\n\t\tfor (let i = 0 ; i < N ; i++)\r\n\t\t\tvec[i] = vec1[i] + vec2[i] ;\r\n\t\treturn vec ;\r\n\t}\t\r\n\r\n\tfunction multiplyVectorByValue (value , vec) {\r\n\t\tlet N = vec.length ;\r\n\t\tlet v = new Array(N) ;\r\n\t\tfor (let i = 0 ; i < N ; i++)\r\n\t\t\tv[i] = value * vec[i] ;\r\n\t\treturn v ;\r\n\t}\t\r\n\t\r\n\t// function vectorDotProduct (vec1, vec2) {\r\n\t// \tlet N = vec1.length ;\r\n\t// \tlet s = 0 ;\r\n\t// \tfor (let i = 0 ; i < N ; i++)\r\n\t// \t\ts += vec1[i] * vec2[i] ;\r\n\t// \treturn s ;\r\n\t// }\r\n\t\r\n\r\n\tfunction repeatChar(c, n) {\r\n\t\tlet str = \"\";\r\n\t\tfor (let i = 0 ; i < n ; i++)\r\n\t\t\tstr += c ;\r\n\t\treturn str ;\r\n\t}\r\n\t\r\n\tfunction calculateCentroid (c1Size , c1Centroid , c2Size , c2Centroid) {\r\n\t\tlet newCentroid = new Array(c1Centroid.length) ;\r\n\t\tlet newSize = c1Size + c2Size ;\r\n\t\tfor (let i = 0 ; i < c1Centroid.length ; i++) \r\n\t\t\tnewCentroid[i] = (c1Size * c1Centroid[i] + c2Size * c2Centroid[i]) / newSize ;\r\n\t\treturn newCentroid ;\t\r\n\t}\r\n\r\n\r\n\tfunction centerString(str, width) {\r\n\t\tlet diff = width - str.length ;\r\n\t\tif (diff < 0)\r\n\t\t\treturn ;\r\n\r\n\t\tlet halfdiff = Math.floor(diff / 2) ;\r\n\t\treturn repeatChar (\" \" , halfdiff) + str + repeatChar (\" \" , diff - halfdiff)  ;\r\n\t}\r\n\r\n\tfunction putString(str, width, index) {\r\n\t\tlet diff = width - str.length ;\r\n\t\tif (diff < 0)\r\n\t\t\treturn ;\r\n\r\n\t\treturn repeatChar (\" \" , index) + str + repeatChar (\" \" , width - (str.length+index)) ;\r\n\t}\r\n\r\n\tfunction prettyVector(vector) {\r\n\t\tlet vals = new Array(vector.length) ;\r\n\t\tlet precision = Math.pow(10, figue.PRINT_VECTOR_VALUE_PRECISION) ; \r\n\t\tfor (let i = 0 ; i < vector.length ; i++)\r\n\t\t\tvals[i] = Math.round(vector[i]*precision)/precision ;\r\n\t\treturn vals.join(\",\")\r\n\t}\r\n\r\n\tfunction prettyValue(value) {\r\n\t\tlet precision = Math.pow(10, figue.PRINT_VECTOR_VALUE_PRECISION) ; \r\n\t\treturn String (Math.round(value*precision)/precision) ;\r\n\t}\r\n\r\n\tfunction generateDendogram(tree, sep, balanced, withLabel, withCentroid, withDistance) {\r\n\t\tlet lines = [];\r\n\t\tlet centroidstr = prettyVector(tree.centroid) ;\r\n\t\tif (tree.isLeaf()) {\r\n\t\t\tlet labelstr = String(tree.label) ;\r\n\t\t\tlet len = 1;\r\n\t\t\tif (withCentroid) \r\n\t\t\t\tlen = Math.max(centroidstr.length , len) ;\r\n\t\t\tif (withLabel)\r\n\t\t\t\tlen = Math.max(labelstr.length , len) ;\r\n\r\n\t\t\tlines.push (centerString (\"|\" , len)) ;\r\n\t\t\tif (withCentroid) \r\n\t\t\t\tlines.push (centerString (centroidstr , len)) ;\r\n\t\t\tif (withLabel) \r\n\t\t\t\tlines.push (centerString (labelstr , len)) ;\r\n\r\n\t\t} else {\r\n\t\t\tlet distancestr = prettyValue(tree.dist) ;\r\n\t\t\tlet left_dendo = generateDendogram(tree.left ,sep, balanced,withLabel,withCentroid, withDistance) ;\r\n\t\t\tlet right_dendo = generateDendogram(tree.right, sep, balanced,withLabel,withCentroid,withDistance) ;\r\n\t\t\tlet left_bar_ix = left_dendo[0].indexOf(\"|\") ;\r\n\t\t\tlet right_bar_ix = right_dendo[0].indexOf(\"|\") ;\r\n\t\r\n\t\t\t// calculate nb of chars of each line\r\n\t\t\tlet len = sep + right_dendo[0].length + left_dendo[0].length ;\r\n\t\t\tif (withCentroid) \r\n\t\t\t\tlen = Math.max(centroidstr.length , len) ;\r\n\t\t\tif (withDistance) \r\n\t\t\t\tlen = Math.max(distancestr.length , len) ;\r\n\r\n\r\n\t\t\t// calculate position of new vertical bar\r\n\t\t\tlet bar_ix =  left_bar_ix + Math.floor(( left_dendo[0].length - (left_bar_ix) + sep + (1+right_bar_ix)) / 2) ;\r\n\t\t\t\r\n\t\t\t// add line with the new vertical bar \r\n\t\t\tlines.push (putString (\"|\" , len , bar_ix)) ;\r\n\t\t\tif (withCentroid) {\r\n\t\t\t\tlines.push (putString (centroidstr , len , bar_ix - Math.floor (centroidstr.length / 2))) ; //centerString (centroidstr , len)) ;\r\n\t\t\t}\r\n\t\t\tif (withDistance) {\r\n\t\t\t\tlines.push (putString (distancestr , len , bar_ix - Math.floor (distancestr.length / 2))) ; //centerString (centroidstr , len)) ;\r\n\t\t\t}\r\n\t\t\t\t\r\n\t\t\t// add horizontal line to connect the vertical bars of the lower level\r\n\t\t\tlet hlineLen = sep + (left_dendo[0].length -left_bar_ix) + right_bar_ix+1 ;\r\n\t\t\tlet hline = repeatChar (\"_\" , hlineLen) ;\r\n\t\t\tlines.push (putString(hline, len, left_bar_ix)) ;\r\n\t\r\n\t\t\t// IF: the user want the tree to be balanced: all the leaves have to be at the same level\r\n\t\t\t// THEN: if the left and right subtrees have not the same depth, add extra vertical bars to the top of the smallest subtree\r\n\t\t\tif (balanced &&  (left_dendo.length !==right_dendo.length)) {\r\n\t\t\t\tlet shortest ;\r\n\t\t\t\tlet longest ;\r\n\t\t\t\tif (left_dendo.length > right_dendo.length) {\r\n\t\t\t\t\tlongest = left_dendo ;\r\n\t\t\t\t\tshortest = right_dendo ;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tlongest = right_dendo ;\r\n\t\t\t\t\tshortest = left_dendo ;\r\n\t\t\t\t}\r\n\t\t\t\t// repeat the first line containing the vertical bar\r\n\t\t\t\tlet header = shortest[0] ;\r\n\t\t\t\tlet toadd = longest.length - shortest.length ;\r\n\t\t\t\tfor (let i = 0 ; i < toadd ; i++) {\r\n\t\t\t\t\tshortest.splice (0,0,header) ;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\r\n\t\t\t// merge the left and right subtrees \r\n\t\t\tfor (let i = 0 ; i < Math.max (left_dendo.length , right_dendo.length) ; i++) {\r\n\t\t\t\tlet left = \"\" ;\r\n\t\t\t\tif (i < left_dendo.length)\r\n\t\t\t\t\tleft = left_dendo[i] ;\r\n\t\t\t\telse\r\n\t\t\t\t\tleft = repeatChar (\" \" , left_dendo[0].length) ;\r\n\t\r\n\t\t\t\tlet right = \"\" ;\r\n\t\t\t\tif (i < right_dendo.length)\r\n\t\t\t\t\tright = right_dendo[i] ;\r\n\t\t\t\telse\r\n\t\t\t\t\tright = repeatChar (\" \" , right_dendo[0].length) ;\r\n\t\t\t\tlines.push(left + repeatChar (\" \" , sep) + right) ;\r\n\t\t\t\t// eslint-disable-next-line\t\r\n\t\t\t\tlet l = left + repeatChar (\" \" , sep) + right ;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\treturn lines ;\r\n\t}\r\n\r\n\r\n\r\n\tfunction agglomerate (labels, vectors, distance, linkage) {\r\n\t\tlet N = vectors.length ;\r\n\t\tlet dMin = new Array(N) ;\r\n\t\tlet cSize = new Array(N) ;\r\n\t\tlet matrixObj = new figue.Matrix(N,N);\r\n\t\tlet distMatrix = matrixObj.mtx ;\r\n\t\tlet clusters = new Array(N) ;\r\n\r\n\t\tlet c1, c2, c1Cluster, c2Cluster, i, j, p, root , newCentroid ;\r\n\r\n\t\tif (distance === figue.EUCLIDIAN_DISTANCE)\r\n\t\t\tdistance = euclidianDistance ;\r\n\t\telse if (distance === figue.MANHATTAN_DISTANCE)\r\n\t\t\tdistance = manhattanDistance ;\r\n\t\telse if (distance === figue.MAX_DISTANCE)\r\n\t\t\tdistance = maxDistance ;\r\n\r\n\t\t// Initialize distance matrix and vector of closest clusters\r\n\t\tfor (i = 0 ; i < N ; i++) {\r\n\t\t\tdMin[i] = 0 ;\r\n\t\t\tfor (j = 0 ; j < N ; j++) {\r\n\t\t\t\tif (i === j)\r\n\t\t\t\t\tdistMatrix[i][j] = Infinity ;\r\n\t\t\t\telse\r\n\t\t\t\t\tdistMatrix[i][j] = distance(vectors[i] , vectors[j]) ;\r\n\t\r\n\t\t\t\tif (distMatrix[i][dMin[i]] > distMatrix[i][j] )\r\n\t\t\t\t\tdMin[i] = j ;\r\n\t\t\t}\r\n\t\t}\r\n\t\r\n\t\t// create leaves of the tree\r\n\t\tfor (i = 0 ; i < N ; i++) {\r\n\t\t\tclusters[i] = [] ;\r\n\t\t\tclusters[i][0] = new Node (labels[i], null, null, 0, vectors[i]) ;\r\n\t\t\tcSize[i] = 1 ;\r\n\t\t}\r\n\t\t\r\n\t\t// Main loop\r\n\t\tfor (p = 0 ; p < N-1 ; p++) {\r\n\t\t\t// find the closest pair of clusters\r\n\t\t\tc1 = 0 ;\r\n\t\t\tfor (i = 0 ; i < N ; i++) {\r\n\t\t\t\tif (distMatrix[i][dMin[i]] < distMatrix[c1][dMin[c1]])\r\n\t\t\t\t\tc1 = i ;\r\n\t\t\t}\r\n\t\t\tc2 = dMin[c1] ;\r\n\t\r\n\t\t\t// create node to store cluster info \r\n\t\t\tc1Cluster = clusters[c1][0] ;\r\n\t\t\tc2Cluster = clusters[c2][0] ;\r\n\r\n\t\t\tnewCentroid = calculateCentroid ( c1Cluster.size , c1Cluster.centroid , c2Cluster.size , c2Cluster.centroid ) ;\r\n\t\t\tlet newCluster = new Node (-1, c1Cluster, c2Cluster , distMatrix[c1][c2] , newCentroid) ;\r\n\t\t\tclusters[c1].splice(0,0, newCluster) ;\r\n\t\t\tcSize[c1] += cSize[c2] ;\r\n\t\t\r\n\t\t\t// overwrite row c1 with respect to the linkage type\r\n\t\t\tfor (j = 0 ; j < N ; j++) {\r\n\t\t\t\tif (linkage === figue.SINGLE_LINKAGE) {\r\n\t\t\t\t\tif (distMatrix[c1][j] > distMatrix[c2][j])\r\n\t\t\t\t\t\tdistMatrix[j][c1] = distMatrix[c1][j] = distMatrix[c2][j] ;\r\n\t\t\t\t} else if (linkage === figue.COMPLETE_LINKAGE) {\r\n\t\t\t\t\tif (distMatrix[c1][j] < distMatrix[c2][j])\r\n\t\t\t\t\t\tdistMatrix[j][c1] = distMatrix[c1][j] = distMatrix[c2][j] ;\r\n\t\t\t\t} else if (linkage === figue.AVERAGE_LINKAGE) {\r\n\t\t\t\t\tlet avg = ( cSize[c1] * distMatrix[c1][j] + cSize[c2] * distMatrix[c2][j])  / (cSize[c1] + cSize[j]) \r\n\t\t\t\t\tdistMatrix[j][c1] = distMatrix[c1][j] = avg ;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tdistMatrix[c1][c1] = Infinity ;\r\n\t\t\r\n\t\t\t// infinity out old row c2 and column c2\r\n\t\t\tfor (i = 0 ; i < N ; i++)\r\n\t\t\t\tdistMatrix[i][c2] = distMatrix[c2][i] = Infinity ;\r\n\t\r\n\t\t\t// update dmin and replace ones that previous pointed to c2 to point to c1\r\n\t\t\tfor (j = 0; j < N ; j++) {\r\n\t\t\t\tif (dMin[j] === c2)\r\n\t\t\t\t\tdMin[j] = c1;\r\n\t\t\t\tif (distMatrix[c1][j] < distMatrix[c1][dMin[c1]]) \r\n\t\t\t\t\tdMin[c1] = j;\r\n\t\t\t}\r\n\t\r\n\t\t\t// keep track of the last added cluster\r\n\t\t\troot = newCluster ;\r\n\t\t}\r\n\t\r\n\t\treturn root ;\r\n\t}\r\n\r\n\r\n\t\r\n\tfunction getRandomVectors(k, vectors) {\r\n\t\t/*  Returns a array of k distinct vectors randomly selected from a the input array of vectors\r\n\t\t\tReturns null if k > n or if there are less than k distinct objects in vectors */\r\n\t\t\r\n\t\tlet n = vectors.length ;\r\n\t\tif ( k > n ) \r\n\t\t\treturn null ;\r\n\t\t\r\n\t\tlet selected_vectors = new Array(k) ;\r\n\t\tlet selected_indices = new Array(k) ;\r\n\t\t\r\n\t\tlet tested_indices = {};\r\n\t\tlet tested = 0 ;\r\n\t\tlet selected = 0 ;\r\n\t\tlet i , vector, select ;\r\n\t\twhile (selected < k) {\r\n\t\t\tif (tested === n)\r\n\t\t\t\treturn null ;\r\n\t\t\t\r\n\t\t\tlet random_index = Math.floor(Math.random()*(n)) ;\r\n\t\t\tif (random_index in tested_indices)\r\n\t\t\t\tcontinue ;\r\n\t\t\t\r\n\t\t\ttested_indices[random_index] = 1;\r\n\t\t\ttested++ ;\r\n\t\t\tvector = vectors[random_index] ;\r\n\t\t\tselect = true ;\r\n\t\t\tfor (i = 0 ; i < selected ; i++) {\r\n\t\t\t\tif ( vector.compare (selected_vectors[i]) ) {\r\n\t\t\t\t\tselect = false ;\r\n\t\t\t\t\tbreak ;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (select) {\r\n\t\t\t\tselected_vectors[selected] = vector ;\r\n\t\t\t\tselected_indices[selected] = random_index ; \r\n\t\t\t\tselected++ ;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn {'vectors': selected_vectors, 'indices': selected_indices} ;\r\n\t}\r\n\t\r\n\tfunction kmeans (k, vectors) {\r\n\t\tlet n = vectors.length ;\r\n\t\tlet assignments = new Array(n) ;\r\n\t\tlet clusterSizes = new Array(k) ;\r\n\t\tlet repeat = true ;\r\n\t\tlet nb_iters = 0 ;\r\n\t\tlet centroids = null ;\r\n\t\t\r\n\t\tlet t = getRandomVectors(k, vectors) ;\r\n\t\tif (t === null)\r\n\t\t\treturn null ;\r\n\t\telse\r\n\t\t\tcentroids = t.vectors ;\r\n\t\t\t\r\n\t\twhile (repeat) {\r\n\r\n\t\t\t// assignment step\r\n\t\t\tfor (let j = 0 ; j < k ; j++)\r\n\t\t\t\tclusterSizes[j] = 0 ;\r\n\t\t\t\r\n\t\t\tfor (let i = 0 ; i < n ; i++) {\r\n\t\t\t\tlet vector = vectors[i] ;\r\n\t\t\t\tlet mindist = Number.MAX_VALUE ;\r\n\t\t\t\tlet best ;\r\n\t\t\t\tlet dist;\r\n\t\t\t\tfor (let j = 0 ; j < k ; j++) {\r\n\t\t\t\t\tdist = euclidianDistance (centroids[j], vector)\r\n\t\t\t\t\tif (dist < mindist) {\r\n\t\t\t\t\t\tmindist = dist ;\r\n\t\t\t\t\t\tbest = j ;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tclusterSizes[best]++ ;\r\n\t\t\t\tassignments[i] = best ;\r\n\t\t\t}\r\n\t\t\r\n\t\t\t// update centroids step\r\n\t\t\tlet newCentroids = new Array(k) ;\r\n\t\t\tfor (let j = 0 ; j < k ; j++)\r\n\t\t\t\tnewCentroids[j] = null ;\r\n\t\t\tlet cluster;\r\n\t\t\tfor (let i = 0 ; i < n ; i++) {\r\n\t\t\t\tcluster = assignments[i] ;\r\n\t\t\t\tif (newCentroids[cluster] === null)\r\n\t\t\t\t\tnewCentroids[cluster] = vectors[i] ;\r\n\t\t\t\telse\r\n\t\t\t\t\tnewCentroids[cluster] = addVectors (newCentroids[cluster] , vectors[i]) ;\t\r\n\t\t\t}\r\n\r\n\t\t\tfor (let j = 0 ; j < k ; j++) {\r\n\t\t\t\tnewCentroids[j] = multiplyVectorByValue (1/clusterSizes[j] , newCentroids[j]) ;\r\n\t\t\t}\t\r\n\t\t\t\r\n\t\t\t// check convergence\r\n\t\t\trepeat = false ;\r\n\t\t\tfor (let j = 0 ; j < k ; j++) {\r\n\t\t\t\tif (! newCentroids[j].compare (centroids[j])) {\r\n\t\t\t\t\trepeat = true ; \r\n\t\t\t\t\tbreak ; \r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tcentroids = newCentroids ;\r\n\t\t\tnb_iters++ ;\r\n\t\t\t\r\n\t\t\t// check nb of iters\r\n\t\t\tif (nb_iters > figue.KMEANS_MAX_ITERATIONS)\r\n\t\t\t\trepeat = false ;\r\n\t\t\t\r\n\t\t}\r\n\t\treturn { 'centroids': centroids , 'assignments': assignments} ;\r\n\r\n\t}\r\n\t\r\n\tfunction fcmeans (k, vectors, epsilon, fuzziness) {\r\n\t\tlet membershipMatrix = new Matrix (vectors.length, k) ;\r\n\t\tlet repeat = true ;\r\n\t\tlet nb_iters = 0 ;\r\n\t\t\r\n\t\tlet centroids = null ;\r\n\t\t\r\n\t\tlet i,j,l, tmp, norm, max, diff ;\r\n\t\twhile (repeat) {\r\n\t\t\t// initialize or update centroids\r\n\t\t\tif (centroids === null) {\r\n\t\t\t\t\r\n\t\t\t\ttmp = getRandomVectors(k, vectors) ;\r\n\t\t\t\tif (tmp === null)\r\n\t\t\t\t\treturn null ;\r\n\t\t\t\telse\r\n\t\t\t\t\tcentroids = tmp.vectors ;\r\n\t\t\t\t\r\n\t\t\t} else {\r\n\t\t\t\tfor (j = 0 ; j < k; j++) {\r\n\t\t\t\t\tcentroids[j] = [] ;\r\n\t\t\t\t\tnorm = 0 ;\r\n\t\t\t\t\tfor (i = 0 ; i < membershipMatrix.rows ; i++) {\r\n\t\t\t\t\t\tnorm += Math.pow(membershipMatrix.mtx[i][j], fuzziness) ;\r\n\t\t\t\t\t\ttmp = multiplyVectorByValue( Math.pow(membershipMatrix.mtx[i][j], fuzziness) , vectors[i]) ;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tif (i === 0)\r\n\t\t\t\t\t\t\tcentroids[j] = tmp ;\r\n\t\t\t\t\t\telse\r\n\t\t\t\t\t\t\tcentroids[j] = addVectors (centroids[j] , tmp) ;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (norm > 0)\r\n\t\t\t\t\t\tcentroids[j] = multiplyVectorByValue(1/norm, centroids[j]);\r\n\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t//alert(centroids);\r\n\t\t\t\r\n\t\t\t// update the degree of membership of each vector\r\n\t\t\tlet previousMembershipMatrix = membershipMatrix.copy() ;\r\n\t\t\tfor (i = 0 ; i < membershipMatrix.rows ; i++) {\r\n\t\t\t\tfor (j = 0 ; j < k ; j++) {\r\n\t\t\t\t\tmembershipMatrix.mtx[i][j] = 0;\r\n\t\t\t\t\tfor (l = 0 ; l < k ; l++) {\r\n\t\t\t\t\t\tif (euclidianDistance(vectors[i] , centroids[l]) === 0)\r\n\t\t\t\t\t\t\ttmp = 0 ;\r\n\t\t\t\t\t\telse\r\n\t\t\t\t\t\t\ttmp =  euclidianDistance(vectors[i] , centroids[j]) / euclidianDistance(vectors[i] , centroids[l]) ;\r\n\t\t\t\t\t\ttmp = Math.pow (tmp, 2/(fuzziness-1)) ;\r\n\t\t\t\t\t\tmembershipMatrix.mtx[i][j] += tmp ;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (membershipMatrix.mtx[i][j] > 0)\r\n\t\t\t\t\t\tmembershipMatrix.mtx[i][j] = 1 / membershipMatrix.mtx[i][j] ;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t//alert(membershipMatrix) ;\r\n\t\t\t\r\n\t\t\t// check convergence\r\n\t\t\tmax = -1 ;\r\n\t\t\tfor (i = 0 ; i < membershipMatrix.rows ; i++)\r\n\t\t\t\tfor (j = 0 ; j < membershipMatrix.cols ; j++) {\r\n\t\t\t\t\tdiff = Math.abs(membershipMatrix.mtx[i][j] - previousMembershipMatrix.mtx[i][j]) ;\r\n\t\t\t\t\tif (diff > max)\r\n\t\t\t\t\t\tmax = diff ;\r\n\t\t\t\t}\r\n\t\t\t\r\n\t\t\tif (max < epsilon)\r\n\t\t\t\trepeat = false ;\r\n\r\n\t\t\tnb_iters++ ;\r\n\r\n\t\t\t// check nb of iters\r\n\t\t\tif (nb_iters > figue.FCMEANS_MAX_ITERATIONS)\r\n\t\t\t\trepeat = false ;\r\n\t\t}\r\n\t\treturn { 'centroids': centroids , 'membershipMatrix': membershipMatrix} ;\r\n\t\r\n\t}\r\n\t\r\n\t\t\t\r\n\tfunction Matrix (rows,cols) \r\n\t{\r\n\t\tthis.rows = rows ;\r\n\t\tthis.cols = cols ;\r\n\t\tthis.mtx = new Array(rows) ; \r\n\r\n\t\tfor (let i = 0 ; i < rows ; i++)\r\n\t\t{\r\n\t\t\tlet row = new Array(cols) ;\r\n\t\t\tfor (let j = 0 ; j < cols ; j++)\r\n\t\t\t\trow[j] = 0;\r\n\t\t\tthis.mtx[i] = row ;\r\n\t\t}\r\n\t}\r\n\r\n\tfunction Node (label,left,right,dist, centroid) \r\n\t{\r\n\t\tthis.label = label ;\r\n\t\tthis.left = left ;\r\n\t\tthis.right = right ;\r\n\t\tthis.dist = dist ;\r\n\t\tthis.centroid = centroid ;\r\n\t\tif (left === null && right === null) {\r\n\t\t\tthis.size = 1 ;\r\n\t\t\tthis.depth = 0 ;\r\n\t\t} else {\r\n\t\t\tthis.size = left.size + right.size ;\r\n\t\t\tthis.depth = 1 + Math.max (left.depth , right.depth ) ;\r\n\t\t}\r\n\t}\r\n\r\n\r\n\r\n\treturn { \r\n\t\tSINGLE_LINKAGE: 0,\r\n\t\tCOMPLETE_LINKAGE: 1,\r\n\t\tAVERAGE_LINKAGE:2 ,\r\n\t\tEUCLIDIAN_DISTANCE: 0,\r\n\t\tMANHATTAN_DISTANCE: 1,\r\n\t\tMAX_DISTANCE: 2,\r\n\t\tPRINT_VECTOR_VALUE_PRECISION: 2,\r\n\t\tKMEANS_MAX_ITERATIONS: 10,\r\n\t\tFCMEANS_MAX_ITERATIONS: 3,\r\n\r\n\t\tMatrix: Matrix,\r\n\t\tNode: Node,\r\n\t\tgenerateDendogram: generateDendogram,\r\n\t\tagglomerate: agglomerate,\r\n\t\tkmeans: kmeans,\r\n\t\tfcmeans: fcmeans\r\n\t}\r\n}() ;\r\n\r\n\r\nfigue.Matrix.prototype.toString = function() \r\n{\r\n\tlet lines = [] ;\r\n\tfor (let i = 0 ; i < this.rows ; i++) \r\n\t\tlines.push (this.mtx[i].join(\"\\t\")) ;\r\n\treturn lines.join (\"\\n\") ;\r\n}\r\n\r\n\r\nfigue.Matrix.prototype.copy = function() \r\n{\r\n\tlet duplicate = new figue.Matrix(this.rows, this.cols) ;\r\n\tfor (let i = 0 ; i < this.rows ; i++)\r\n\t\tduplicate.mtx[i] = this.mtx[i].slice(0); \r\n\treturn duplicate ;\r\n}\r\n\r\nfigue.Node.prototype.isLeaf = function() \r\n{\r\n\tif ((this.left === null) && (this.right === null))\r\n\t\treturn true ;\r\n\telse\r\n\t\treturn false ;\r\n}\r\n\r\nfigue.Node.prototype.buildDendogram = function (sep, balanced,withLabel,withCentroid, withDistance)\r\n{\r\n\tlet lines;\r\n\tlines = figue.generateDendogram(this, sep, balanced,withLabel,withCentroid, withDistance) ;\r\n\treturn lines.join (\"\\n\") ;\t\r\n}\r\n\r\n\r\n// Array.prototype.compare = function(testArr) {\r\n//     if (this.length !==testArr.length) return false;\r\n//     for (let i = 0; i < testArr.length; i++) {\r\n//         if (this[i].compare) { \r\n//             if (!this[i].compare(testArr[i])) return false;\r\n//         }\r\n//         if (this[i] !== testArr[i]) return false;\r\n//     }\r\n//     return true;\r\n// }\r\n\r\nexport default figue;","import React, { useState, useEffect, useRef, useContext } from 'react';\r\nimport { Formik } from 'formik';\r\nimport { csvContext } from '../../context/csv-context';\r\nimport LoadDataset from '../../utils/LoadDataset';\r\nimport Description from '../../utils/Description';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport TitleBar from '../../utils/TitleBar';\r\nimport figue from './hc-hook';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport CsvReader from '../../utils/CsvReader';\r\nimport CsvTable from '../../utils/CsvTable';\r\nimport Button from '@material-ui/core/Button';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Alert from '@material-ui/lab/Alert';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport FormHelperText from '@material-ui/core/FormHelperText';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Radio from '@material-ui/core/Radio';\r\nimport RadioGroup from '@material-ui/core/RadioGroup';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport FormLabel from '@material-ui/core/FormLabel';\r\n\r\nimport './Dendogram.css';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    paper: {\r\n        margin: theme.spacing(8, 4),\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        alignItems: 'center',\r\n    },\r\n    formControl: {\r\n        margin: theme.spacing(1),\r\n        width: '80%',\r\n    },\r\n    selectEmpty: {\r\n        marginTop: theme.spacing(2),\r\n    },\r\n    form: {\r\n        width: '90%', // Fix IE 11 issue.\r\n        marginTop: theme.spacing(1),\r\n        marginLeft: '20px',\r\n    },\r\n    submit: {\r\n        width: '100px',\r\n    },\r\n}));\r\n\r\nconst HierarchicalClustering = () => {\r\n    const classes = useStyles();\r\n    const [error, setError] = useState('')\r\n    const { csv } = useContext(csvContext);\r\n    const [columnNames, setColumnNames] = useState([]);\r\n    const [label, setLabel] = useState();\r\n    const dendoGram = useRef();\r\n    const scrollToRef = (ref) => window.scrollTo(0, ref.current.offsetTop)\r\n\r\n    useEffect(() => {\r\n        if (csv == null) \r\n            return;\r\n        async function LoadColumnNames() {\r\n            const columns = await csv.columnNames();\r\n            setColumnNames(columns);\r\n            setLabel(columns[0]);\r\n        }\r\n        LoadColumnNames();\r\n    }, [csv, setColumnNames]);\r\n\r\n    return (\r\n        <div>\r\n            <Grid container>\r\n                <Grid item md={6} xs={12}>\r\n                    <TitleBar name=\"Hieararchical Clustering\" tags={['Clustering', 'Dendogram']} />\r\n                    <CsvReader />\r\n                    <CsvTable />\r\n                </Grid>\r\n                <Grid item md={6} xs={12}>    \r\n                    <LoadDataset />    \r\n                    <Description desc=\"hc\" />            \r\n                    {csv && columnNames && label ? (\r\n                        <div style={{ padding: '10px' }}>\r\n                        {error && (\r\n                            <Alert onClose={() => setError('')} severity=\"error\">\r\n                                {error}\r\n                            </Alert>\r\n                        )}\r\n                        <Formik\r\n                            enableReinitialize\r\n                            initialValues={{\r\n                                vectors: columnNames,\r\n                                label: label,\r\n                                linkage: 0,\r\n                                distance: 0,\r\n                                withLabel: true,\r\n                                withCentroid: false,\r\n                                withDistance: false,\r\n                                balanced: true,\r\n                                space: 5\r\n                            }}\r\n                            validate={values => {\r\n                                const errors = {};\r\n                                if (!values.label) {\r\n                                    errors.label = 'Required';\r\n                                }\r\n                                if (values.linkage < 0 || values.linkage > 2) {\r\n                                    console.log(\"haha\")\r\n                                    errors.linkage = 'Required';\r\n                                }\r\n                                if (values.distance < 0 || values.distance > 2) {\r\n                                    errors.distance = 'Required';\r\n                                }\r\n                                if (values.space !== 3 && values.space !== 5 && values.space !== 7 && values.space !== 9) {\r\n                                    errors.space = 'Invalid value'\r\n                                }\r\n\r\n                                return errors;\r\n                            }}\r\n                            onSubmit={(values, { setSubmitting }) => {\r\n                                const submitFormHandler = async values => {\r\n                                    try {                                        \r\n                                        let params = [...values.vectors, values.label]\r\n                                        params = [...new Set(params)]\r\n                                        params = params.filter((param) => param !== values.label)\r\n                                        let data = await csv.toArray()\r\n                                        let labels = [];\r\n                                        let vectors = [];\r\n                                        for (let i = 0 ; i < data.length ; i++) {\r\n                                            labels[i] = data[i][values.label] ;\r\n                                            vectors[i] = []\r\n                                            params.forEach((param) => {\r\n                                                vectors[i].push(data[i][param])\r\n                                            }) \r\n                                        }\r\n                                        let train = {'labels': labels , 'vectors': vectors}\r\n                                        let root = figue.agglomerate(train['labels'], train['vectors'] , values.distance, values.linkage)\r\n                                        let text = root.buildDendogram(values.space, values.balanced, values.withLabel, values.withCentroid, values.withDistance)\r\n                                        console.log(root)\r\n                                        dendoGram.current.innerText = text\r\n                                        scrollToRef(dendoGram)\r\n                                    } catch (err) {\r\n                                        console.error(err);\r\n                                        setError('Please Recheck your Provided Parameters');\r\n                                    }\r\n                                }\r\n                                submitFormHandler(values);\r\n                                setSubmitting(false)\r\n                            }}\r\n                        >{({\r\n                            values,\r\n                            errors,\r\n                            touched,\r\n                            handleChange,\r\n                            handleBlur,\r\n                            handleSubmit,\r\n                            isSubmitting,\r\n                            setFieldValue,\r\n                        }) => (\r\n                                <form className={classes.form} onSubmit={handleSubmit}>\r\n                                    <Grid container spacing={1}>\r\n                                        <Grid item xs={12}>\r\n                                            <Paper style={{ backgroundColor: 'black', padding: '20px' }}>\r\n                                                Select the numerical attributes\r\n                                            </Paper>\r\n                                            <Grid container spacing={1}>\r\n                                                {columnNames.map((column, index) =>\r\n                                                    <Grid item xs={12} key={index}>\r\n                                                        {column !== values.label && (\r\n                                                            <FormControlLabel\r\n                                                                control={<Checkbox\r\n                                                                    checked={values.vectors.includes(column)}\r\n                                                                    color=\"default\"\r\n                                                                    name={column}\r\n                                                                    onChange={(event) => {\r\n                                                                        let array = values.vectors;\r\n                                                                        if (array.includes(event.target.name)) {\r\n                                                                            const newArray = array.filter((col) => col !== event.target.name);\r\n                                                                            setFieldValue('vectors', newArray, false)\r\n                                                                        } else {\r\n                                                                            array.push(event.target.name)\r\n                                                                            setFieldValue('vectors', array, false)\r\n                                                                        }\r\n                                                                    }}\r\n                                                                />}\r\n                                                                label={column}\r\n                                                            />\r\n                                                        )}\r\n                                                    </Grid>\r\n                                                )}\r\n                                            </Grid>\r\n                                        </Grid>\r\n                                        <Grid style={{ padding: '10px' }} item xs={12}>\r\n                                            <hr />\r\n                                        </Grid>\r\n                                        <Grid item xs={12}>\r\n                                            <TextField id=\"select\"\r\n                                                label=\"Label\" select\r\n                                                fullWidth\r\n                                                value={values.label}\r\n                                                name=\"label\"\r\n                                                onChange={handleChange}\r\n                                                variant=\"filled\"\r\n                                            >\r\n                                                {columnNames.map((column, index) =>\r\n                                                    <MenuItem key={index} value={column}>{column}</MenuItem>\r\n                                                )}\r\n                                            </TextField>\r\n                                            <FormHelperText>Select a Label</FormHelperText>\r\n                                        </Grid>\r\n                                        <Grid style={{ padding: '10px' }} item xs={12}>\r\n                                            <hr />\r\n                                        </Grid>\r\n                                        <Grid style={{ marginTop: '10px' }} item xs={6}>\r\n                                            <FormControl component=\"fieldset\">\r\n                                            <FormLabel component=\"legend\">Linkage</FormLabel>\r\n                                            <RadioGroup aria-label=\"linkage\" name=\"linkage\" value={values.linkage} onChange={(event) => {\r\n                                                setFieldValue('linkage', parseInt(event.target.value), false)\r\n                                            }}>\r\n                                                <FormControlLabel value={0} control={<Radio />} label=\"Single-Linkage\" />\r\n                                                <FormControlLabel value={1} control={<Radio />} label=\"Complete-Linkage\" />\r\n                                                <FormControlLabel value={2} control={<Radio />} label=\"Average-Linkage\" />\r\n                                            </RadioGroup>\r\n                                            </FormControl>\r\n                                            <div style={{ margin: \"10px\", color: \"red\" }}>\r\n                                                {errors.linkage && touched.linkage && errors.linkage}\r\n                                            </div>\r\n                                        </Grid>\r\n                                        <Grid style={{ marginTop: '10px' }} item xs={6}>\r\n                                            <FormControl component=\"fieldset\">\r\n                                            <FormLabel component=\"legend\">Distance</FormLabel>\r\n                                            <RadioGroup aria-label=\"distance\" name=\"distance\" value={values.distance} onChange={(event) => {\r\n                                                setFieldValue('distance', parseInt(event.target.value), false)\r\n                                            }}>\r\n                                                <FormControlLabel value={0} control={<Radio />} label=\"Euclidian\" />\r\n                                                <FormControlLabel value={1} control={<Radio />} label=\"Manhattan\" />\r\n                                                <FormControlLabel value={2} control={<Radio />} label=\"Maximum\" />\r\n                                            </RadioGroup>\r\n                                            </FormControl>\r\n                                            <div style={{ margin: \"10px\", color: \"red\" }}>\r\n                                                {errors.distance && touched.distance && errors.distance}\r\n                                            </div>\r\n                                        </Grid>\r\n                                        <Grid style={{ padding: '10px' }} item xs={12}>\r\n                                            <hr />\r\n                                        </Grid>\r\n                                        <Grid item xs={6}>\r\n                                            <FormControlLabel\r\n                                                control={<Checkbox checked={values.withLabel} onChange={handleChange} name=\"withLabel\" />}\r\n                                                label=\"Show Labels\"\r\n                                            />\r\n                                        </Grid>\r\n                                        <Grid item xs={6}>\r\n                                            <FormControlLabel\r\n                                                control={<Checkbox checked={values.withDistance} onChange={handleChange} name=\"withDistance\" />}\r\n                                                label=\"Show Distance\"\r\n                                            />\r\n                                        </Grid>\r\n                                        <Grid item xs={6}>\r\n                                            <FormControlLabel\r\n                                                control={<Checkbox checked={values.withCentroid} onChange={handleChange} name=\"withCentroid\" />}\r\n                                                label=\"Show Centroid\"\r\n                                            />\r\n                                        </Grid> \r\n                                        <Grid item xs={6}>\r\n                                            <FormControlLabel\r\n                                                control={<Checkbox checked={values.balanced} onChange={handleChange} name=\"balanced\" />}\r\n                                                label=\"Balance Dendogram\"\r\n                                            />\r\n                                        </Grid>\r\n                                        <Grid item xs={12}>\r\n                                            <TextField id=\"select\"\r\n                                                    style={{ width: '90%' }}\r\n                                                    label=\"Space\" select\r\n                                                    fullWidth\r\n                                                    value={values.space}\r\n                                                    name=\"space\"\r\n                                                    onChange={(event) => {\r\n                                                        setFieldValue('space', parseInt(event.target.value), true)\r\n                                                    }}\r\n                                                    variant=\"filled\"\r\n                                                >\r\n                                                    <MenuItem value={3}>3</MenuItem>\r\n                                                    <MenuItem value={5}>5</MenuItem>\r\n                                                    <MenuItem value={7}>7</MenuItem>\r\n                                                    <MenuItem value={9}>9</MenuItem>\r\n                                                </TextField>\r\n                                                <FormHelperText>Minimum spacing between nodes</FormHelperText>\r\n                                                <div style={{ margin: \"10px\", color: \"red\" }}>\r\n                                                    {errors.space && touched.space && errors.space}\r\n                                                </div>\r\n                                        </Grid>\r\n                                        \r\n                                    </Grid>\r\n                                    <div style={{ margin: '10px', textAlign: 'center' }}>\r\n                                        <Button\r\n                                            style={{ width: '100%' }}\r\n                                            type=\"submit\"\r\n                                            fullWidth\r\n                                            variant=\"contained\"\r\n                                            color=\"primary\"\r\n                                            className={classes.submit}\r\n                                            disabled={isSubmitting}\r\n                                        >\r\n                                            CLUSTER DATA AND DISPLAY DENDOGRAM\r\n                                    </Button>\r\n                                    </div>\r\n                                </form>\r\n                            )}\r\n                        </Formik>\r\n                        </div>\r\n                    ) : (\r\n                        <div style={{ paddingTop: '50px', textAlign: 'center' }}>\r\n                            Please select a dataset\r\n                        </div>\r\n                    )}\r\n                </Grid>\r\n                {csv && label && (\r\n                    <Paper style={{ width: '100%', margin: '20px', padding: '20px', textAlign: 'center', backgroundColor: '#000000' }}>\r\n                        <Typography variant=\"h4\" gutterBottom>\r\n                            Dendogram\r\n                        </Typography>\r\n                    </Paper>\r\n                )}\r\n                <div className=\"ddg-wrapper\">\r\n                    <pre className=\"ddg\" ref={dendoGram} />\r\n                </div>\r\n            </Grid>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default HierarchicalClustering;","import React, { useState, useEffect, useContext } from 'react';\r\nimport { Formik } from 'formik';\r\nimport { csvContext } from '../../context/csv-context';\r\nimport LoadDataset from '../../utils/LoadDataset';\r\nimport Description from '../../utils/Description';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport TitleBar from '../../utils/TitleBar';\r\nimport CsvReader from '../../utils/CsvReader';\r\nimport CsvTable from '../../utils/CsvTable';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Button from '@material-ui/core/Button';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Alert from '@material-ui/lab/Alert';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport FormHelperText from '@material-ui/core/FormHelperText';\r\nimport * as KMeans from \"tf-kmeans\";\r\nimport * as tf from \"@tensorflow/tfjs\";\r\nimport { ConvertCSVToSingleArray, ConvertClusterIconsToData } from '../../../ML/utils.js';\r\nimport { VisorStop, DrawScatterPlot, GenerateChartForCluster } from '../../linreg/utils';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    paper: {\r\n        margin: theme.spacing(8, 4),\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        alignItems: 'center',\r\n    },\r\n    formControl: {\r\n        margin: theme.spacing(1),\r\n        width: '80%',\r\n    },\r\n    selectEmpty: {\r\n        marginTop: theme.spacing(2),\r\n    },\r\n    descDiv: {\r\n        background: '#505050',\r\n        width: '100%',\r\n        padding: '15px',\r\n        fontSize: '14px',\r\n        margin: '10px',\r\n    },\r\n    form: {\r\n        width: '90%', // Fix IE 11 issue.\r\n        marginTop: theme.spacing(1),\r\n        marginLeft: '20px',\r\n    },\r\n    submit: {\r\n        width: '100px',\r\n    },\r\n}));\r\n\r\nasync function PerformKMeans(csv, k, maxIters, labels, xIdx, yIdx) {\r\n    const data = await ConvertCSVToSingleArray(csv, labels);\r\n    const dataT = tf.tensor(data);\r\n    VisorStop();\r\n    const kmeans = new KMeans.default({\r\n        k: k,\r\n        maxIter: maxIters\r\n    });\r\n    const predsT = await kmeans.TrainAsync(dataT, async (__, centroids, assignments) => {\r\n        // Plot after Every Iteration\r\n        const clusters = ConvertClusterIconsToData(await assignments.array(), k, data);\r\n        const chart = GenerateChartForCluster(await centroids.array(), clusters, xIdx, yIdx);\r\n        await DrawScatterPlot(chart);\r\n        assignments.dispose();\r\n    });\r\n    predsT.dispose();\r\n    dataT.dispose();\r\n    kmeans.Dispose();\r\n}\r\nexport default function Kmeans() {\r\n    const classes = useStyles();\r\n    const [error, setError] = useState('')\r\n    const { csv } = useContext(csvContext);\r\n    const [columnNames, setColumnNames] = useState([]);\r\n    const [label, setLabel] = useState();\r\n\r\n    useEffect(() => {\r\n        if (csv == null)\r\n            return;\r\n        async function LoadColumnNames() {\r\n            const columns = await csv.columnNames();\r\n            setColumnNames(columns);\r\n            setLabel(columns[0]);\r\n        }\r\n        LoadColumnNames();\r\n    }, [csv, setColumnNames]);\r\n\r\n    return (\r\n        <div>\r\n            <Grid container>\r\n                <Grid item md={6} xs={12}>\r\n                    <TitleBar name=\"K Means Clustering\" tags={['Clustering', 'K-Means', 'ScatterPlot']} />\r\n                    <CsvReader />\r\n                    <CsvTable />\r\n                </Grid>\r\n                <Grid item md={6} xs={12}>\r\n                    <LoadDataset />\r\n                    <Description desc=\"kmeans\" />\r\n                    {csv && columnNames && label ? (\r\n                        <div style={{ padding: '10px' }}>\r\n                            {error && (\r\n                                <Alert onClose={() => setError('')} severity=\"error\">\r\n                                    {error}\r\n                                </Alert>\r\n                            )}\r\n                            <Formik\r\n                                enableReinitialize\r\n                                initialValues={{\r\n                                    vectors: columnNames,\r\n                                    label: label,\r\n                                    linkage: 0,\r\n                                    k: 3,\r\n                                    maxIters: 100,\r\n                                    distance: 0,\r\n                                    withLabel: true,\r\n                                    withCentroid: false,\r\n                                    withDistance: false,\r\n                                    balanced: true,\r\n                                    space: 5\r\n                                }}\r\n                                validate={values => {\r\n                                    const errors = {};\r\n                                    if (values.linkage < 0 || values.linkage > 2) {\r\n                                        console.log(\"haha\")\r\n                                        errors.linkage = 'Required';\r\n                                    }\r\n                                    if (values.distance < 0 || values.distance > 2) {\r\n                                        errors.distance = 'Required';\r\n                                    }\r\n                                    if (values.space !== 3 && values.space !== 5 && values.space !== 7 && values.space !== 9) {\r\n                                        errors.space = 'Invalid value'\r\n                                    }\r\n\r\n                                    return errors;\r\n                                }}\r\n                                onSubmit={async (values) => {\r\n                                    setError(\"\");\r\n                                    try {\r\n                                        // TODO: KMeans    \r\n                                        const labels = [...(new Set([values.label, ...values.vectors]))];\r\n                                        const k = values.k;\r\n                                        const xIdx = 0;\r\n                                        const yIdx = 1;\r\n                                        const maxIters = values.maxIters;\r\n                                        await PerformKMeans(csv, k, maxIters, labels, xIdx, yIdx);\r\n                                    } catch (err) {\r\n                                        console.error(err);\r\n                                        setError('Please Recheck your Provided Parameters');\r\n                                    }\r\n                                }}\r\n                            >{({\r\n                                values,\r\n                                errors,\r\n                                touched,\r\n                                handleChange,\r\n                                handleSubmit,\r\n                                isSubmitting,\r\n                            }) => (\r\n                                    <form className={classes.form} onSubmit={handleSubmit}>\r\n                                        <Grid container spacing={1}>\r\n                                            <Grid item xs={12}>\r\n                                                <Paper className={classes.descDiv}>\r\n                                                    Select the number of clusters\r\n                                                </Paper>\r\n                                                <TextField id=\"standard-basic\"\r\n                                                    style={{ marginLeft: '10px', width: '90%' }}\r\n                                                    label=\"k\"\r\n                                                    fullWidth\r\n                                                    type=\"number\"\r\n                                                    onChange={handleChange}\r\n                                                    value={values.k}\r\n                                                    name=\"k\"\r\n                                                >\r\n                                                </TextField>\r\n                                                <FormHelperText>Minimum spacing between nodes</FormHelperText>\r\n                                                <div style={{ margin: \"10px\", color: \"red\" }}>\r\n                                                    {errors.space && touched.space && errors.space}\r\n                                                </div>\r\n                                            </Grid>\r\n                                        </Grid>\r\n                                        <div style={{ margin: '10px', textAlign: 'center' }}>\r\n                                            <Button\r\n                                                style={{ width: '100%' }}\r\n                                                type=\"submit\"\r\n                                                fullWidth\r\n                                                variant=\"contained\"\r\n                                                color=\"primary\"\r\n                                                className={classes.submit}\r\n                                                disabled={isSubmitting}\r\n                                            >\r\n                                                RUN AND DISPLAY SCATTERPLOT\r\n                                    </Button>\r\n                                        </div>\r\n                                    </form>\r\n                                )}\r\n                            </Formik>\r\n                        </div>\r\n                    ) : (\r\n                            <div style={{ paddingTop: '50px', textAlign: 'center' }}>\r\n                                Please select a dataset\r\n                            </div>\r\n                        )}\r\n                </Grid>\r\n            </Grid>\r\n        </div >\r\n    )\r\n}\r\n","export function drawBubble(ctx, x, y, w, h, radius) {\r\n  let r = x + w;\r\n  let b = y + h;\r\n  ctx.beginPath();\r\n  ctx.strokeStyle=\"black\";\r\n  ctx.lineWidth=\"2\";\r\n  ctx.moveTo(x+radius, y);\r\n  ctx.lineTo(x+radius/2, y-10);\r\n  ctx.lineTo(x+radius * 2, y);\r\n  ctx.lineTo(r-radius, y);\r\n  ctx.quadraticCurveTo(r, y, r, y+radius);\r\n  ctx.lineTo(r, y+h-radius);\r\n  ctx.quadraticCurveTo(r, b, r-radius, b);\r\n  ctx.lineTo(x+radius, b);\r\n  ctx.quadraticCurveTo(x, b, x, b-radius);\r\n  ctx.lineTo(x, y+radius);\r\n  ctx.quadraticCurveTo(x, y, x+radius, y);\r\n  ctx.stroke();\r\n}\r\n\r\nexport function drawRect(ctx, x, y, w, h){\r\n  ctx.beginPath();\r\n  ctx.rect(x,y,w,h);\r\n  ctx.closePath();\r\n  ctx.fill();\r\n  ctx.stroke();\r\n}\r\n\r\nexport function drawCircle(ctx, x, y, r){\r\n  ctx.beginPath();\r\n  ctx.arc(x, y, r, 0, Math.PI*2, true); \r\n  ctx.closePath();\r\n  ctx.stroke();\r\n  ctx.fill();\r\n}\r\n\r\n//uniform distribution integer\r\nexport function randi(s, e) {\r\n  return Math.floor(Math.random()*(e-s) + s);\r\n}\r\n\r\n//uniform distribution\r\nexport function randf(s, e) {\r\n  return Math.random()*(e-s) + s;\r\n}\r\n\r\n//normal distribution random number\r\nexport function randn(mean, letiance) {\r\n  let V1, V2, S;\r\n  do {\r\n    let U1 = Math.random();\r\n    let U2 = Math.random();\r\n    V1 = 2 * U1 - 1;\r\n    V2 = 2 * U2 - 1;\r\n    S = V1 * V1 + V2 * V2;\r\n  } while (S > 1);\r\n  let X = Math.sqrt(-2 * Math.log(S) / S) * V1;\r\n  X = mean + Math.sqrt(letiance) * X;\r\n  return X;\r\n}","import React, { useRef, useContext, useState, useEffect } from 'react';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport CsvReader from '../utils/CsvReader';\r\nimport CsvTable from '../utils/CsvTable';\r\nimport { Button } from '@material-ui/core';\r\nimport { drawCircle } from './utils';\r\nimport TitleBar from '../utils/TitleBar';\r\nimport Alert from '@material-ui/lab/Alert';\r\nimport LoadDataset from '../utils/LoadDataset';\r\nimport Description from '../utils/Description';\r\nimport { csvContext } from '../context/csv-context';\r\nimport { ConvertCSVToRawArrays } from '../../ML/utils';\r\nconst svmjs = require(\"./libsvm\");\r\n\r\nconst Overview = () => {\r\n  const NPGcanvas = useRef();\r\n  const { csv } = useContext(csvContext);\r\n  const [labelColumn, setLabelColumn] = useState(\"\");\r\n  const [columnNames, setColumnNames] = useState([]);\r\n  const [error, setError] = useState('');\r\n\r\n  useEffect(() => {\r\n    if (csv == null)\r\n      return;\r\n    async function LoadColumnNames() {\r\n      const columns = await csv.columnNames();\r\n      setColumnNames(columns);\r\n      setLabelColumn(columns[columns.length - 1]);\r\n    }\r\n    LoadColumnNames();\r\n  }, [csv, setColumnNames]);\r\n\r\n  function scaleBetween(unscaledNum, minAllowed, maxAllowed, min, max) {\r\n    return (maxAllowed - minAllowed) * (unscaledNum - min) / (max - min) + minAllowed;\r\n  }\r\n\r\n\r\n  const trainModel = async (csv, labelColumn, columnNames) => {\r\n\r\n    let [data, y] = await ConvertCSVToRawArrays(csv, labelColumn, columnNames);\r\n    y = y.map(label => label[0]);\r\n    console.log(data)\r\n    var scaled = Array(data.length).fill().map(() => Array(data[0].length).fill(0));\r\n\r\n    if (data.length > 0) {\r\n      try {\r\n          for(let i=0;i< 2;i++){\r\n            var unscaledNums=[];\r\n\r\n            for(let j=0;j< data.length;j++){\r\n              unscaledNums.push(data[j][i]);\r\n            }\r\n            \r\n            let maxRange = Math.max.apply(Math, unscaledNums);\r\n            let minRange = Math.min.apply(Math, unscaledNums);\r\n\r\n            for (let l = 0; l < unscaledNums.length; l++) {\r\n              let unscaled = unscaledNums[l];\r\n              scaled[l][i] = scaleBetween(unscaled, -3, 3, minRange, maxRange);\r\n            }\r\n          }\r\n\r\n          let labels = new Array(y.length)\r\n\r\n          let maxRange = Math.max.apply(Math, y);\r\n          let minRange = Math.min.apply(Math, y);\r\n\r\n          for (let i = 0; i < y.length; i++) {\r\n            let unscaled = y[i];\r\n            labels[i] = scaleBetween(unscaled, -1, 1, minRange, maxRange);\r\n          }\r\n          \r\n          console.log(labels);\r\n\r\n          const svm = new svmjs.SVM();\r\n          let wb = null\r\n          let ss = 50.0\r\n          let trainstats = null\r\n          let dirty = true\r\n          let kernelid = 1\r\n          let rbfKernelSigma = 0.5\r\n          let svmC = 1.0\r\n          const ctx = NPGcanvas.current.getContext('2d');\r\n          let WIDTH = ctx.canvas.width;\r\n          let HEIGHT = ctx.canvas.height;\r\n\r\n          trainstats = svm.train(scaled, labels, { kernel: 'rbf', rbfsigma: rbfKernelSigma, C: svmC });\r\n          dirty = true;\r\n\r\n          draw(ctx, WIDTH, HEIGHT, svm, scaled, labels, wb, ss, trainstats, dirty, kernelid, rbfKernelSigma, svmC);\r\n        } catch (err) {\r\n        console.log(err)\r\n        setError('Please select only numerical Attributes')\r\n      }\r\n    } else {\r\n      setError('Please provide proper parameters')\r\n  }\r\n}\r\n\r\n    const draw = (ctx, WIDTH, HEIGHT, svm, data, labels, wb, ss, trainstats, dirty, kernelid, rbfKernelSigma, svmC) => {\r\n      if (!dirty) return;\r\n\r\n      ctx.clearRect(0, 0, WIDTH, HEIGHT);\r\n\r\n      // draw decisions in the grid\r\n      let density = 5.0;\r\n      for (let x = 0.0; x <= WIDTH; x += density) {\r\n        for (let y = 0.0; y <= HEIGHT; y += density) {\r\n          let dec = svm.marginOne([(x - WIDTH / 2) / ss, (y - HEIGHT / 2) / ss]);\r\n          if (dec > 0) ctx.fillStyle = 'rgb(150,250,150)';\r\n          else ctx.fillStyle = 'rgb(250,150,150)';\r\n          ctx.fillRect(x - density / 2 - 1, y - density - 1, density + 2, density + 2);\r\n        }\r\n      }\r\n\r\n      // draw axes\r\n      ctx.beginPath();\r\n      ctx.strokeStyle = 'rgb(50,50,50)';\r\n      ctx.lineWidth = 1;\r\n      ctx.moveTo(0, HEIGHT / 2);\r\n      ctx.lineTo(WIDTH, HEIGHT / 2);\r\n      ctx.moveTo(WIDTH / 2, 0);\r\n      ctx.lineTo(WIDTH / 2, HEIGHT);\r\n      ctx.stroke();\r\n\r\n      // draw datapoints. Draw support vectors larger\r\n      ctx.strokeStyle = 'rgb(0,0,0)';\r\n      for (let i = 0; i < data.length; i++) {\r\n\r\n        if (labels[i] === 1) ctx.fillStyle = 'rgb(100,200,100)';\r\n        else ctx.fillStyle = 'rgb(200,100,100)';\r\n\r\n        if (svm.alpha[i] > 1e-2) {\r\n          ctx.lineWidth = 3\r\n        }  // distinguish support vectors\r\n        else {\r\n          ctx.lineWidth = 1\r\n        }\r\n        drawCircle(ctx, data[i][0] * ss + WIDTH / 2, data[i][1] * ss + HEIGHT / 2, Math.floor(3 + svm.alpha[i] * 5.0 / svmC));\r\n      }\r\n\r\n      // if linear kernel, draw decision boundary and margin lines\r\n      if (kernelid === 0) {\r\n\r\n        let xs = [-5, 5];\r\n        let ys = [0, 0];\r\n        ys[0] = (-wb.b - wb.w[0] * xs[0]) / wb.w[1];\r\n        ys[1] = (-wb.b - wb.w[0] * xs[1]) / wb.w[1];\r\n        ctx.fillStyle = 'rgb(0,0,0)';\r\n        ctx.lineWidth = 1;\r\n        ctx.beginPath();\r\n        // wx+b=0 line\r\n        ctx.moveTo(xs[0] * ss + WIDTH / 2, ys[0] * ss + HEIGHT / 2);\r\n        ctx.lineTo(xs[1] * ss + WIDTH / 2, ys[1] * ss + HEIGHT / 2);\r\n        // wx+b=1 line\r\n        ctx.moveTo(xs[0] * ss + WIDTH / 2, (ys[0] - 1.0 / wb.w[1]) * ss + HEIGHT / 2);\r\n        ctx.lineTo(xs[1] * ss + WIDTH / 2, (ys[1] - 1.0 / wb.w[1]) * ss + HEIGHT / 2);\r\n        // wx+b=-1 line\r\n        ctx.moveTo(xs[0] * ss + WIDTH / 2, (ys[0] + 1.0 / wb.w[1]) * ss + HEIGHT / 2);\r\n        ctx.lineTo(xs[1] * ss + WIDTH / 2, (ys[1] + 1.0 / wb.w[1]) * ss + HEIGHT / 2);\r\n        ctx.stroke();\r\n\r\n        // draw margin lines for support vectors. The sum of the lengths of these\r\n        // lines, scaled by C is essentially the total hinge loss.\r\n        for (let i = 0; i < data.length; i++) {\r\n          if (svm.alpha[i] < 1e-2) continue;\r\n          if (labels[i] === 1) {\r\n            ys[0] = (1 - wb.b - wb.w[0] * xs[0]) / wb.w[1];\r\n            ys[1] = (1 - wb.b - wb.w[0] * xs[1]) / wb.w[1];\r\n          } else {\r\n            ys[0] = (-1 - wb.b - wb.w[0] * xs[0]) / wb.w[1];\r\n            ys[1] = (-1 - wb.b - wb.w[0] * xs[1]) / wb.w[1];\r\n          }\r\n          let u = (data[i][0] - xs[0]) * (xs[1] - xs[0]) + (data[i][1] - ys[0]) * (ys[1] - ys[0]);\r\n          u = u / ((xs[0] - xs[1]) * (xs[0] - xs[1]) + (ys[0] - ys[1]) * (ys[0] - ys[1]));\r\n          let xi = xs[0] + u * (xs[1] - xs[0]);\r\n          let yi = ys[0] + u * (ys[1] - ys[0]);\r\n          ctx.moveTo(data[i][0] * ss + WIDTH / 2, data[i][1] * ss + HEIGHT / 2);\r\n          ctx.lineTo(xi * ss + WIDTH / 2, yi * ss + HEIGHT / 2);\r\n        }\r\n        ctx.stroke();\r\n      }\r\n    }\r\n\r\n  return (\r\n    <div>\r\n      <Grid container>\r\n        <Grid item md={6} xs={12}>\r\n          <TitleBar name=\"Support Vector Machine\" tags={['Classification', 'Analysis']} />\r\n          <CsvReader />\r\n          <CsvTable />\r\n        </Grid>\r\n        <Grid item md={6} xs={12}>\r\n                    <div style={{ padding: '10px' }}>\r\n                        <LoadDataset />\r\n                        <Description desc=\"svm\" />\r\n                        {error && (\r\n                            <Alert style={{ margin: '10px' }} onClose={() => setError('')} severity=\"error\">\r\n                                {error}\r\n                            </Alert>\r\n                        )}\r\n                        {csv ? (\r\n                            <Grid container>\r\n                              <Grid style={{ textAlign: 'center' }} item xs={12}>\r\n                                    <Button variant=\"contained\" color=\"primary\" style={{ width: '90%' }} onClick={async () => await trainModel(csv, labelColumn, columnNames)}>Train</Button>\r\n                              </Grid>\r\n                                <div style={{ paddingTop: '50px'}}>\r\n                                  <canvas width=\"500\" height=\"500\" ref={NPGcanvas} />\r\n                                </div>\r\n                              </Grid>\r\n                        ) : (\r\n                                <div style={{ paddingTop: '50px', textAlign: 'center' }}>\r\n                                    Please select a dataset\r\n                                </div>\r\n                            )}\r\n                    </div>\r\n                </Grid>\r\n      </Grid>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Overview;","const defaultOptions = {\r\n  rootNode: 'body',\r\n  width: 500,\r\n  height: 300,\r\n  padding: 50,\r\n  backgroundColor: '#1d1e22',\r\n  circleRadius: 5,\r\n  circleFill: 'grey',\r\n  circleStroke: 'white'\r\n};\r\nconst defaultType = 'None';\r\n\r\nconst defaultTypes = {\r\n  A: 'A',\r\n  B: 'B',\r\n  None: 'None'\r\n};\r\n\r\nconst defaultK = 3;\r\n\r\nexport {\r\n  defaultOptions,\r\n  defaultType,\r\n  defaultTypes,\r\n  defaultK\r\n};\r\n","import { defaultType, defaultOptions } from './defaults';\r\n\r\nexport default class Circle {\r\n  constructor(cx,\r\n              cy,\r\n              radius = defaultOptions.circleRadius,\r\n              fill = defaultOptions.circleFill,\r\n              stroke = defaultOptions.circleStroke,\r\n              type = defaultType\r\n  ) {\r\n    this.cx = cx;\r\n    this.cy = cy;\r\n    this.radius = radius;\r\n    this.fill = fill;\r\n    this.stroke = stroke;\r\n    this.type = type;\r\n    this.distance = null;\r\n    this.cssClass = null;\r\n  }\r\n  setType(type) {\r\n    this.type = type;\r\n  }\r\n  setDistance(distance) {\r\n    this.distance = distance;\r\n  }\r\n  setCssClass(value) {\r\n    this.cssClass = value;\r\n  }\r\n}\r\n","import * as d3 from 'd3';\r\nimport Circle from './circle';\r\nimport { defaultOptions, defaultType } from './defaults';\r\n\r\nexport default class Visualization {\r\n  constructor(data, options, types = [defaultType]) {\r\n    this.options = Object.assign({}, defaultOptions, options);\r\n    this.xScale = this.createXScale(data);\r\n    this.yScale = this.createYScale(data);\r\n    if (this.isValidTypes(types)) {\r\n      this.types = types;\r\n    } else {\r\n      this.types = [defaultType];\r\n    }\r\n    this.typeColorMap = this.mapTypesToColors(this.types);\r\n    if (this.isValidData(data)) {\r\n      this.data = data.map(d => this.mapDataToCircle(d));\r\n    }\r\n    this.svgId = 'd3ml-' + Date.now();\r\n    this.svg = this.appendSVG();\r\n    this.clickable = true;\r\n  }\r\n  isValidData(data) {\r\n    let result = false;\r\n    if (!!data && Array.isArray(data)) {\r\n      result = data.reduce((res, val) => {\r\n        return Object.entries(val).reduce((result, entry) => {\r\n          const key = entry[0];\r\n          const val = entry[1];\r\n          let res = false;\r\n          if (this.isValidCoordinate(key, val) || this.isValidType(key, val)) {\r\n            res = result && true;\r\n          } else {\r\n            if (!this.isValidType(key, val)) {\r\n              const msg = `Invalid data specified: ${key} with value ${val}. ` +\r\n                'Accepted data keys are x and y. Values must be numeric.';\r\n              throw Error(msg);\r\n            } else if (!this.isValidCoordinate(key, val)) {\r\n              throw Error(`Invalid type specified: ${key}: ${val}`);\r\n            }\r\n          }\r\n\r\n          return res;\r\n        }, true);\r\n      }, true);\r\n    }\r\n\r\n    return result;\r\n  }\r\n  isValidCoordinate(key, val) {\r\n    return ['x', 'y'].includes(key) &&\r\n      typeof val === 'number' &&\r\n      val !== Infinity &&\r\n      val !== -Infinity;\r\n  }\r\n  isValidType(key, val) {\r\n    return key === 'type' && this.types.includes(val);\r\n  }\r\n  isValidTypes(types) {\r\n    let result = false;\r\n    if (!!types && Array.isArray(types) && types.length > 0) {\r\n      result = types.reduce((res, type) => {\r\n        return res && !!type;\r\n      }, true);\r\n    }\r\n\r\n    return result;\r\n  }\r\n  mapTypesToColors(types) {\r\n    const colorScale = d3.scaleOrdinal(d3.schemeSet1);\r\n\r\n    const colorMap = types.reduce((map, type) => {\r\n      map[type] = colorScale(type);\r\n\r\n      return map;\r\n    }, {});\r\n    colorMap[defaultType] = colorScale(defaultType);\r\n\r\n    return colorMap;\r\n  }\r\n  getFillColor(data) {\r\n    return !!data && data.type && this.typeColorMap.hasOwnProperty(data.type) ?\r\n      this.typeColorMap[data.type] : this.options.circleFill;\r\n  }\r\n  mapDataToCircle(data) {\r\n    const fillColor = this.getFillColor(data);\r\n\r\n    return new Circle(\r\n      this.xScale(data.x),\r\n      this.yScale(data.y),\r\n      this.options.circleRadius,\r\n      fillColor,\r\n      this.options.circleStroke,\r\n      data.type);\r\n  }\r\n  onClickSvg(targetId, callbacks) {\r\n    document.querySelector(`#${this.svgId}`).addEventListener('click', (e) => {\r\n      this.clickCallback(e, targetId, callbacks);\r\n    });\r\n  }\r\n  clickCallback(e, targetId, callbacks) {\r\n    if (this.isValidEventTarget(e.target, targetId) && this.clickable) {\r\n      const newCircle = this.mapDataToCircle({x: this.xScale.invert(e.offsetX), y: this.yScale.invert(e.offsetY)});\r\n      callbacks.forEach(callback => {\r\n        callback.call(this, newCircle);\r\n      });\r\n    }\r\n  }\r\n  onChangeInput(inputId, inputType, callbacks) {\r\n    document.querySelector(`#${inputId}`).addEventListener('change', (e) => {\r\n      this.inputChangeCallback(e, inputId, inputType, callbacks);\r\n    });\r\n  }\r\n  isValidEventTarget(target, targetId) {\r\n    return !!target && target.id === targetId;\r\n  }\r\n  inputChangeCallback(e, inputId, type, callbacks) {\r\n    if (this.isValidEventTarget(e.target, inputId)) {\r\n      const value = type === 'checkbox' ? e.target.checked : e.target.value;\r\n      callbacks.forEach(callback => {\r\n        callback.call(this, value);\r\n      });\r\n    }\r\n  }\r\n  setClickable(clickable) {\r\n    this.clickable = clickable;\r\n  }\r\n  createElement(elementName, attributes = []) {\r\n    const el = document.createElement(elementName);\r\n    attributes.forEach(attr => {\r\n      el.setAttribute(attr[0], attr[1]);\r\n    });\r\n\r\n    return el;\r\n  }\r\n  createSettingsGroup(childElements) {\r\n    const settingsGroup = this.createElement('div', [['class', 'settings__group']]);\r\n    childElements.forEach(child => {\r\n      settingsGroup.append(child);\r\n    });\r\n\r\n    return settingsGroup;\r\n  }\r\n  createLabeledInput(labelText, labelAttributes, inputValue, inputAttributes) {\r\n    const span = this.createElement('span');\r\n    span.innerHTML = inputValue;\r\n\r\n    const inputLabel = this.createElement('label', labelAttributes);\r\n    inputLabel.textContent = labelText;\r\n\r\n    const input = this.createElement('input', [...inputAttributes, ['value', inputValue]]);\r\n    inputLabel.appendChild(span);\r\n\r\n    return {label: inputLabel, input};\r\n  }\r\n  addCircle(circle) {\r\n    this.data.push(circle);\r\n  }\r\n  appendSVG() {\r\n    return d3.select(this.options.rootNode)\r\n      .append('svg')\r\n      .attr('id', this.svgId)\r\n      .attr('width', this.options.width)\r\n      .attr('height', this.options.height)\r\n      .style('background-color', this.options.backgroundColor);\r\n  }\r\n  createXScale(data) {\r\n    return d3.scaleLinear()\r\n      .domain([\r\n        d3.min(data, function (d) { return d.x; }) - this.options.padding,\r\n        d3.max(data, function (d) { return d.x; }) + this.options.padding\r\n      ])\r\n      .range([0, this.options.width]);\r\n  }\r\n  createYScale(data) {\r\n    return d3.scaleLinear()\r\n      .domain([\r\n        d3.min(data, function (d) { return d.y; }) - this.options.padding,\r\n        d3.max(data, function (d) { return d.y; }) + this.options.padding\r\n      ])\r\n      .range([0, this.options.height]);\r\n  }\r\n  drawCircles() {\r\n    this.svg.selectAll('circle')\r\n      .data(this.data)\r\n      .enter().append('circle')\r\n      .style('stroke', function (d) { return d.stroke; })\r\n      .style('fill', function (d) { return d.fill; })\r\n      .attr('r', function (d) { return d.radius; })\r\n      .attr('cx', function (d) { return d.cx; })\r\n      .attr('cy', function (d) { return d.cy; })\r\n      .attr('class', function (d) { return d.cssClass ? d.cssClass : ''; });\r\n  }\r\n  draw() {\r\n    this.drawCircles();\r\n  }\r\n}\r\n","import MachineLearningAlgorithm from './machine-learning-algorithm';\r\nimport {defaultK} from '../visualization/defaults';\r\n\r\nexport default class KNN extends MachineLearningAlgorithm {\r\n  constructor(circles, types, k = defaultK, weighted = false) {\r\n    super(circles);\r\n    this.k = k;\r\n    this.types = types;\r\n    this.kClosestNeighbors = null;\r\n    this.weighted = weighted;\r\n  }\r\n  calculateDistance(a, b) {\r\n    return Math.sqrt(Math.pow((b.cx - a.cx), 2) + Math.pow((b.cy - a.cy), 2));\r\n  }\r\n  compareDistance(a, b) {\r\n    if (a.distance > b.distance) {\r\n      return 1;\r\n    } else if (a.distance < b.distance) {\r\n      return -1;\r\n    }\r\n\r\n    return 0;\r\n  }\r\n  findKClosestNeighbors(newCircle, neighbors) {\r\n    return neighbors.filter(n => n !== newCircle)\r\n      .map(n => {\r\n        n.setDistance(this.calculateDistance(n, newCircle));\r\n\r\n        return n;\r\n      })\r\n      .sort((a, b) => this.compareDistance(a, b))\r\n      .filter((n, i) => i < this.k);\r\n\r\n  }\r\n  getCircleTypeWeighted(kClosestNeighbors) { // todo: test\r\n    const typeDistance = this.types.reduce((res, type) => {\r\n      res[type] = 0;\r\n\r\n      return res;\r\n    }, {max: {type: null, val: 0}});\r\n    const res = kClosestNeighbors.reduce((res, neighbor) => {\r\n      const inverseDistance = res[neighbor.type] + 1 / neighbor.distance;\r\n      if (inverseDistance > res.max.val) {\r\n        res.max.type = neighbor.type;\r\n        res.max.val = inverseDistance;\r\n      }\r\n      res[neighbor.type] = inverseDistance;\r\n\r\n      return res;\r\n    }, typeDistance);\r\n\r\n    return res.max.type;\r\n  }\r\n  getCircleTypeUnweighted(kClosestNeighbors) { // todo: test\r\n    const counts = {};\r\n    kClosestNeighbors.map(n => n.type)\r\n      .forEach(type => {\r\n        counts[type] = counts[type] ? counts[type] + 1 : 1;\r\n      });\r\n\r\n    return Object.entries(counts).sort((a, b) => a[1] < b[1])[0][0];\r\n  }\r\n  determineCircleType(kClosestNeighbors) {\r\n    return this.weighted ?\r\n      this.getCircleTypeWeighted(kClosestNeighbors) : this.getCircleTypeUnweighted(kClosestNeighbors);\r\n  }\r\n  classify(circle, neighbors) {\r\n    this.kClosestNeighbors = this.findKClosestNeighbors(circle, neighbors);\r\n\r\n    return this.determineCircleType(this.kClosestNeighbors);\r\n  }\r\n}\r\n","export default class MachineLearningAlgorithm {\r\n  constructor(circles) {\r\n    this.circles = circles;\r\n  }\r\n}\r\n","import Circle from './circle';\r\nimport {defaultK, defaultType} from './defaults';\r\nimport Visualization from './visualization';\r\nimport KNN from '../algorithms/knn';\r\n\r\nexport default class KNNVisualization extends Visualization {\r\n  constructor(data, options, types, k = defaultK) {\r\n    super(data, options, types);\r\n    this.knn = new KNN(this.data, types, k);\r\n    this.onClickSvg(this.svgId, [this.svgClickCallback])\r\n  }\r\n  svgClickCallback(circle) {\r\n    this.setClickable(false);\r\n\r\n    const classifiedCircle = this.getClassifiedCircle(circle);\r\n    this.addCircle(classifiedCircle);\r\n    const boundingCircle = this.getBoundingCircle(classifiedCircle);\r\n    this.addCircle(boundingCircle);\r\n\r\n    this.drawCircles();\r\n    this.drawConnectingLines(this.mapClosestNeighborsToConnectingLines(classifiedCircle));\r\n\r\n    this.data = this.data.filter(c => c !== boundingCircle);\r\n    this.removeElementsAfterTransition('.remove');\r\n  }\r\n  getClassifiedCircle(circle) {\r\n    const circleType = this.knn.classify(circle, this.data);\r\n    circle.setType(circleType);\r\n\r\n    return circle;\r\n  }\r\n  getBoundingCircle(circle) {\r\n    const furthestNeighbor = this.knn.kClosestNeighbors[this.knn.k - 1];\r\n    const radius = furthestNeighbor.distance + this.options.circleRadius;\r\n    const boundingCircle = new Circle(circle.cx, circle.cy, radius, 'transparent', 'white');\r\n    boundingCircle.setCssClass('remove');\r\n\r\n    return boundingCircle;\r\n  }\r\n  mapClosestNeighborsToConnectingLines(circle) {\r\n    return this.knn.kClosestNeighbors.map(n => {\r\n      return {\r\n        x1: n.cx,\r\n        x2: circle.cx,\r\n        y1: n.cy,\r\n        y2: circle.cy,\r\n        strokeWidth: 2,\r\n        stroke: 'rgba(230,230,230,0.5)'\r\n      };\r\n    });\r\n  }\r\n  drawConnectingLines(connectingLines) {\r\n    this.svg.selectAll('line')\r\n      .data(connectingLines)\r\n      .enter().append('line')\r\n      .style('stroke', function (d) { return d.stroke; })\r\n      .attr('stroke-width', function (d) { return d.strokeWidth; })\r\n      .attr('x1', function (d) { return d.x1; })\r\n      .attr('y1', function (d) { return d.y1; })\r\n      .attr('x2', function (d) { return d.x2; })\r\n      .attr('y2', function (d) { return d.y2; })\r\n      .attr('class', 'remove');\r\n  }\r\n  drawCircles() {\r\n    super.drawCircles();\r\n    const colorMap = this.typeColorMap;\r\n    this.svg.selectAll('circle')\r\n      .transition().duration(1500)\r\n      .style('fill', function (d) {\r\n        const typeColor = colorMap[d.type];\r\n\r\n        return d.type === defaultType || d.fill === typeColor ? d.fill : typeColor;\r\n      });\r\n  }\r\n  removeElementsAfterTransition(selector) {\r\n    const that = this;\r\n    this.svg.selectAll(selector)\r\n      .transition()\r\n      .duration(2000)\r\n      .style('stroke', 'transparent')\r\n      .style('fill', 'transparent')\r\n      .on('end', function () {\r\n        that.removeElements(selector);\r\n        that.setClickable(true);\r\n      });\r\n  }\r\n  removeElements(selector) {\r\n    this.svg.selectAll(selector).remove();\r\n  }\r\n};\r\n","import React, { useState, useEffect, useRef } from 'react';\r\nimport MUIDataTable from \"mui-datatables\";\r\nimport {KNNVisualization} from './d3knn';\r\nimport LoadDataset from '../utils/LoadDataset';\r\nimport Description from '../utils/Description';\r\nimport TitleBar from '../utils/TitleBar';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Slider from '@material-ui/core/Slider';\r\n\r\nconst KNN = () => {\r\n    const [params, setParams] = useState({\r\n        displayWidth: Math.min(350, window.innerWidth - 10),\r\n        displayHeight: 450,\r\n        types: ['A', 'B'],\r\n        dataSetSize: 250,\r\n        k: 10,\r\n    })\r\n\r\n    const knn = useRef();\r\n\r\n    const [data, setData] = useState(null)\r\n    useEffect(() => {\r\n        function getRandomInt(min, max) {\r\n            return Math.floor(Math.random() * (max - min + 1)) + min;\r\n          }\r\n          function createRandomEllipsoidCoordinates(width, height, cx, cy) {\r\n            const rho = Math.sqrt(Math.random());\r\n            const phi = Math.random() * Math.PI * 2;\r\n            const rands = {\r\n              x: getRandomInt(-width / 2, width / 2),\r\n              y: getRandomInt(-height / 2, height / 2)\r\n            };\r\n            const x = (rho * Math.cos(phi) * width) / 2 + cx + rands.x;\r\n            const y = (rho * Math.sin(phi) * height) / 2 + cy + rands.y;\r\n            return { x, y };\r\n        }\r\n\r\n        function createRandomData(displayWidth, displayHeight, dataSetSize, types) {\r\n            const ellipsoidOptions = {\r\n                A: {\r\n                    width: displayWidth / 3,\r\n                    height: displayWidth / 3,\r\n                    cx: displayWidth / 3,\r\n                    cy: displayHeight / 3\r\n                },\r\n                B: {\r\n                    width: displayWidth / 2.5,\r\n                    height: displayWidth / 2.5,\r\n                    cx: displayWidth * 0.663,\r\n                    cy: displayHeight * 0.66\r\n                }\r\n            };\r\n            return Array.apply(null, Array(dataSetSize)).map((d) => {\r\n                const type = Math.random() > 0.5 ? types[0] : types[1];\r\n                const { width, height, cx, cy } = ellipsoidOptions[type];\r\n                const { x, y } = createRandomEllipsoidCoordinates(width, height, cx, cy);\r\n                return { x, y, type };\r\n            });\r\n        }\r\n        const options = {\r\n            rootNode: '#knn',\r\n            width: params.displayWidth,\r\n            height: params.displayHeight,\r\n            backgroundColor: 'black',\r\n            circleFill: '#3fe4h2',\r\n            circleStroke: 'white' \r\n        };\r\n        knn.current.innerHTML = null;\r\n        let vis\r\n        if (!data) {\r\n            let dataset = createRandomData(params.displayWidth, params.displayHeight, params.dataSetSize, params.types);\r\n            setData(dataset)\r\n            vis = new KNNVisualization(dataset, options, params.types, params.k);\r\n        } else {\r\n            vis = new KNNVisualization(data, options, params.types, params.k);\r\n        }\r\n        vis.draw();\r\n    }, [params, data])\r\n\r\n\r\n    useEffect(() => {\r\n        function getRandomInt(min, max) {\r\n            return Math.floor(Math.random() * (max - min + 1)) + min;\r\n          }\r\n          function createRandomEllipsoidCoordinates(width, height, cx, cy) {\r\n            const rho = Math.sqrt(Math.random());\r\n            const phi = Math.random() * Math.PI * 2;\r\n            const rands = {\r\n              x: getRandomInt(-width / 2, width / 2),\r\n              y: getRandomInt(-height / 2, height / 2)\r\n            };\r\n            const x = (rho * Math.cos(phi) * width) / 2 + cx + rands.x;\r\n            const y = (rho * Math.sin(phi) * height) / 2 + cy + rands.y;\r\n            return { x, y };\r\n        }\r\n\r\n        function createRandomData(displayWidth, displayHeight, dataSetSize, types) {\r\n            const ellipsoidOptions = {\r\n                A: {\r\n                    width: displayWidth / 3,\r\n                    height: displayWidth / 3,\r\n                    cx: displayWidth / 3,\r\n                    cy: displayHeight / 3\r\n                },\r\n                B: {\r\n                    width: displayWidth / 2.5,\r\n                    height: displayWidth / 2.5,\r\n                    cx: displayWidth * 0.663,\r\n                    cy: displayHeight * 0.66\r\n                }\r\n            };\r\n            return Array.apply(null, Array(dataSetSize)).map((d) => {\r\n                const type = Math.random() > 0.5 ? types[0] : types[1];\r\n                const { width, height, cx, cy } = ellipsoidOptions[type];\r\n                const { x, y } = createRandomEllipsoidCoordinates(width, height, cx, cy);\r\n                return { x, y, type };\r\n            });\r\n        }\r\n        let dataset = createRandomData(params.displayWidth, params.displayHeight, params.dataSetSize, params.types);\r\n        setData(dataset)\r\n    }, [params.displayWidth, params.displayHeight, params.dataSetSize, params.types])\r\n\r\n    const options = {\r\n        filterType: \"dropdown\",\r\n        responsive: \"scroll\"\r\n    };\r\n\r\n    function valuetext(value) {\r\n        return `${value}`;\r\n    }\r\n\r\n    return (\r\n        <div style={{ paddingBottom: '30px' }}>\r\n            <Grid container>\r\n                <Grid item md={6} xs={12}>\r\n                    <TitleBar name=\"K Nearest Neighbours\" tags={['Nearest Neighbours', 'ScatterPlot']} />\r\n                    <div className=\"csv-table\">\r\n                    {data ? (\r\n                        <MUIDataTable\r\n                            title={\"Data Table\"}\r\n                            data={data}\r\n                            columns={['x', 'y', 'type']}\r\n                            options={options}\r\n                        />\r\n                    ) : (\r\n                        <div style={{ textAlign: 'center' }}>\r\n                            <h3>No Data Found</h3>\r\n                        </div>\r\n                    )}\r\n                    </div>\r\n                </Grid>\r\n                <Grid item md={6} xs={12}>\r\n                    <LoadDataset />\r\n                    <Description desc=\"knn\" />\r\n                    <div style={{ margin: '20px' }}>\r\n                        <Grid container>\r\n                            <Grid item xs={12}>\r\n                                <Typography id=\"discrete-slider\" gutterBottom>\r\n                                    Dataset Size &nbsp;\r\n                                    <span style={{ color: '#1692f7', fontWeight: '500', fontSize: '18px' }}>\r\n                                        {params.dataSetSize}\r\n                                    </span>\r\n                                    &nbsp;rows\r\n                                </Typography>\r\n                                <Slider \r\n                                    style={{ color: '#1692f7', width: '90%' }} \r\n                                    value={params.dataSetSize}\r\n                                    aria-labelledby=\"discrete-slider\"\r\n                                    valueLabelDisplay=\"auto\"\r\n                                    step={50}\r\n                                    marks\r\n                                    min={10}\r\n                                    max={1000} \r\n                                    getAriaValueText={valuetext}\r\n                                    onChange={(event, newValue) => {\r\n                                        setParams({\r\n                                            ...params,\r\n                                            dataSetSize: newValue\r\n                                        })\r\n                                    }}\r\n                                />\r\n                            </Grid>\r\n                            <Grid item xs={12}>\r\n                                <Typography id=\"continuous-slider\" gutterBottom>\r\n                                    Number of Neighbours (K) &nbsp;\r\n                                    <span style={{ color: 'red', fontWeight: '500', fontSize: '18px' }}>\r\n                                        {params.k}\r\n                                    </span>\r\n                                </Typography>\r\n                                <Slider \r\n                                    style={{ color: 'red', width: '90%' }} \r\n                                    value={params.k}\r\n                                    aria-labelledby=\"continuous-slider\"\r\n                                    valueLabelDisplay=\"auto\"\r\n                                    step={25}\r\n                                    marks\r\n                                    min={10}\r\n                                    max={params.dataSetSize} \r\n                                    getAriaValueText={valuetext}\r\n                                    onChange={(event, newValue) => {\r\n                                        setParams({\r\n                                            ...params,\r\n                                            k: newValue\r\n                                        })\r\n                                    }}\r\n                                />\r\n                            </Grid>\r\n                        </Grid>\r\n                    </div>\r\n                    <div style={{ textAlign: 'center' }}>\r\n                        <div id=\"knn\" ref={knn}></div>\r\n                    </div>\r\n                </Grid>\r\n            </Grid>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default KNN;","import React, { useState, useEffect, useContext } from 'react';\r\nimport { csvContext } from '../context/csv-context';\r\nimport LoadDataset from '../utils/LoadDataset';\r\nimport Description from '../utils/Description';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport CsvReader from '../utils/CsvReader';\r\nimport CsvTable from '../utils/CsvTable';\r\nimport TitleBar from '../utils/TitleBar';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Alert from '@material-ui/lab/Alert';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Slider from '@material-ui/core/Slider';\r\nimport { Button } from '@material-ui/core';\r\nimport { VisorStop, DrawBarChart } from '../linreg/utils';\r\nimport { ConvertCSVToSingleArray } from '../../ML/utils';\r\nconst { PCA } = require('ml-pca');\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        '& > *': {\r\n            margin: theme.spacing(1),\r\n            width: '25ch',\r\n        },\r\n    },\r\n    button: {\r\n        margin: theme.spacing(1),\r\n        width: '100%',\r\n    },\r\n    descDiv: {\r\n        marginTop: '20px',\r\n        background: '#505050',\r\n        width: '100%',\r\n        padding: '15px',\r\n        fontSize: '14px',\r\n    },\r\n}));\r\n\r\nconst PCAnalysis = () => {\r\n    const classes = useStyles();\r\n    const { csv } = useContext(csvContext);\r\n    const [columns, setColumns] = useState([]);\r\n    const [threshold, setThreshold] = useState(0.5)\r\n    const [pcaColumns, setPcaColumns] = useState([]);\r\n    const [error, setError] = useState('');\r\n\r\n    useEffect(() => {\r\n        if (csv) {\r\n            async function Fetch() {\r\n                let cols = await csv.columnNames()\r\n                setColumns(cols);\r\n                setPcaColumns([]);\r\n            }\r\n            Fetch();\r\n        }\r\n    }, [csv])\r\n\r\n    const toggleColumn = (event) => {\r\n        if (event.target.checked) {\r\n            let array = [event.target.name]\r\n            setPcaColumns([...pcaColumns, ...array])\r\n        } else {\r\n            let newArray = pcaColumns.filter((col) => col !== event.target.name);\r\n            setPcaColumns([...newArray])\r\n        }\r\n    }\r\n\r\n    function valuetext(value) {\r\n        return `${value}`;\r\n    }\r\n\r\n    const trainPca = async () => {\r\n        if (pcaColumns && pcaColumns.length > 0) {\r\n            try {\r\n                // accepts the dataset and threshold and the output is total letiance of all features in order = arr1[] \"or\" the outputs which are above the threshold given = arr2[]\r\n\r\n                const data = await ConvertCSVToSingleArray(csv, pcaColumns);\r\n                // dataset is a two-dimensional array where rows represent the samples and columns the features\r\n                const pca = new PCA(data);\r\n                const arr1 = pca.getExplainedVariance();\r\n\r\n                VisorStop();\r\n                console.log(arr1);\r\n                await DrawBarChart(\"PCA\", \"PCA\", arr1)\r\n                console.log('The total variance is ' + arr1);\r\n            } catch (err) {\r\n                console.log(err)\r\n                setError('Please select only numerical Attributes')\r\n            }\r\n        } else {\r\n            setError('Please provide proper parameters')\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <Grid container>\r\n                <Grid item md={6} xs={12}>\r\n                    <TitleBar name=\"Principal Component Analysis\" tags={['Classification', 'Analysis', 'Variance']} />\r\n                    <CsvReader />\r\n                    <CsvTable />\r\n                </Grid>\r\n                <Grid item md={6} xs={12}>\r\n                    <div style={{ padding: '10px' }}>\r\n                        <LoadDataset />\r\n                        <Description desc=\"pca\" />\r\n                        {error && (\r\n                            <Alert style={{ margin: '10px' }} onClose={() => setError('')} severity=\"error\">\r\n                                {error}\r\n                            </Alert>\r\n                        )}\r\n                        {csv ? (\r\n                            <Grid container>\r\n                                <Grid item xs={12}>\r\n                                    <Alert style={{ color: 'rgb(255, 213, 153)', background: 'rgb(25, 15, 0)' }} severity=\"warning\">\r\n                                        Please choose only numerical Attributes!\r\n                                    </Alert>\r\n                                    <Paper className={classes.descDiv}>\r\n                                        Select the Attributes for Analysis\r\n                                    </Paper>\r\n                                </Grid>\r\n                                <Grid item xs={12}>\r\n                                    {columns.map((column, index) =>\r\n                                        <FormControlLabel\r\n                                            key={index}\r\n                                            control={<Checkbox\r\n                                                checked={pcaColumns.includes(column)}\r\n                                                color=\"default\"\r\n                                                name={column}\r\n                                                onChange={toggleColumn}\r\n                                            />}\r\n                                            label={column}\r\n                                        />\r\n                                    )}\r\n                                </Grid>\r\n                                <Grid style={{ textAlign: 'center' }} item xs={12}>\r\n                                    <Paper className={classes.descDiv}>\r\n                                        Select Threshold\r\n                                    </Paper>\r\n                                    <Typography style={{ marginTop: '5px' }} id=\"range-slider\" gutterBottom>\r\n                                        <span style={{ color: '#1692f7', fontWeight: '500', fontSize: '18px' }}>\r\n                                            {threshold}\r\n                                        </span>\r\n                                    </Typography>\r\n                                    <Slider\r\n                                        style={{ color: '#1692f7', width: '90%' }}\r\n                                        value={threshold}\r\n                                        aria-labelledby=\"range-slider\"\r\n                                        valueLabelDisplay=\"auto\"\r\n                                        marks\r\n                                        min={0.1}\r\n                                        max={1.0}\r\n                                        step={0.01}\r\n                                        getAriaValueText={valuetext}\r\n                                        onChange={(event, newValue) => {\r\n                                            setThreshold(newValue)\r\n                                        }}\r\n                                    />\r\n                                </Grid>\r\n                                <Grid style={{ textAlign: 'center' }} item xs={12}>\r\n                                    <Button variant=\"contained\" color=\"primary\" style={{ width: '90%' }} onClick={trainPca}>Train</Button>\r\n                                </Grid>\r\n                            </Grid>\r\n                        ) : (\r\n                                <div style={{ paddingTop: '50px', textAlign: 'center' }}>\r\n                                    Please select a dataset\r\n                                </div>\r\n                            )}\r\n                    </div>\r\n                </Grid>\r\n            </Grid>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default PCAnalysis;","import React, { useState, useEffect, useContext } from 'react';\r\nimport { Formik } from 'formik';\r\nimport { csvContext } from '../../context/csv-context';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport TitleBar from '../../utils/TitleBar';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport CsvReader from '../../utils/CsvReader';\r\nimport CsvTable from '../../utils/CsvTable';\r\nimport LoadDataset from '../../utils/LoadDataset';\r\nimport Description from '../../utils/Description';\r\nimport Button from '@material-ui/core/Button';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Alert from '@material-ui/lab/Alert';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport FormHelperText from '@material-ui/core/FormHelperText';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Slider from '@material-ui/core/Slider';\r\n\r\nimport { fcmeans } from './figue.js';\r\nimport { FindArgMax, ConvertCSVToSingleArray, ConvertClusterIconsToData } from '../../../ML/utils';\r\nimport { VisorStop, DrawScatterPlot, GenerateChartForCluster } from '../../linreg/utils';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    paper: {\r\n        margin: theme.spacing(8, 4),\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        alignItems: 'center',\r\n    },\r\n    formControl: {\r\n        margin: theme.spacing(1),\r\n        width: '80%',\r\n    },\r\n    selectEmpty: {\r\n        marginTop: theme.spacing(2),\r\n    },\r\n    form: {\r\n        width: '90%', // Fix IE 11 issue.\r\n        marginTop: theme.spacing(1),\r\n        marginLeft: '20px',\r\n    },\r\n    submit: {\r\n        width: '100px',\r\n    },\r\n}));\r\n\r\nasync function PerformFCMeans(csv, k, epsilon, fuzziness, labels, xIdx, yIdx) {\r\n    const data = await ConvertCSVToSingleArray(csv, labels);\r\n    const res = fcmeans(k, data, epsilon, fuzziness)\r\n    const assignedClusters = await FindArgMax(res.membershipMatrix.mtx);\r\n    const clusters = ConvertClusterIconsToData(assignedClusters, k, data);\r\n    VisorStop();\r\n    const chart = GenerateChartForCluster(res.centroids, clusters, xIdx, yIdx);\r\n    await DrawScatterPlot(chart);\r\n}\r\nexport default function FCMeans() {\r\n    const classes = useStyles();\r\n    const [error, setError] = useState('')\r\n    const { csv } = useContext(csvContext);\r\n    const [columnNames, setColumnNames] = useState([]);\r\n    const [label, setLabel] = useState();\r\n\r\n    useEffect(() => {\r\n        if (csv == null)\r\n            return;\r\n        async function LoadColumnNames() {\r\n            const columns = await csv.columnNames();\r\n            setColumnNames(columns);\r\n            setLabel(columns[0]);\r\n        }\r\n        LoadColumnNames();\r\n    }, [csv, setColumnNames]);\r\n\r\n    function valuetext(value) {\r\n        return `${value}`;\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <Grid container>\r\n                <Grid item md={6} xs={12}>\r\n                    <TitleBar name=\"Fuzzy C-Means\" tags={['Clustering', 'C-Means', 'Matrix']} />\r\n                    <CsvReader />\r\n                    <CsvTable />\r\n                </Grid>\r\n                <Grid item md={6} xs={12}>\r\n                    <LoadDataset />\r\n                    <Description desc=\"fcmeans\" />\r\n                    {csv && columnNames && label ? (\r\n                        <div style={{ padding: '10px' }}>\r\n                            {error && (\r\n                                <Alert onClose={() => setError('')} severity=\"error\">\r\n                                    {error}\r\n                                </Alert>\r\n                            )}\r\n                            <Formik\r\n                                enableReinitialize\r\n                                initialValues={{\r\n                                    vectors: columnNames,\r\n                                    k: 4,\r\n                                    epsilon: 0.3,\r\n                                    fuzziness: 2\r\n                                }}\r\n                                validate={values => {\r\n                                    const errors = {};\r\n                                    if (!values.epsilon) {\r\n                                        errors.epsilon = 'Required';\r\n                                    }\r\n                                    if (!values.fuzziness) {\r\n                                        errors.fuzziness = 'Required';\r\n                                    }\r\n                                    if (values.k < 2 && values.k > 9) {\r\n                                        errors.k = 'Invalid number of clusters'\r\n                                    }\r\n                                    return errors;\r\n                                }}\r\n                                onSubmit={async (values) => {\r\n                                    console.log(values);\r\n                                    setError(\"\");\r\n                                    try {\r\n                                        const labels = [...(new Set([...values.vectors]))];\r\n                                        const xIdx = 0;\r\n                                        const yIdx = 1;\r\n                                        await PerformFCMeans(csv, values.k, values.epsilon, values.fuzziness, labels, xIdx, yIdx);\r\n                                    } catch (err) {\r\n                                        console.error(err);\r\n                                        setError('Please Recheck your Provided Parameters');\r\n                                    }\r\n                                }}\r\n                            >{({\r\n                                values,\r\n                                errors,\r\n                                touched,\r\n                                handleChange,\r\n                                handleBlur,\r\n                                handleSubmit,\r\n                                isSubmitting,\r\n                                setFieldValue,\r\n                            }) => (\r\n                                    <form className={classes.form} onSubmit={handleSubmit}>\r\n                                        <Grid container spacing={1}>\r\n                                            <Grid item xs={12}>\r\n                                                <Paper style={{ backgroundColor: 'black', padding: '20px' }}>\r\n                                                    Select the numerical attributes\r\n                                                </Paper>\r\n                                                {columnNames.map((column, index) =>\r\n                                                    <FormControlLabel\r\n                                                        key={index}\r\n                                                        control={<Checkbox\r\n                                                            checked={values.vectors.includes(column)}\r\n                                                            color=\"default\"\r\n                                                            name={column}\r\n                                                            onChange={(event) => {\r\n                                                                let array = values.vectors;\r\n                                                                if (array.includes(event.target.name)) {\r\n                                                                    const newArray = array.filter((col) => col !== event.target.name);\r\n                                                                    setFieldValue('vectors', newArray, false)\r\n                                                                } else {\r\n                                                                    array.push(event.target.name)\r\n                                                                    setFieldValue('vectors', array, false)\r\n                                                                }\r\n                                                            }}\r\n                                                        />}\r\n                                                        label={column}\r\n                                                    />\r\n                                                )}\r\n                                            </Grid>\r\n                                            <Grid style={{ marginTop: '10px' }} item xs={12}>\r\n                                                <TextField id=\"select\"\r\n                                                    style={{ width: '90%' }}\r\n                                                    label=\"Number of clusters\" select\r\n                                                    fullWidth\r\n                                                    value={values.k}\r\n                                                    name=\"k\"\r\n                                                    onChange={(event) => {\r\n                                                        setFieldValue('k', parseInt(event.target.value), true)\r\n                                                    }}\r\n                                                    variant=\"filled\"\r\n                                                >\r\n                                                    <MenuItem value={2}>2</MenuItem>\r\n                                                    <MenuItem value={3}>3</MenuItem>\r\n                                                    <MenuItem value={4}>4</MenuItem>\r\n                                                    <MenuItem value={5}>5</MenuItem>\r\n                                                    <MenuItem value={6}>6</MenuItem>\r\n                                                    <MenuItem value={7}>7</MenuItem>\r\n                                                    <MenuItem value={8}>8</MenuItem>\r\n                                                    <MenuItem value={9}>9</MenuItem>\r\n                                                </TextField>\r\n                                                <FormHelperText>Total number of clusters for FCMeans</FormHelperText>\r\n                                                <div style={{ margin: \"10px\", color: \"red\" }}>\r\n                                                    {errors.k && touched.k && errors.k}\r\n                                                </div>\r\n                                            </Grid>\r\n                                            <Grid item xs={12}>\r\n                                                <Typography style={{ marginTop: '5px' }} id=\"epsilon-slider\" gutterBottom>\r\n                                                    Epsilon\r\n                                                    <span style={{ color: '#1692f7', marginLeft: '10px', fontWeight: '500', fontSize: '18px' }}>\r\n                                                        {values.epsilon}\r\n                                                    </span>\r\n                                                </Typography>\r\n                                                <Slider\r\n                                                    style={{ color: '#1692f7', width: '90%' }}\r\n                                                    value={values.epsilon}\r\n                                                    aria-labelledby=\"epsilon-slider\"\r\n                                                    valueLabelDisplay=\"auto\"\r\n                                                    marks\r\n                                                    min={0.1}\r\n                                                    max={0.9}\r\n                                                    step={0.1}\r\n                                                    getAriaValueText={valuetext}\r\n                                                    onChange={(event, newValue) => {\r\n                                                        setFieldValue('epsilon', parseFloat(newValue), false)\r\n                                                    }}\r\n                                                />\r\n                                                <div style={{ margin: \"10px\", color: \"red\" }}>\r\n                                                    {errors.epsilon && touched.epsilon && errors.epsilon}\r\n                                                </div>\r\n                                            </Grid>\r\n                                            <Grid item xs={12}>\r\n                                                <Typography style={{ marginTop: '5px' }} id=\"fuzziness-slider\" gutterBottom>\r\n                                                    Fuzziness\r\n                                                    <span style={{ color: 'red', marginLeft: '10px', fontWeight: '500', fontSize: '18px' }}>\r\n                                                        {values.fuzziness}\r\n                                                    </span>\r\n                                                </Typography>\r\n                                                <Slider\r\n                                                    style={{ color: 'red', width: '90%' }}\r\n                                                    value={values.fuzziness}\r\n                                                    aria-labelledby=\"fuzziness-slider\"\r\n                                                    valueLabelDisplay=\"auto\"\r\n                                                    marks\r\n                                                    min={2}\r\n                                                    max={100}\r\n                                                    step={1}\r\n                                                    getAriaValueText={valuetext}\r\n                                                    onChange={(event, newValue) => {\r\n                                                        setFieldValue('fuzziness', parseInt(newValue), false)\r\n                                                    }}\r\n                                                />\r\n                                                <div style={{ margin: \"10px\", color: \"red\" }}>\r\n                                                    {errors.fuzziness && touched.fuzziness && errors.fuzziness}\r\n                                                </div>\r\n                                            </Grid>\r\n                                        </Grid>\r\n                                        <div style={{ margin: '10px', textAlign: 'center' }}>\r\n                                            <Button\r\n                                                style={{ width: '100%' }}\r\n                                                type=\"submit\"\r\n                                                fullWidth\r\n                                                variant=\"contained\"\r\n                                                color=\"primary\"\r\n                                                className={classes.submit}\r\n                                            // disabled={isSubmitting}\r\n                                            >\r\n                                                CLUSTER DATA\r\n                                    </Button>\r\n                                        </div>\r\n                                    </form>\r\n                                )}\r\n                            </Formik>\r\n                        </div>\r\n                    ) : (\r\n                            <div style={{ paddingTop: '50px', textAlign: 'center' }}>\r\n                                Please select a dataset\r\n                            </div>\r\n                        )}\r\n                </Grid>\r\n            </Grid>\r\n        </div >\r\n    )\r\n}\r\n","import React, { useState } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport Grid from '@material-ui/core/Grid';\r\n\r\nimport './LandingItem.css';\r\n\r\nconst LandingItem = props => {\r\n    let history = useHistory();\r\n    const [bgcolor, setBgcolor] = useState('#000000')\r\n    const [show, setShow] = useState(false)\r\n    const mouseEnter = () => {\r\n        setBgcolor('#424140')\r\n        setShow(true)\r\n    }\r\n\r\n    const mouseLeave = () => {\r\n        setBgcolor('#000000')\r\n        setShow(false)\r\n    }\r\n\r\n\r\n    return (\r\n        <Grid item lg={3} md={4} sm={6} xs={12} \r\n            style={{ backgroundColor: `${bgcolor}`}}\r\n            onMouseEnter={mouseEnter} \r\n            onMouseLeave={mouseLeave}\r\n        >\r\n            <div className=\"container\">\r\n                <img width=\"300\" height=\"200\" src={props.image} alt=\"Linear Regression\" />\r\n                <div className=\"buttondiv\">\r\n                    {show && <button onClick={() => {history.push(props.url)}} className=\"btn\">{props.name}</button>}\r\n                </div>             \r\n            </div>\r\n        </Grid>\r\n    )\r\n}\r\n\r\nexport default LandingItem","import React from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport github from './github.png';\r\nimport db from './db.svg';\r\nimport lr from './lr.png';\r\nimport fuzzyc from './fuzzyc.png';\r\nimport svm from './svm.png';\r\nimport hc from './hc.png';\r\nimport knn from './knn.svg';\r\nimport pca from './pca.svg';\r\nimport dt from './dt.svg';\r\nimport kmeans from './kmeans.svg';\r\nimport logo from '../utils/logo.png';\r\nimport LandingItem from './LandingItem';\r\nimport Link from '@material-ui/core/Link';\r\nimport Typography from '@material-ui/core/Typography';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n      color: '#FFFFFF',\r\n      paddingTop: '15px',\r\n    '& > * + *': {\r\n      marginLeft: theme.spacing(2),\r\n    },\r\n  },\r\n}));\r\n\r\nconst Landing = () => {\r\n    const classes = useStyles();\r\n    let history = useHistory();\r\n    \r\n    return (\r\n        <div \r\n            style={{ \r\n                padding: '10px',\r\n                minHeight: '100vh',\r\n                backgroundColor: 'black',\r\n                color: 'white', \r\n            }}>\r\n            <Grid container>\r\n                <Grid item lg={3} md={4} sm={6} xs={12}>\r\n                    <div onClick={() => {history.push('/dashboard')}} style={{ paddingTop: '40px', textAlign: 'center' }}>\r\n                        <img width=\"70\" height=\"70\" src={logo} alt=\"logo\" />\r\n                        <Typography style={{ paddingTop: '20px' }} variant=\"h5\">\r\n                            Reactive Miner\r\n                        </Typography>\r\n                        </div>\r\n                </Grid>\r\n                <LandingItem image={db} url=\"/dashboard\" name=\"Dashboard\" />\r\n                <LandingItem image={lr} url=\"/linreg\" name=\"Linear Regression\" />\r\n                <LandingItem image={svm} url=\"/svm\" name=\"Support Vector Machine\" />\r\n                <LandingItem image={pca} url=\"/pca\" name=\"Principal Component Analysis\" />\r\n                <LandingItem image={dt} url=\"/decision-tree\" name=\"Decision Tree\" />\r\n                <LandingItem image={knn} url=\"/knn\" name=\"K Nearest Neighbours\" />\r\n                <LandingItem image={hc} url=\"/hcluster\" name=\"Hierarchical Clustering\" />\r\n                <LandingItem image={kmeans} url=\"/kmeans\" name=\"KMeans Clustering\" />\r\n                <LandingItem image={fuzzyc} url=\"/fcmeans\" name=\"Fuzzy Cmeans Clustering\" />\r\n                <Grid item lg={3} md={4} sm={6} xs={12}>\r\n                    <div style={{ paddingTop: '80px', textAlign: 'center' }}>\r\n                        <img src={github} width=\"90\" height=\"90\" alt=\"github\" />\r\n                        <Typography className={classes.root}>\r\n                            <Link color=\"inherit\" href=\"https://github.com/pratikpc/Reactive-Miner\">\r\n                                Github\r\n                            </Link>\r\n                        </Typography>\r\n                    </div>\r\n                </Grid>\r\n            </Grid>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Landing;\r\n","import React, { useState, useCallback } from 'react';\r\nimport { \r\n  HashRouter as Router, \r\n  Route, \r\n  Redirect, \r\n  Switch\r\n} from 'react-router-dom';\r\nimport { ThemeProvider } from '@material-ui/styles';\r\nimport customTheme from './components/theme/theme.json';\r\nimport { createMuiTheme } from '@material-ui/core/styles';\r\nimport { csvContext } from './components/context/csv-context';\r\nimport Header from './components/utils/Header';\r\nimport Dashboard from './components/utils/Dashboard';\r\nimport LinearRegression from './components/linreg/LinearRegression';\r\nimport DecisionTree from './components/decisiontree/DecisionTree';\r\nimport HierarchicalClustering from './components/clustering/HC/HierarchicalClustering';\r\nimport Kmeans from './components/clustering/kmeans/Kmeans';\r\nimport Svm from './components/svm/Svm';\r\nimport KNN from './components/knn/KNN';\r\nimport PCAnalysis from './components/pca/PCAnalysis';\r\nimport FCMeans from './components/clustering/fcmeans/FCMeans';\r\nimport Landing from './components/landing/Landing';\r\n\r\n\r\nconst theme = createMuiTheme(customTheme);\r\n\r\nconst App = () => {\r\n  const [csv, setCsv] = useState();\r\n\r\n  const fetchCsv = useCallback((csv) => {\r\n    setCsv(csv);\r\n  }, []);\r\n\r\n  let routes = (\r\n      <Switch>\r\n          <Route path=\"/\" exact>\r\n            <Landing />\r\n          </Route>\r\n          <Route path=\"/dashboard\" exact>\r\n            <Header>              \r\n              <Dashboard />\r\n            </Header>\r\n          </Route>\r\n          <Route path=\"/linreg\" exact>\r\n            <Header>\r\n              <LinearRegression/>\r\n            </Header>\r\n          </Route>\r\n          <Route path=\"/decision-tree\" exact>\r\n            <Header>\r\n              <DecisionTree />\r\n            </Header>\r\n          </Route>\r\n          <Route path=\"/hcluster\" exact>\r\n            <Header>            \r\n              <HierarchicalClustering />\r\n            </Header>\r\n          </Route>\r\n          <Route path=\"/kmeans\" exact>\r\n            <Header>            \r\n              <Kmeans />\r\n            </Header>\r\n          </Route>\r\n          <Route path=\"/fcmeans\" exact>\r\n            <Header>\r\n              <FCMeans />\r\n            </Header>\r\n          </Route>\r\n          <Route path=\"/svm\" exact>\r\n            <Header>\r\n              <Svm />\r\n            </Header>\r\n          </Route>\r\n          <Route path=\"/knn\" exact>\r\n            <Header>\r\n              <KNN />\r\n            </Header>\r\n          </Route>\r\n          <Route path=\"/pca\" exact>\r\n            <Header>\r\n              <PCAnalysis />\r\n            </Header>\r\n          </Route>\r\n          <Redirect to=\"/\" />\r\n      </Switch>\r\n    )\r\n\r\n  return (\r\n      <ThemeProvider theme={theme}>\r\n        <csvContext.Provider\r\n          value={{\r\n            csv: csv,\r\n            fetchCsv: fetchCsv\r\n          }}\r\n        >\r\n          <Router>\r\n              {routes}\r\n          </Router>\r\n        </csvContext.Provider>\r\n      </ThemeProvider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n\r\nserviceWorker.register()"],"sourceRoot":""}